!function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);(this||window).CodeMirror=e()}}(function(){"use strict";function e(n,i){if(!(this instanceof e))return new e(n,i);this.options=i=i?Hr(i):{},Hr(Js,i,!1),f(i);var r=i.value;"string"==typeof r&&(r=new So(r,i.mode,null,i.lineSeparator)),this.doc=r;var s=new e.inputStyles[i.inputStyle](this),o=this.display=new t(n,r,s);o.wrapper.CodeMirror=this,c(this),a(this),i.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),i.autofocus&&!Es&&o.input.focus(),v(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Mr,keySeq:null,specialChars:null};var l=this;bs&&ys<11&&setTimeout(function(){l.display.input.reset(!0)},20),jt(this),Xr(),Ct(this),this.curOp.forceUpdate=!0,Yi(this,r),i.autofocus&&!Es||l.hasFocus()?setTimeout(Br(vn,this),20):bn(this);for(var u in eo)eo.hasOwnProperty(u)&&eo[u](this,i[u],to);_(this),i.finishInit&&i.finishInit(this);for(var d=0;d<so.length;++d)so[d](this);_t(this),Cs&&i.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function t(e,t,n){var i=this;this.input=n,i.scrollbarFiller=jr("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=jr("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=jr("div",null,"CodeMirror-code"),i.selectionDiv=jr("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=jr("div",null,"CodeMirror-cursors"),i.measure=jr("div",null,"CodeMirror-measure"),i.lineMeasure=jr("div",null,"CodeMirror-measure"),i.lineSpace=jr("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none"),i.mover=jr("div",[jr("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative"),i.sizer=jr("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=jr("div",null,null,"position: absolute; height: "+Po+"px; width: 1px;"),i.gutters=jr("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=jr("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=jr("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),bs&&ys<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),Cs||ms&&Es||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,n.init(i)}function n(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),i(t)}function i(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,We(e,100),e.state.modeGen++,e.curOp&&Pt(e)}function r(e){e.options.lineWrapping?(Qo(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Zo(e.display.wrapper,"CodeMirror-wrap"),h(e)),o(e),Pt(e),at(e),setTimeout(function(){b(e)},100)}function s(e){var t=bt(e.display),n=e.options.lineWrapping,i=n&&Math.max(5,e.display.scroller.clientWidth/yt(e.display)-3);return function(r){if(_i(e.doc,r))return 0;var s=0;if(r.widgets)for(var o=0;o<r.widgets.length;o++)r.widgets[o].height&&(s+=r.widgets[o].height);return n?s+(Math.ceil(r.text.length/i)||1)*t:s+t}}function o(e){var t=e.doc,n=s(e);t.iter(function(e){var t=n(e);t!=e.height&&er(e,t)})}function a(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),at(e)}function l(e){c(e),Pt(e),setTimeout(function(){x(e)},20)}function c(e){var t=e.display.gutters,n=e.options.gutters;Ur(t);for(var i=0;i<n.length;++i){var r=n[i],s=t.appendChild(jr("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(e.display.lineGutter=s,s.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=i?"":"none",u(e)}function u(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function d(e){if(0==e.height)return 0;for(var t,n=e.text.length,i=e;t=mi(i);){var r=t.find(0,!0);i=r.from.line,n+=r.from.ch-r.to.ch}for(i=e;t=gi(i);){var r=t.find(0,!0);n-=i.text.length-r.from.ch,i=r.to.line,n+=i.text.length-r.to.ch}return n}function h(e){var t=e.display,n=e.doc;t.maxLine=Zi(n,n.first),t.maxLineLength=d(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=d(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function f(e){var t=Dr(e.gutters,"CodeMirror-linenumbers");t==-1&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function p(e){var t=e.display,n=t.gutters.offsetWidth,i=Math.round(e.doc.height+qe(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+$e(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function m(e,t,n){this.cm=n;var i=this.vert=jr("div",[jr("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=jr("div",[jr("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(i),e(r),Mo(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),Mo(r,"scroll",function(){r.clientWidth&&t(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,bs&&ys<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function g(){}function v(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&Zo(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),Mo(e,"mousedown",function(){t.state.focused&&setTimeout(function(){t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,n){"horizontal"==n?sn(t,e):rn(t,e)},t),t.display.scrollbars.addClass&&Qo(t.display.wrapper,t.display.scrollbars.addClass)}function b(e,t){t||(t=p(e));var n=e.display.barWidth,i=e.display.barHeight;y(e,t);for(var r=0;r<4&&n!=e.display.barWidth||i!=e.display.barHeight;r++)n!=e.display.barWidth&&e.options.lineWrapping&&A(e),y(e,p(e)),n=e.display.barWidth,i=e.display.barHeight}function y(e,t){var n=e.display,i=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",n.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function C(e,t,n){var i=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;i=Math.floor(i-Ue(e));var r=n&&null!=n.bottom?n.bottom:i+e.wrapper.clientHeight,s=nr(t,i),o=nr(t,r);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;a<s?(s=a,o=nr(t,ir(Zi(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=o&&(s=nr(t,ir(Zi(t,l))-e.wrapper.clientHeight),o=l)}return{from:s,to:Math.max(o,s+1)}}function x(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var i=S(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,s=i+"px",o=0;o<n.length;o++)if(!n[o].hidden){e.options.fixedGutter&&n[o].gutter&&(n[o].gutter.style.left=s);var a=n[o].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=s}e.options.fixedGutter&&(t.gutters.style.left=i+r+"px")}}function _(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=w(e.options,t.first+t.size-1),i=e.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(jr("div",[jr("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),s=r.firstChild.offsetWidth,o=r.offsetWidth-s;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(s,i.lineGutter.offsetWidth-o)+1,i.lineNumWidth=i.lineNumInnerWidth+o,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",u(e),!0}return!1}function w(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function S(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function L(e,t,n){var i=e.display;this.viewport=t,this.visible=C(i,e.doc,t),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Ve(e),this.force=n,this.dims=D(e),this.events=[]}function k(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=$e(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=$e(e)+"px",t.scrollbarsClipped=!0)}function T(e,t){var n=e.display,i=e.doc;if(t.editorIsHidden)return Ht(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==zt(e))return!1;_(e)&&(Ht(e),t.dims=D(e));var r=i.first+i.size,s=Math.max(t.visible.from-e.options.viewportMargin,i.first),o=Math.min(r,t.visible.to+e.options.viewportMargin);n.viewFrom<s&&s-n.viewFrom<20&&(s=Math.max(i.first,n.viewFrom)),n.viewTo>o&&n.viewTo-o<20&&(o=Math.min(r,n.viewTo)),Rs&&(s=Ci(e.doc,s),o=xi(e.doc,o));var a=s!=n.viewFrom||o!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Ft(e,s,o),n.viewOffset=ir(Zi(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=zt(e);if(!a&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=Gr();return l>4&&(n.lineDiv.style.display="none"),O(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,c&&Gr()!=c&&c.offsetHeight&&c.focus(),Ur(n.cursorDiv),Ur(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,We(e,400)),n.updateLineNumbers=null,!0}function E(e,t){for(var n=t.viewport,i=!0;(i&&e.options.lineWrapping&&t.oldDisplayWidth!=Ve(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+qe(e.display)-Ke(e),n.top)}),t.visible=C(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&T(e,t);i=!1){A(e);var r=p(e);Oe(e),b(e,r),M(e,r)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function N(e,t){var n=new L(e,t);if(T(e,n)){A(e),E(e,n);var i=p(e);Oe(e),b(e,i),M(e,i),n.finish()}}function M(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+$e(e)+"px"}function A(e){for(var t=e.display,n=t.lineDiv.offsetTop,i=0;i<t.view.length;i++){var r,s=t.view[i];if(!s.hidden){if(bs&&ys<8){var o=s.node.offsetTop+s.node.offsetHeight;r=o-n,n=o}else{var a=s.node.getBoundingClientRect();r=a.bottom-a.top}var l=s.line.height-r;if(r<2&&(r=bt(t)),(l>.001||l<-.001)&&(er(s.line,r),I(s.line),s.rest))for(var c=0;c<s.rest.length;c++)I(s.rest[c])}}}function I(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function D(e){for(var t=e.display,n={},i={},r=t.gutters.clientLeft,s=t.gutters.firstChild,o=0;s;s=s.nextSibling,++o)n[e.options.gutters[o]]=s.offsetLeft+s.clientLeft+r,i[e.options.gutters[o]]=s.clientWidth;return{fixedPos:S(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function O(e,t,n){function i(t){var n=t.nextSibling;return Cs&&Ns&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var r=e.display,s=e.options.lineNumbers,o=r.lineDiv,a=o.firstChild,l=r.view,c=r.viewFrom,u=0;u<l.length;u++){var d=l[u];if(d.hidden);else if(d.node&&d.node.parentNode==o){for(;a!=d.node;)a=i(a);var h=s&&null!=t&&t<=c&&d.lineNumber;d.changes&&(Dr(d.changes,"gutter")>-1&&(h=!1),P(e,d,c,n)),h&&(Ur(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(w(e.options,c)))),a=d.node.nextSibling}else{var f=U(e,d,c,n);o.insertBefore(f,a)}c+=d.size}for(;a;)a=i(a)}function P(e,t,n,i){for(var r=0;r<t.changes.length;r++){var s=t.changes[r];"text"==s?W(e,t):"gutter"==s?z(e,t,n,i):"class"==s?F(t):"widget"==s&&j(e,t,i)}t.changes=null}function R(e){return e.node==e.text&&(e.node=jr("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),bs&&ys<8&&(e.node.style.zIndex=2)),e.node}function H(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=R(e);e.background=n.insertBefore(jr("div",null,t),n.firstChild)}}function B(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Bi(e,t)}function W(e,t){var n=t.text.className,i=B(e,t);t.text==t.node&&(t.node=i.pre),t.text.parentNode.replaceChild(i.pre,t.text),t.text=i.pre,i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,F(t)):n&&(t.text.className=n)}function F(e){H(e),e.line.wrapClass?R(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function z(e,t,n,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var r=R(t);t.gutterBackground=jr("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),r.insertBefore(t.gutterBackground,t.text)}var s=t.line.gutterMarkers;if(e.options.lineNumbers||s){var r=R(t),o=t.gutter=jr("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(o),r.insertBefore(o,t.text),t.line.gutterClass&&(o.className+=" "+t.line.gutterClass),!e.options.lineNumbers||s&&s["CodeMirror-linenumbers"]||(t.lineNumber=o.appendChild(jr("div",w(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),s)for(var a=0;a<e.options.gutters.length;++a){var l=e.options.gutters[a],c=s.hasOwnProperty(l)&&s[l];c&&o.appendChild(jr("div",[c],"CodeMirror-gutter-elt","left: "+i.gutterLeft[l]+"px; width: "+i.gutterWidth[l]+"px"))}}}function j(e,t,n){t.alignable&&(t.alignable=null);for(var i,r=t.node.firstChild;r;r=i){var i=r.nextSibling;"CodeMirror-linewidget"==r.className&&t.node.removeChild(r)}q(e,t,n)}function U(e,t,n,i){var r=B(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),F(t),z(e,t,n,i),q(e,t,i),t.node}function q(e,t,n){if(G(e,t.line,t,n,!0),t.rest)for(var i=0;i<t.rest.length;i++)G(e,t.rest[i],t,n,!1)}function G(e,t,n,i,r){if(t.widgets)for(var s=R(n),o=0,a=t.widgets;o<a.length;++o){var l=a[o],c=jr("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),$(l,c,n,i),e.display.input.setUneditable(c),r&&l.above?s.insertBefore(c,n.gutter||n.text):s.appendChild(c),Sr(l,"redraw")}}function $(e,t,n,i){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var r=i.wrapperWidth;t.style.left=i.fixedPos+"px",e.coverGutter||(r-=i.gutterTotalWidth,t.style.paddingLeft=i.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-i.gutterTotalWidth+"px"))}function V(e){return Hs(e.line,e.ch)}function K(e,t){return Bs(e,t)<0?t:e}function X(e,t){return Bs(e,t)<0?e:t}function Y(e){e.state.focused||(e.display.input.focus(),vn(e))}function Z(e,t,n,i,r){var s=e.doc;e.display.shift=!1,i||(i=s.sel);var o=e.state.pasteIncoming||"paste"==r,a=s.splitLines(t),l=null;if(o&&i.ranges.length>1)if(Ws&&Ws.join("\n")==t){if(i.ranges.length%Ws.length==0){l=[];for(var c=0;c<Ws.length;c++)l.push(s.splitLines(Ws[c]))}}else a.length==i.ranges.length&&(l=Or(a,function(e){return[e]}));for(var c=i.ranges.length-1;c>=0;c--){var u=i.ranges[c],d=u.from(),h=u.to();u.empty()&&(n&&n>0?d=Hs(d.line,d.ch-n):e.state.overwrite&&!o&&(h=Hs(h.line,Math.min(Zi(s,h.line).text.length,h.ch+Ir(a).length))));var f=e.curOp.updateInput,p={from:d,to:h,text:l?l[c%l.length]:a,origin:r||(o?"paste":e.state.cutIncoming?"cut":"+input")};kn(e.doc,p),Sr(e,"inputRead",e,p)}t&&!o&&J(e,t),Bn(e),e.curOp.updateInput=f,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Q(e,t){var n=e.clipboardData&&e.clipboardData.getData("text/plain");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Nt(t,function(){Z(t,n,0,null,"paste")}),!0}function J(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(!(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line)){var s=e.getModeAt(r.head),o=!1;if(s.electricChars){for(var a=0;a<s.electricChars.length;a++)if(t.indexOf(s.electricChars.charAt(a))>-1){o=Fn(e,r.head.line,"smart");break}}else s.electricInput&&s.electricInput.test(Zi(e.doc,r.head.line).text.slice(0,r.head.ch))&&(o=Fn(e,r.head.line,"smart"));o&&Sr(e,"electricInput",e,r.head.line)}}}function ee(e){for(var t=[],n=[],i=0;i<e.doc.sel.ranges.length;i++){var r=e.doc.sel.ranges[i].head.line,s={anchor:Hs(r,0),head:Hs(r+1,0)};n.push(s),t.push(e.getRange(s.anchor,s.head))}return{text:t,ranges:n}}function te(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function ne(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Mr,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function ie(){var e=jr("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=jr("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return Cs?e.style.width="1000px":e.setAttribute("wrap","off"),Ts&&(e.style.border="1px solid black"),te(e),t}function re(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Mr,this.gracePeriod=!1}function se(e,t){var n=Je(e,t.line);if(!n||n.hidden)return null;var i=Zi(e.doc,t.line),r=Ye(n,i,t.line),s=rr(i),o="left";if(s){var a=cs(s,t.ch);o=a%2?"right":"left"}var l=nt(r.map,t.ch,o);return l.offset="right"==l.collapse?l.end:l.start,l}function oe(e,t){return t&&(e.bad=!0),e}function ae(e,t,n){var i;if(t==e.display.lineDiv){if(i=e.display.lineDiv.childNodes[n],!i)return oe(e.clipPos(Hs(e.display.viewTo-1)),!0);t=null,n=0}else for(i=t;;i=i.parentNode){if(!i||i==e.display.lineDiv)return null;if(i.parentNode&&i.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var s=e.display.view[r];if(s.node==i)return le(s,t,n)}}function le(e,t,n){function i(t,n,i){for(var r=-1;r<(u?u.length:0);r++)for(var s=r<0?c.map:u[r],o=0;o<s.length;o+=3){var a=s[o+2];if(a==t||a==n){var l=tr(r<0?e.line:e.rest[r]),d=s[o]+i;return(i<0||a!=t)&&(d=s[o+(i?1:0)]),Hs(l,d)}}}var r=e.text.firstChild,s=!1;if(!t||!Ko(r,t))return oe(Hs(tr(e.line),0),!0);if(t==r&&(s=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?Ir(e.rest):e.line;return oe(Hs(tr(o),o.text.length),s)}var a=3==t.nodeType?t:null,l=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));l.parentNode!=r;)l=l.parentNode;var c=e.measure,u=c.maps,d=i(a,l,n);if(d)return oe(d,s);for(var h=l.nextSibling,f=a?a.nodeValue.length-n:0;h;h=h.nextSibling){if(d=i(h,h.firstChild,0))return oe(Hs(d.line,d.ch-f),s);f+=h.textContent.length}for(var p=l.previousSibling,f=n;p;p=p.previousSibling){if(d=i(p,p.firstChild,-1))return oe(Hs(d.line,d.ch+f),s);f+=h.textContent.length}}function ce(e,t,n,i,r){function s(e){return function(t){return t.id==e}}function o(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return""==n&&(n=t.textContent.replace(/\u200b/g,"")),void(a+=n);var u,d=t.getAttribute("cm-marker");if(d){var h=e.findMarks(Hs(i,0),Hs(r+1,0),s(+d));return void(h.length&&(u=h[0].find())&&(a+=Qi(e.doc,u.from,u.to).join(c)))}if("false"==t.getAttribute("contenteditable"))return;for(var f=0;f<t.childNodes.length;f++)o(t.childNodes[f]);/^(pre|div|p)$/i.test(t.nodeName)&&(l=!0)}else if(3==t.nodeType){var p=t.nodeValue;if(!p)return;l&&(a+=c,l=!1),a+=p}}for(var a="",l=!1,c=e.doc.lineSeparator();o(t),t!=n;)t=t.nextSibling;return a}function ue(e,t){this.ranges=e,this.primIndex=t}function de(e,t){this.anchor=e,this.head=t}function he(e,t){var n=e[t];e.sort(function(e,t){return Bs(e.from(),t.from())}),t=Dr(e,n);for(var i=1;i<e.length;i++){var r=e[i],s=e[i-1];if(Bs(s.to(),r.from())>=0){var o=X(s.from(),r.from()),a=K(s.to(),r.to()),l=s.empty()?r.from()==r.head:s.from()==s.head;i<=t&&--t,e.splice(--i,2,new de(l?a:o,l?o:a))}}return new ue(e,t)}function fe(e,t){return new ue([new de(e,t||e)],0)}function pe(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function me(e,t){if(t.line<e.first)return Hs(e.first,0);var n=e.first+e.size-1;return t.line>n?Hs(n,Zi(e,n).text.length):ge(t,Zi(e,t.line).text.length)}function ge(e,t){var n=e.ch;return null==n||n>t?Hs(e.line,t):n<0?Hs(e.line,0):e}function ve(e,t){return t>=e.first&&t<e.first+e.size}function be(e,t){for(var n=[],i=0;i<t.length;i++)n[i]=me(e,t[i]);return n}function ye(e,t,n,i){if(e.cm&&e.cm.display.shift||e.extend){var r=t.anchor;if(i){var s=Bs(n,r)<0;s!=Bs(i,r)<0?(r=n,n=i):s!=Bs(n,i)<0&&(n=i)}return new de(r,n)}return new de(i||n,n)}function Ce(e,t,n,i){ke(e,new ue([ye(e,e.sel.primary(),t,n)],0),i)}function xe(e,t,n){for(var i=[],r=0;r<e.sel.ranges.length;r++)i[r]=ye(e,e.sel.ranges[r],t[r],null);var s=he(i,e.sel.primIndex);ke(e,s,n)}function _e(e,t,n,i){var r=e.sel.ranges.slice(0);r[t]=n,ke(e,he(r,e.sel.primIndex),i)}function we(e,t,n,i){ke(e,fe(t,n),i)}function Se(e,t,n){var i={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new de(me(e,t[n].anchor),me(e,t[n].head))},origin:n&&n.origin};return Do(e,"beforeSelectionChange",e,i),e.cm&&Do(e.cm,"beforeSelectionChange",e.cm,i),i.ranges!=t.ranges?he(i.ranges,i.ranges.length-1):t}function Le(e,t,n){var i=e.history.done,r=Ir(i);r&&r.ranges?(i[i.length-1]=t,Te(e,t,n)):ke(e,t,n)}function ke(e,t,n){Te(e,t,n),dr(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Te(e,t,n){(Er(e,"beforeSelectionChange")||e.cm&&Er(e.cm,"beforeSelectionChange"))&&(t=Se(e,t,n));var i=n&&n.bias||(Bs(t.primary().head,e.sel.primary().head)<0?-1:1);Ee(e,Me(e,t,i,!0)),n&&n.scroll===!1||!e.cm||Bn(e.cm)}function Ee(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Tr(e.cm)),Sr(e,"cursorActivity",e))}function Ne(e){Ee(e,Me(e,e.sel,null,!1),Ho)}function Me(e,t,n,i){for(var r,s=0;s<t.ranges.length;s++){var o=t.ranges[s],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[s],l=Ie(e,o.anchor,a&&a.anchor,n,i),c=Ie(e,o.head,a&&a.head,n,i);(r||l!=o.anchor||c!=o.head)&&(r||(r=t.ranges.slice(0,s)),r[s]=new de(l,c))}return r?he(r,t.primIndex):t}function Ae(e,t,n,i,r){var s=Zi(e,t.line);if(s.markedSpans)for(var o=0;o<s.markedSpans.length;++o){var a=s.markedSpans[o],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(l.inclusiveRight?a.to>=t.ch:a.to>t.ch))){if(r&&(Do(l,"beforeCursorEnter"),l.explicitlyCleared)){if(s.markedSpans){--o;continue}break}if(!l.atomic)continue;if(n){var c,u=l.find(i<0?1:-1);if((i<0?l.inclusiveRight:l.inclusiveLeft)&&(u=De(e,u,-i,u&&u.line==t.line?s:null)),u&&u.line==t.line&&(c=Bs(u,n))&&(i<0?c<0:c>0))return Ae(e,u,t,i,r)}var d=l.find(i<0?-1:1);return(i<0?l.inclusiveLeft:l.inclusiveRight)&&(d=De(e,d,i,d.line==t.line?s:null)),d?Ae(e,d,t,i,r):null}}return t}function Ie(e,t,n,i,r){var s=i||1,o=Ae(e,t,n,s,r)||!r&&Ae(e,t,n,s,!0)||Ae(e,t,n,-s,r)||!r&&Ae(e,t,n,-s,!0);return o?o:(e.cantEdit=!0,Hs(e.first,0))}function De(e,t,n,i){return n<0&&0==t.ch?t.line>e.first?me(e,Hs(t.line-1)):null:n>0&&t.ch==(i||Zi(e,t.line)).text.length?t.line<e.first+e.size-1?Hs(t.line+1,0):null:new Hs(t.line,t.ch+n)}function Oe(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Pe(e,t){for(var n=e.doc,i={},r=i.cursors=document.createDocumentFragment(),s=i.selection=document.createDocumentFragment(),o=0;o<n.sel.ranges.length;o++)if(t!==!1||o!=n.sel.primIndex){var a=n.sel.ranges[o];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var l=a.empty();(l||e.options.showCursorWhenSelecting)&&Re(e,a.head,r),l||He(e,a,s)}}return i}function Re(e,t,n){var i=ft(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),r=n.appendChild(jr("div"," ","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var s=n.appendChild(jr("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));s.style.display="",s.style.left=i.other.left+"px",s.style.top=i.other.top+"px",s.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function He(e,t,n){function i(e,t,n,i){t<0&&(t=0),t=Math.round(t),i=Math.round(i),a.appendChild(jr("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?u-e:n)+"px; height: "+(i-t)+"px"))}function r(t,n,r){function s(n,i){return ht(e,Hs(t,n),"div",d,i)}var a,l,d=Zi(o,t),h=d.text.length;return es(rr(d),n||0,null==r?h:r,function(e,t,o){var d,f,p,m=s(e,"left");if(e==t)d=m,f=p=m.left;else{if(d=s(t-1,"right"),"rtl"==o){var g=m;m=d,d=g}f=m.left,p=d.right}null==n&&0==e&&(f=c),d.top-m.top>3&&(i(f,m.top,null,m.bottom),f=c,m.bottom<d.top&&i(f,m.bottom,null,d.top)),null==r&&t==h&&(p=u),(!a||m.top<a.top||m.top==a.top&&m.left<a.left)&&(a=m),(!l||d.bottom>l.bottom||d.bottom==l.bottom&&d.right>l.right)&&(l=d),f<c+1&&(f=c),i(f,d.top,p-f,d.bottom)}),{start:a,end:l}}var s=e.display,o=e.doc,a=document.createDocumentFragment(),l=Ge(e.display),c=l.left,u=Math.max(s.sizerWidth,Ve(e)-s.sizer.offsetLeft)-l.right,d=t.from(),h=t.to();if(d.line==h.line)r(d.line,d.ch,h.ch);else{var f=Zi(o,d.line),p=Zi(o,h.line),m=bi(f)==bi(p),g=r(d.line,d.ch,m?f.text.length+1:null).end,v=r(h.line,m?0:null,h.ch).start;m&&(g.top<v.top-2?(i(g.right,g.top,null,g.bottom),i(c,v.top,v.left,v.bottom)):i(g.right,g.top,v.left-g.right,g.bottom)),g.bottom<v.top&&i(c,g.bottom,null,v.top)}n.appendChild(a)}function Be(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function We(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,Br(Fe,e))}function Fe(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,i=ao(t.mode,je(e,t.frontier)),r=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(s){if(t.frontier>=e.display.viewFrom){var o=s.styles,a=s.text.length>e.options.maxHighlightLength,l=Oi(e,s,a?ao(t.mode,i):i,!0);s.styles=l.styles;var c=s.styleClasses,u=l.classes;u?s.styleClasses=u:c&&(s.styleClasses=null);for(var d=!o||o.length!=s.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),h=0;!d&&h<o.length;++h)d=o[h]!=s.styles[h];d&&r.push(t.frontier),s.stateAfter=a?i:ao(t.mode,i)}else s.text.length<=e.options.maxHighlightLength&&Ri(e,s.text,i),s.stateAfter=t.frontier%5==0?ao(t.mode,i):null;if(++t.frontier,+new Date>n)return We(e,e.options.workDelay),!0}),r.length&&Nt(e,function(){for(var t=0;t<r.length;t++)Rt(e,r[t],"text")})}}function ze(e,t,n){for(var i,r,s=e.doc,o=n?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>o;--a){if(a<=s.first)return s.first;var l=Zi(s,a-1);if(l.stateAfter&&(!n||a<=s.frontier))return a;var c=Fo(l.text,null,e.options.tabSize);(null==r||i>c)&&(r=a-1,i=c)}return r}function je(e,t,n){var i=e.doc,r=e.display;if(!i.mode.startState)return!0;var s=ze(e,t,n),o=s>i.first&&Zi(i,s-1).stateAfter;return o=o?ao(i.mode,o):lo(i.mode),i.iter(s,t,function(n){Ri(e,n.text,o);var a=s==t-1||s%5==0||s>=r.viewFrom&&s<r.viewTo;n.stateAfter=a?ao(i.mode,o):null,++s}),n&&(i.frontier=s),o}function Ue(e){return e.lineSpace.offsetTop}function qe(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Ge(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=qr(e.measure,jr("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(e.cachedPaddingH=i),i}function $e(e){return Po-e.display.nativeBarWidth}function Ve(e){return e.display.scroller.clientWidth-$e(e)-e.display.barWidth}function Ke(e){return e.display.scroller.clientHeight-$e(e)-e.display.barHeight}function Xe(e,t,n){var i=e.options.lineWrapping,r=i&&Ve(e);if(!t.measure.heights||i&&t.measure.width!=r){var s=t.measure.heights=[];if(i){t.measure.width=r;for(var o=t.text.firstChild.getClientRects(),a=0;a<o.length-1;a++){var l=o[a],c=o[a+1];Math.abs(l.bottom-c.bottom)>2&&s.push((l.bottom+c.top)/2-n.top)}}s.push(n.bottom-n.top)}}function Ye(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var i=0;i<e.rest.length;i++)if(e.rest[i]==t)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var i=0;i<e.rest.length;i++)if(tr(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Ze(e,t){t=bi(t);var n=tr(t),i=e.display.externalMeasured=new Dt(e.doc,t,n);i.lineN=n;var r=i.built=Bi(e,i);return i.text=r.pre,qr(e.display.lineMeasure,r.pre),i}function Qe(e,t,n,i){return tt(e,et(e,t),n,i)}function Je(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Bt(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function et(e,t){var n=tr(t),i=Je(e,n);i&&!i.text?i=null:i&&i.changes&&(P(e,i,n,D(e)),e.curOp.forceUpdate=!0),i||(i=Ze(e,t));var r=Ye(i,t,n);return{line:t,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function tt(e,t,n,i,r){t.before&&(n=-1);var s,o=n+(i||"");return t.cache.hasOwnProperty(o)?s=t.cache[o]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Xe(e,t.view,t.rect),t.hasHeights=!0),s=it(e,t,n,i),s.bogus||(t.cache[o]=s)),{left:s.left,right:s.right,top:r?s.rtop:s.top,bottom:r?s.rbottom:s.bottom}}function nt(e,t,n){for(var i,r,s,o,a=0;a<e.length;a+=3){var l=e[a],c=e[a+1];if(t<l?(r=0,s=1,o="left"):t<c?(r=t-l,s=r+1):(a==e.length-3||t==c&&e[a+3]>t)&&(s=c-l,r=s-1,t>=c&&(o="right")),null!=r){if(i=e[a+2],
l==c&&n==(i.insertLeft?"left":"right")&&(o=n),"left"==n&&0==r)for(;a&&e[a-2]==e[a-3]&&e[a-1].insertLeft;)i=e[(a-=3)+2],o="left";if("right"==n&&r==c-l)for(;a<e.length-3&&e[a+3]==e[a+4]&&!e[a+5].insertLeft;)i=e[(a+=3)+2],o="right";break}}return{node:i,start:r,end:s,collapse:o,coverStart:l,coverEnd:c}}function it(e,t,n,i){var r,s=nt(t.map,n,i),o=s.node,a=s.start,l=s.end,c=s.collapse;if(3==o.nodeType){for(var u=0;u<4;u++){for(;a&&zr(t.line.text.charAt(s.coverStart+a));)--a;for(;s.coverStart+l<s.coverEnd&&zr(t.line.text.charAt(s.coverStart+l));)++l;if(bs&&ys<9&&0==a&&l==s.coverEnd-s.coverStart)r=o.parentNode.getBoundingClientRect();else if(bs&&e.options.lineWrapping){var d=qo(o,a,l).getClientRects();r=d.length?d["right"==i?d.length-1:0]:Us}else r=qo(o,a,l).getBoundingClientRect()||Us;if(r.left||r.right||0==a)break;l=a,a-=1,c="right"}bs&&ys<11&&(r=rt(e.display.measure,r))}else{a>0&&(c=i="right");var d;r=e.options.lineWrapping&&(d=o.getClientRects()).length>1?d["right"==i?d.length-1:0]:o.getBoundingClientRect()}if(bs&&ys<9&&!a&&(!r||!r.left&&!r.right)){var h=o.parentNode.getClientRects()[0];r=h?{left:h.left,right:h.left+yt(e.display),top:h.top,bottom:h.bottom}:Us}for(var f=r.top-t.rect.top,p=r.bottom-t.rect.top,m=(f+p)/2,g=t.view.measure.heights,u=0;u<g.length-1&&!(m<g[u]);u++);var v=u?g[u-1]:0,b=g[u],y={left:("right"==c?r.right:r.left)-t.rect.left,right:("left"==c?r.left:r.right)-t.rect.left,top:v,bottom:b};return r.left||r.right||(y.bogus=!0),e.options.singleCursorHeightPerLine||(y.rtop=f,y.rbottom=p),y}function rt(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Jr(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*i,bottom:t.bottom*i}}function st(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function ot(e){e.display.externalMeasure=null,Ur(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)st(e.display.view[t])}function at(e){ot(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function lt(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ct(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ut(e,t,n,i){if(t.widgets)for(var r=0;r<t.widgets.length;++r)if(t.widgets[r].above){var s=Li(t.widgets[r]);n.top+=s,n.bottom+=s}if("line"==i)return n;i||(i="local");var o=ir(t);if("local"==i?o+=Ue(e.display):o-=e.display.viewOffset,"page"==i||"window"==i){var a=e.display.lineSpace.getBoundingClientRect();o+=a.top+("window"==i?0:ct());var l=a.left+("window"==i?0:lt());n.left+=l,n.right+=l}return n.top+=o,n.bottom+=o,n}function dt(e,t,n){if("div"==n)return t;var i=t.left,r=t.top;if("page"==n)i-=lt(),r-=ct();else if("local"==n||!n){var s=e.display.sizer.getBoundingClientRect();i+=s.left,r+=s.top}var o=e.display.lineSpace.getBoundingClientRect();return{left:i-o.left,top:r-o.top}}function ht(e,t,n,i,r){return i||(i=Zi(e.doc,t.line)),ut(e,i,Qe(e,i,t.ch,r),n)}function ft(e,t,n,i,r,s){function o(t,o){var a=tt(e,r,t,o?"right":"left",s);return o?a.left=a.right:a.right=a.left,ut(e,i,a,n)}function a(e,t){var n=l[t],i=n.level%2;return e==ts(n)&&t&&n.level<l[t-1].level?(n=l[--t],e=ns(n)-(n.level%2?0:1),i=!0):e==ns(n)&&t<l.length-1&&n.level<l[t+1].level&&(n=l[++t],e=ts(n)-n.level%2,i=!1),i&&e==n.to&&e>n.from?o(e-1):o(e,i)}i=i||Zi(e.doc,t.line),r||(r=et(e,i));var l=rr(i),c=t.ch;if(!l)return o(c);var u=cs(l,c),d=a(c,u);return null!=oa&&(d.other=a(c,oa)),d}function pt(e,t){var n=0,t=me(e.doc,t);e.options.lineWrapping||(n=yt(e.display)*t.ch);var i=Zi(e.doc,t.line),r=ir(i)+Ue(e.display);return{left:n,right:n,top:r,bottom:r+i.height}}function mt(e,t,n,i){var r=Hs(e,t);return r.xRel=i,n&&(r.outside=!0),r}function gt(e,t,n){var i=e.doc;if(n+=e.display.viewOffset,n<0)return mt(i.first,0,!0,-1);var r=nr(i,n),s=i.first+i.size-1;if(r>s)return mt(i.first+i.size-1,Zi(i,s).text.length,!0,1);t<0&&(t=0);for(var o=Zi(i,r);;){var a=vt(e,o,r,t,n),l=gi(o),c=l&&l.find(0,!0);if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;r=tr(o=c.to.line)}}function vt(e,t,n,i,r){function s(i){var r=ft(e,Hs(n,i),"line",t,c);return a=!0,o>r.bottom?r.left-l:o<r.top?r.left+l:(a=!1,r.left)}var o=r-ir(t),a=!1,l=2*e.display.wrapper.clientWidth,c=et(e,t),u=rr(t),d=t.text.length,h=is(t),f=rs(t),p=s(h),m=a,g=s(f),v=a;if(i>g)return mt(n,f,v,1);for(;;){if(u?f==h||f==ds(t,h,1):f-h<=1){for(var b=i<p||i-p<=g-i?h:f,y=i-(b==h?p:g);zr(t.text.charAt(b));)++b;var C=mt(n,b,b==h?m:v,y<-1?-1:y>1?1:0);return C}var x=Math.ceil(d/2),_=h+x;if(u){_=h;for(var w=0;w<x;++w)_=ds(t,_,1)}var S=s(_);S>i?(f=_,g=S,(v=a)&&(g+=1e3),d=x):(h=_,p=S,m=a,d-=x)}}function bt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Fs){Fs=jr("pre");for(var t=0;t<49;++t)Fs.appendChild(document.createTextNode("x")),Fs.appendChild(jr("br"));Fs.appendChild(document.createTextNode("x"))}qr(e.measure,Fs);var n=Fs.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),Ur(e.measure),n||1}function yt(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=jr("span","xxxxxxxxxx"),n=jr("pre",[t]);qr(e.measure,n);var i=t.getBoundingClientRect(),r=(i.right-i.left)/10;return r>2&&(e.cachedCharWidth=r),r||10}function Ct(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Gs},qs?qs.ops.push(e.curOp):e.curOp.ownsGroup=qs={ops:[e.curOp],delayedCallbacks:[]}}function xt(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var i=0;i<e.ops.length;i++){var r=e.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<t.length)}function _t(e){var t=e.curOp,n=t.ownsGroup;if(n)try{xt(n)}finally{qs=null;for(var i=0;i<n.ops.length;i++)n.ops[i].cm.curOp=null;wt(n)}}function wt(e){for(var t=e.ops,n=0;n<t.length;n++)St(t[n]);for(var n=0;n<t.length;n++)Lt(t[n]);for(var n=0;n<t.length;n++)kt(t[n]);for(var n=0;n<t.length;n++)Tt(t[n]);for(var n=0;n<t.length;n++)Et(t[n])}function St(e){var t=e.cm,n=t.display;k(t),e.updateMaxLine&&h(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new L(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Lt(e){e.updatedDisplay=e.mustUpdate&&T(e.cm,e.update)}function kt(e){var t=e.cm,n=t.display;e.updatedDisplay&&A(t),e.barMeasure=p(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Qe(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+$e(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Ve(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Tt(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&sn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1),e.preparedSelection&&t.display.input.showSelection(e.preparedSelection),(e.updatedDisplay||e.startHeight!=t.doc.height)&&b(t,e.barMeasure),e.updatedDisplay&&M(t,e.barMeasure),e.selectionChanged&&Be(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),!e.focus||e.focus!=Gr()||document.hasFocus&&!document.hasFocus()||Y(e.cm)}function Et(e){var t=e.cm,n=t.display,i=t.doc;if(e.updatedDisplay&&E(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==e.scrollTop||n.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(i.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(i.scrollTop),n.scroller.scrollTop=i.scrollTop),null==e.scrollLeft||n.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(i.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,e.scrollLeft)),n.scrollbars.setScrollLeft(i.scrollLeft),n.scroller.scrollLeft=i.scrollLeft,x(t)),e.scrollToPos){var r=On(t,me(i,e.scrollToPos.from),me(i,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&Dn(t,r)}var s=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(s)for(var a=0;a<s.length;++a)s[a].lines.length||Do(s[a],"hide");if(o)for(var a=0;a<o.length;++a)o[a].lines.length&&Do(o[a],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Do(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Nt(e,t){if(e.curOp)return t();Ct(e);try{return t()}finally{_t(e)}}function Mt(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Ct(e);try{return t.apply(e,arguments)}finally{_t(e)}}}function At(e){return function(){if(this.curOp)return e.apply(this,arguments);Ct(this);try{return e.apply(this,arguments)}finally{_t(this)}}}function It(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Ct(t);try{return e.apply(this,arguments)}finally{_t(t)}}}function Dt(e,t,n){this.line=t,this.rest=yi(t),this.size=this.rest?tr(Ir(this.rest))-n+1:1,this.node=this.text=null,this.hidden=_i(e,t)}function Ot(e,t,n){for(var i,r=[],s=t;s<n;s=i){var o=new Dt(e.doc,Zi(e.doc,s),s);i=s+o.size,r.push(o)}return r}function Pt(e,t,n,i){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),i||(i=0);var r=e.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)Rs&&Ci(e.doc,t)<r.viewTo&&Ht(e);else if(n<=r.viewFrom)Rs&&xi(e.doc,n+i)>r.viewFrom?Ht(e):(r.viewFrom+=i,r.viewTo+=i);else if(t<=r.viewFrom&&n>=r.viewTo)Ht(e);else if(t<=r.viewFrom){var s=Wt(e,n,n+i,1);s?(r.view=r.view.slice(s.index),r.viewFrom=s.lineN,r.viewTo+=i):Ht(e)}else if(n>=r.viewTo){var s=Wt(e,t,t,-1);s?(r.view=r.view.slice(0,s.index),r.viewTo=s.lineN):Ht(e)}else{var o=Wt(e,t,t,-1),a=Wt(e,n,n+i,1);o&&a?(r.view=r.view.slice(0,o.index).concat(Ot(e,o.lineN,a.lineN)).concat(r.view.slice(a.index)),r.viewTo+=i):Ht(e)}var l=r.externalMeasured;l&&(n<l.lineN?l.lineN+=i:t<l.lineN+l.size&&(r.externalMeasured=null))}function Rt(e,t,n){e.curOp.viewChanged=!0;var i=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(i.externalMeasured=null),!(t<i.viewFrom||t>=i.viewTo)){var s=i.view[Bt(e,t)];if(null!=s.node){var o=s.changes||(s.changes=[]);Dr(o,n)==-1&&o.push(n)}}}function Ht(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Bt(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,t<0)return null;for(var n=e.display.view,i=0;i<n.length;i++)if(t-=n[i].size,t<0)return i}function Wt(e,t,n,i){var r,s=Bt(e,t),o=e.display.view;if(!Rs||n==e.doc.first+e.doc.size)return{index:s,lineN:n};for(var a=0,l=e.display.viewFrom;a<s;a++)l+=o[a].size;if(l!=t){if(i>0){if(s==o.length-1)return null;r=l+o[s].size-t,s++}else r=l-t;t+=r,n+=r}for(;Ci(e.doc,n)!=n;){if(s==(i<0?0:o.length-1))return null;n+=i*o[s-(i<0?1:0)].size,s+=i}return{index:s,lineN:n}}function Ft(e,t,n){var i=e.display,r=i.view;0==r.length||t>=i.viewTo||n<=i.viewFrom?(i.view=Ot(e,t,n),i.viewFrom=t):(i.viewFrom>t?i.view=Ot(e,t,i.viewFrom).concat(i.view):i.viewFrom<t&&(i.view=i.view.slice(Bt(e,t))),i.viewFrom=t,i.viewTo<n?i.view=i.view.concat(Ot(e,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,Bt(e,n)))),i.viewTo=n}function zt(e){for(var t=e.display.view,n=0,i=0;i<t.length;i++){var r=t[i];r.hidden||r.node&&!r.changes||++n}return n}function jt(e){function t(){r.activeTouch&&(s=setTimeout(function(){r.activeTouch=null},1e3),o=r.activeTouch,o.end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function i(e,t){if(null==t.left)return!0;var n=t.left-e.left,i=t.top-e.top;return n*n+i*i>400}var r=e.display;Mo(r.scroller,"mousedown",Mt(e,Vt)),bs&&ys<11?Mo(r.scroller,"dblclick",Mt(e,function(t){if(!kr(e,t)){var n=$t(e,t);if(n&&!Qt(e,t)&&!Gt(e.display,t)){To(t);var i=e.findWordAt(n);Ce(e.doc,i.anchor,i.head)}}})):Mo(r.scroller,"dblclick",function(t){kr(e,t)||To(t)}),Os||Mo(r.scroller,"contextmenu",function(t){yn(e,t)});var s,o={end:0};Mo(r.scroller,"touchstart",function(t){if(!kr(e,t)&&!n(t)){clearTimeout(s);var i=+new Date;r.activeTouch={start:i,moved:!1,prev:i-o.end<=300?o:null},1==t.touches.length&&(r.activeTouch.left=t.touches[0].pageX,r.activeTouch.top=t.touches[0].pageY)}}),Mo(r.scroller,"touchmove",function(){r.activeTouch&&(r.activeTouch.moved=!0)}),Mo(r.scroller,"touchend",function(n){var s=r.activeTouch;if(s&&!Gt(r,n)&&null!=s.left&&!s.moved&&new Date-s.start<300){var o,a=e.coordsChar(r.activeTouch,"page");o=!s.prev||i(s,s.prev)?new de(a,a):!s.prev.prev||i(s,s.prev.prev)?e.findWordAt(a):new de(Hs(a.line,0),me(e.doc,Hs(a.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),To(n)}t()}),Mo(r.scroller,"touchcancel",t),Mo(r.scroller,"scroll",function(){r.scroller.clientHeight&&(rn(e,r.scroller.scrollTop),sn(e,r.scroller.scrollLeft,!0),Do(e,"scroll",e))}),Mo(r.scroller,"mousewheel",function(t){on(e,t)}),Mo(r.scroller,"DOMMouseScroll",function(t){on(e,t)}),Mo(r.wrapper,"scroll",function(){r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),r.dragFunctions={enter:function(t){kr(e,t)||No(t)},over:function(t){kr(e,t)||(tn(e,t),No(t))},start:function(t){en(e,t)},drop:Mt(e,Jt),leave:function(t){kr(e,t)||nn(e)}};var a=r.input.getField();Mo(a,"keyup",function(t){pn.call(e,t)}),Mo(a,"keydown",Mt(e,hn)),Mo(a,"keypress",Mt(e,mn)),Mo(a,"focus",Br(vn,e)),Mo(a,"blur",Br(bn,e))}function Ut(t,n,i){var r=i&&i!=e.Init;if(!n!=!r){var s=t.display.dragFunctions,o=n?Mo:Io;o(t.display.scroller,"dragstart",s.start),o(t.display.scroller,"dragenter",s.enter),o(t.display.scroller,"dragover",s.over),o(t.display.scroller,"dragleave",s.leave),o(t.display.scroller,"drop",s.drop)}}function qt(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function Gt(e,t){for(var n=xr(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function $t(e,t,n,i){var r=e.display;if(!n&&"true"==xr(t).getAttribute("cm-not-content"))return null;var s,o,a=r.lineSpace.getBoundingClientRect();try{s=t.clientX-a.left,o=t.clientY-a.top}catch(t){return null}var l,c=gt(e,s,o);if(i&&1==c.xRel&&(l=Zi(e.doc,c.line).text).length==c.ch){var u=Fo(l,l.length,e.options.tabSize)-l.length;c=Hs(c.line,Math.max(0,Math.round((s-Ge(e.display).left)/yt(e.display))-u))}return c}function Vt(e){var t=this,n=t.display;if(!(kr(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.shift=e.shiftKey,Gt(n,e))return void(Cs||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Qt(t,e)){var i=$t(t,e);switch(window.focus(),_r(e)){case 1:t.state.selectingText?t.state.selectingText(e):i?Kt(t,e,i):xr(e)==n.scroller&&To(e);break;case 2:Cs&&(t.state.lastMiddleDown=+new Date),i&&Ce(t.doc,i),setTimeout(function(){n.input.focus()},20),To(e);break;case 3:Os?yn(t,e):gn(t)}}}}function Kt(e,t,n){bs?setTimeout(Br(Y,e),0):e.curOp.focus=Gr();var i,r=+new Date;js&&js.time>r-400&&0==Bs(js.pos,n)?i="triple":zs&&zs.time>r-400&&0==Bs(zs.pos,n)?(i="double",js={time:r,pos:n}):(i="single",zs={time:r,pos:n});var s,o=e.doc.sel,a=Ns?t.metaKey:t.ctrlKey;e.options.dragDrop&&ea&&!e.isReadOnly()&&"single"==i&&(s=o.contains(n))>-1&&(Bs((s=o.ranges[s]).from(),n)<0||n.xRel>0)&&(Bs(s.to(),n)>0||n.xRel<0)?Xt(e,t,n,a):Yt(e,t,n,i,a)}function Xt(e,t,n,i){var r=e.display,s=+new Date,o=Mt(e,function(a){Cs&&(r.scroller.draggable=!1),e.state.draggingText=!1,Io(document,"mouseup",o),Io(r.scroller,"drop",o),Math.abs(t.clientX-a.clientX)+Math.abs(t.clientY-a.clientY)<10&&(To(a),!i&&+new Date-200<s&&Ce(e.doc,n),Cs||bs&&9==ys?setTimeout(function(){document.body.focus(),r.input.focus()},20):r.input.focus())});Cs&&(r.scroller.draggable=!0),e.state.draggingText=o,r.scroller.dragDrop&&r.scroller.dragDrop(),Mo(document,"mouseup",o),Mo(r.scroller,"drop",o)}function Yt(e,t,n,i,r){function s(t){if(0!=Bs(g,t))if(g=t,"rect"==i){for(var r=[],s=e.options.tabSize,o=Fo(Zi(c,n.line).text,n.ch,s),a=Fo(Zi(c,t.line).text,t.ch,s),l=Math.min(o,a),f=Math.max(o,a),p=Math.min(n.line,t.line),m=Math.min(e.lastLine(),Math.max(n.line,t.line));p<=m;p++){var v=Zi(c,p).text,b=zo(v,l,s);l==f?r.push(new de(Hs(p,b),Hs(p,b))):v.length>b&&r.push(new de(Hs(p,b),Hs(p,zo(v,f,s))))}r.length||r.push(new de(n,n)),ke(c,he(h.ranges.slice(0,d).concat(r),d),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var y=u,C=y.anchor,x=t;if("single"!=i){if("double"==i)var _=e.findWordAt(t);else var _=new de(Hs(t.line,0),me(c,Hs(t.line+1,0)));Bs(_.anchor,C)>0?(x=_.head,C=X(y.from(),_.anchor)):(x=_.anchor,C=K(y.to(),_.head))}var r=h.ranges.slice(0);r[d]=new de(me(c,C),x),ke(c,he(r,d),Bo)}}function o(t){var n=++b,r=$t(e,t,!0,"rect"==i);if(r)if(0!=Bs(r,g)){e.curOp.focus=Gr(),s(r);var a=C(l,c);(r.line>=a.to||r.line<a.from)&&setTimeout(Mt(e,function(){b==n&&o(t)}),150)}else{var u=t.clientY<v.top?-20:t.clientY>v.bottom?20:0;u&&setTimeout(Mt(e,function(){b==n&&(l.scroller.scrollTop+=u,o(t))}),50)}}function a(t){e.state.selectingText=!1,b=1/0,To(t),l.input.focus(),Io(document,"mousemove",y),Io(document,"mouseup",x),c.history.lastSelOrigin=null}var l=e.display,c=e.doc;To(t);var u,d,h=c.sel,f=h.ranges;if(r&&!t.shiftKey?(d=c.sel.contains(n),u=d>-1?f[d]:new de(n,n)):(u=c.sel.primary(),d=c.sel.primIndex),Ms?t.shiftKey&&t.metaKey:t.altKey)i="rect",r||(u=new de(n,n)),n=$t(e,t,!0,!0),d=-1;else if("double"==i){var p=e.findWordAt(n);u=e.display.shift||c.extend?ye(c,u,p.anchor,p.head):p}else if("triple"==i){var m=new de(Hs(n.line,0),me(c,Hs(n.line+1,0)));u=e.display.shift||c.extend?ye(c,u,m.anchor,m.head):m}else u=ye(c,u,n);r?d==-1?(d=f.length,ke(c,he(f.concat([u]),d),{scroll:!1,origin:"*mouse"})):f.length>1&&f[d].empty()&&"single"==i&&!t.shiftKey?(ke(c,he(f.slice(0,d).concat(f.slice(d+1)),0),{scroll:!1,origin:"*mouse"}),h=c.sel):_e(c,d,u,Bo):(d=0,ke(c,new ue([u],0),Bo),h=c.sel);var g=n,v=l.wrapper.getBoundingClientRect(),b=0,y=Mt(e,function(e){_r(e)?o(e):a(e)}),x=Mt(e,a);e.state.selectingText=x,Mo(document,"mousemove",y),Mo(document,"mouseup",x)}function Zt(e,t,n,i){try{var r=t.clientX,s=t.clientY}catch(t){return!1}if(r>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&To(t);var o=e.display,a=o.lineDiv.getBoundingClientRect();if(s>a.bottom||!Er(e,n))return Cr(t);s-=a.top-o.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var c=o.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r){var u=nr(e.doc,s),d=e.options.gutters[l];return Do(e,n,e,u,d,t),Cr(t)}}}function Qt(e,t){return Zt(e,t,"gutterClick",!0)}function Jt(e){var t=this;if(nn(t),!kr(t,e)&&!Gt(t.display,e)){To(e),bs&&($s=+new Date);var n=$t(t,e,!0),i=e.dataTransfer.files;if(n&&!t.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,s=Array(r),o=0,a=function(e,i){if(!t.options.allowDropFileTypes||Dr(t.options.allowDropFileTypes,e.type)!=-1){var a=new FileReader;a.onload=Mt(t,function(){var e=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),s[i]=e,++o==r){n=me(t.doc,n);var l={from:n,to:n,text:t.doc.splitLines(s.join(t.doc.lineSeparator())),origin:"paste"};kn(t.doc,l),Le(t.doc,fe(n,Qs(l)))}}),a.readAsText(e)}},l=0;l<r;++l)a(i[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{var s=e.dataTransfer.getData("Text");if(s){if(t.state.draggingText&&!(Ns?e.altKey:e.ctrlKey))var c=t.listSelections();if(Te(t.doc,fe(n,n)),c)for(var l=0;l<c.length;++l)In(t.doc,"",c[l].anchor,c[l].head,"drag");t.replaceSelection(s,"around","paste"),t.display.input.focus()}}catch(e){}}}}function en(e,t){if(bs&&(!e.state.draggingText||+new Date-$s<100))return void No(t);if(!kr(e,t)&&!Gt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!Ss)){var n=jr("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",ws&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),ws&&n.parentNode.removeChild(n)}}function tn(e,t){var n=$t(e,t);if(n){var i=document.createDocumentFragment();Re(e,n,i),e.display.dragCursor||(e.display.dragCursor=jr("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),qr(e.display.dragCursor,i)}}function nn(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function rn(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,ms||N(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),ms&&N(e),We(e,100))}function sn(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,x(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function on(e,t){var n=Xs(t),i=n.x,r=n.y,s=e.display,o=s.scroller,a=o.scrollWidth>o.clientWidth,l=o.scrollHeight>o.clientHeight;if(i&&a||r&&l){if(r&&Ns&&Cs)e:for(var c=t.target,u=s.view;c!=o;c=c.parentNode)for(var d=0;d<u.length;d++)if(u[d].node==c){e.display.currentWheelTarget=c;break e}if(i&&!ms&&!ws&&null!=Ks)return r&&l&&rn(e,Math.max(0,Math.min(o.scrollTop+r*Ks,o.scrollHeight-o.clientHeight))),sn(e,Math.max(0,Math.min(o.scrollLeft+i*Ks,o.scrollWidth-o.clientWidth))),(!r||r&&l)&&To(t),void(s.wheelStartX=null);if(r&&null!=Ks){var h=r*Ks,f=e.doc.scrollTop,p=f+s.wrapper.clientHeight;h<0?f=Math.max(0,f+h-50):p=Math.min(e.doc.height,p+h+50),N(e,{top:f,bottom:p})}Vs<20&&(null==s.wheelStartX?(s.wheelStartX=o.scrollLeft,s.wheelStartY=o.scrollTop,s.wheelDX=i,s.wheelDY=r,setTimeout(function(){if(null!=s.wheelStartX){var e=o.scrollLeft-s.wheelStartX,t=o.scrollTop-s.wheelStartY,n=t&&s.wheelDY&&t/s.wheelDY||e&&s.wheelDX&&e/s.wheelDX;s.wheelStartX=s.wheelStartY=null,n&&(Ks=(Ks*Vs+n)/(Vs+1),++Vs)}},200)):(s.wheelDX+=i,s.wheelDY+=r))}}function an(e,t,n){if("string"==typeof t&&(t=co[t],!t))return!1;e.display.input.ensurePolled();var i=e.display.shift,r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),r=t(e)!=Ro}finally{e.display.shift=i,e.state.suppressEdits=!1}return r}function ln(e,t,n){for(var i=0;i<e.state.keyMaps.length;i++){var r=ho(t,e.state.keyMaps[i],n,e);if(r)return r}return e.options.extraKeys&&ho(t,e.options.extraKeys,n,e)||ho(t,e.options.keyMap,n,e)}function cn(e,t,n,i){var r=e.state.keySeq;if(r){if(fo(t))return"handled";Ys.set(50,function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())}),t=r+" "+t}var s=ln(e,t,i);return"multi"==s&&(e.state.keySeq=t),"handled"==s&&Sr(e,"keyHandled",e,t,n),"handled"!=s&&"multi"!=s||(To(n),Be(e)),r&&!s&&/\'$/.test(t)?(To(n),!0):!!s}function un(e,t){var n=po(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?cn(e,"Shift-"+n,t,function(t){return an(e,t,!0)})||cn(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return an(e,t)}):cn(e,n,t,function(t){return an(e,t)}))}function dn(e,t,n){return cn(e,"'"+n+"'",t,function(t){return an(e,t,!0)})}function hn(e){var t=this;if(t.curOp.focus=Gr(),!kr(t,e)){bs&&ys<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var i=un(t,e);ws&&(Zs=i?n:null,!i&&88==n&&!ia&&(Ns?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||fn(t)}}function fn(e){function t(e){18!=e.keyCode&&e.altKey||(Zo(n,"CodeMirror-crosshair"),Io(document,"keyup",t),Io(document,"mouseover",t))}var n=e.display.lineDiv;Qo(n,"CodeMirror-crosshair"),Mo(document,"keyup",t),Mo(document,"mouseover",t)}function pn(e){16==e.keyCode&&(this.doc.sel.shift=!1),kr(this,e)}function mn(e){var t=this;if(!(Gt(t.display,e)||kr(t,e)||e.ctrlKey&&!e.altKey||Ns&&e.metaKey)){var n=e.keyCode,i=e.charCode;if(ws&&n==Zs)return Zs=null,void To(e);if(!ws||e.which&&!(e.which<10)||!un(t,e)){var r=String.fromCharCode(null==i?n:i);dn(t,e,r)||t.display.input.onKeyPress(e)}}}function gn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,bn(e))},100)}function vn(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Do(e,"focus",e),e.state.focused=!0,Qo(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),Cs&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Be(e))}function bn(e){e.state.delayingBlurEvent||(e.state.focused&&(Do(e,"blur",e),e.state.focused=!1,Zo(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function yn(e,t){Gt(e.display,t)||Cn(e,t)||kr(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function Cn(e,t){return!!Er(e,"gutterContextMenu")&&Zt(e,t,"gutterContextMenu",!1)}function xn(e,t){if(Bs(e,t.from)<0)return e;if(Bs(e,t.to)<=0)return Qs(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=Qs(t).ch-t.to.ch),Hs(n,i)}function _n(e,t){for(var n=[],i=0;i<e.sel.ranges.length;i++){var r=e.sel.ranges[i];n.push(new de(xn(r.anchor,t),xn(r.head,t)))}return he(n,e.sel.primIndex)}function wn(e,t,n){return e.line==t.line?Hs(n.line,e.ch-t.ch+n.ch):Hs(n.line+(e.line-t.line),e.ch)}function Sn(e,t,n){for(var i=[],r=Hs(e.first,0),s=r,o=0;o<t.length;o++){var a=t[o],l=wn(a.from,r,s),c=wn(Qs(a),r,s);if(r=a.to,s=c,"around"==n){var u=e.sel.ranges[o],d=Bs(u.head,u.anchor)<0;i[o]=new de(d?c:l,d?l:c)}else i[o]=new de(l,l)}return new ue(i,e.sel.primIndex)}function Ln(e,t,n){var i={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(i.update=function(t,n,i,r){t&&(this.from=me(e,t)),n&&(this.to=me(e,n)),i&&(this.text=i),void 0!==r&&(this.origin=r)}),Do(e,"beforeChange",e,i),e.cm&&Do(e.cm,"beforeChange",e.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function kn(e,t,n){if(e.cm){if(!e.cm.curOp)return Mt(e.cm,kn)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Er(e,"beforeChange")||e.cm&&Er(e.cm,"beforeChange"))||(t=Ln(e,t,!0))){var i=Ps&&!n&&li(e,t.from,t.to);if(i)for(var r=i.length-1;r>=0;--r)Tn(e,{from:i[r].from,to:i[r].to,text:r?[""]:t.text});else Tn(e,t)}}function Tn(e,t){if(1!=t.text.length||""!=t.text[0]||0!=Bs(t.from,t.to)){var n=_n(e,t);cr(e,t,n,e.cm?e.cm.curOp.id:NaN),Mn(e,t,n,si(e,t));var i=[];Xi(e,function(e,n){n||Dr(i,e.history)!=-1||(yr(e.history,t),i.push(e.history)),Mn(e,t,null,si(e,t))})}}function En(e,t,n){if(!e.cm||!e.cm.state.suppressEdits){for(var i,r=e.history,s=e.sel,o="undo"==t?r.done:r.undone,a="undo"==t?r.undone:r.done,l=0;l<o.length&&(i=o[l],n?!i.ranges||i.equals(e.sel):i.ranges);l++);if(l!=o.length){for(r.lastOrigin=r.lastSelOrigin=null;i=o.pop(),i.ranges;){if(hr(i,a),n&&!i.equals(e.sel))return void ke(e,i,{clearRedo:!1});s=i}var c=[];hr(s,a),a.push({changes:c,generation:r.generation}),r.generation=i.generation||++r.maxGeneration;for(var u=Er(e,"beforeChange")||e.cm&&Er(e.cm,"beforeChange"),l=i.changes.length-1;l>=0;--l){var d=i.changes[l];if(d.origin=t,u&&!Ln(e,d,!1))return void(o.length=0);c.push(or(e,d));var h=l?_n(e,d):Ir(o);Mn(e,d,h,ai(e,d)),!l&&e.cm&&e.cm.scrollIntoView({from:d.from,to:Qs(d)});var f=[];Xi(e,function(e,t){t||Dr(f,e.history)!=-1||(yr(e.history,d),f.push(e.history)),Mn(e,d,null,ai(e,d))})}}}}function Nn(e,t){if(0!=t&&(e.first+=t,e.sel=new ue(Or(e.sel.ranges,function(e){return new de(Hs(e.anchor.line+t,e.anchor.ch),Hs(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Pt(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,i=n.viewFrom;i<n.viewTo;i++)Rt(e.cm,i,"gutter")}}function Mn(e,t,n,i){if(e.cm&&!e.cm.curOp)return Mt(e.cm,Mn)(e,t,n,i);if(t.to.line<e.first)return void Nn(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);Nn(e,r),t={from:Hs(e.first,0),to:Hs(t.to.line+r,t.to.ch),text:[Ir(t.text)],origin:t.origin}}var s=e.lastLine();t.to.line>s&&(t={from:t.from,to:Hs(s,Zi(e,s).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Qi(e,t.from,t.to),n||(n=_n(e,t)),e.cm?An(e.cm,t,i):$i(e,t,i),Te(e,n,Ho)}}function An(e,t,n){var i=e.doc,r=e.display,o=t.from,a=t.to,l=!1,c=o.line;e.options.lineWrapping||(c=tr(bi(Zi(i,o.line))),i.iter(c,a.line+1,function(e){if(e==r.maxLine)return l=!0,!0})),i.sel.contains(t.from,t.to)>-1&&Tr(e),$i(i,t,n,s(e)),e.options.lineWrapping||(i.iter(c,o.line+t.text.length,function(e){var t=d(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),i.frontier=Math.min(i.frontier,o.line),We(e,400);var u=t.text.length-(a.line-o.line)-1;t.full?Pt(e):o.line!=a.line||1!=t.text.length||Gi(e.doc,t)?Pt(e,o.line,a.line+1,u):Rt(e,o.line,"text");var h=Er(e,"changes"),f=Er(e,"change");if(f||h){var p={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};f&&Sr(e,"change",e,p),h&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p)}e.display.selForContextMenu=null}function In(e,t,n,i,r){if(i||(i=n),Bs(i,n)<0){var s=i;i=n,n=s}"string"==typeof t&&(t=e.splitLines(t)),kn(e,{from:n,to:i,text:t,origin:r})}function Dn(e,t){if(!kr(e,"scrollCursorIntoView")){var n=e.display,i=n.sizer.getBoundingClientRect(),r=null;if(t.top+i.top<0?r=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!ks){var s=jr("div","​",null,"position: absolute; top: "+(t.top-n.viewOffset-Ue(e.display))+"px; height: "+(t.bottom-t.top+$e(e)+n.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(s),s.scrollIntoView(r),e.display.lineSpace.removeChild(s)}}}function On(e,t,n,i){null==i&&(i=0);for(var r=0;r<5;r++){var s=!1,o=ft(e,t),a=n&&n!=t?ft(e,n):o,l=Rn(e,Math.min(o.left,a.left),Math.min(o.top,a.top)-i,Math.max(o.left,a.left),Math.max(o.bottom,a.bottom)+i),c=e.doc.scrollTop,u=e.doc.scrollLeft;if(null!=l.scrollTop&&(rn(e,l.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(s=!0)),null!=l.scrollLeft&&(sn(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-u)>1&&(s=!0)),!s)break}return o}function Pn(e,t,n,i,r){var s=Rn(e,t,n,i,r);null!=s.scrollTop&&rn(e,s.scrollTop),null!=s.scrollLeft&&sn(e,s.scrollLeft)}function Rn(e,t,n,i,r){var s=e.display,o=bt(e.display);n<0&&(n=0);var a=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:s.scroller.scrollTop,l=Ke(e),c={};r-n>l&&(r=n+l);var u=e.doc.height+qe(s),d=n<o,h=r>u-o;if(n<a)c.scrollTop=d?0:n;else if(r>a+l){var f=Math.min(n,(h?u:r)-l);f!=a&&(c.scrollTop=f)}var p=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:s.scroller.scrollLeft,m=Ve(e)-(e.options.fixedGutter?s.gutters.offsetWidth:0),g=i-t>m;return g&&(i=t+m),t<10?c.scrollLeft=0:t<p?c.scrollLeft=Math.max(0,t-(g?0:10)):i>m+p-3&&(c.scrollLeft=i+(g?0:10)-m),c}function Hn(e,t,n){null==t&&null==n||Wn(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function Bn(e){Wn(e);var t=e.getCursor(),n=t,i=t;e.options.lineWrapping||(n=t.ch?Hs(t.line,t.ch-1):t,
i=Hs(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:i,margin:e.options.cursorScrollMargin,isCursor:!0}}function Wn(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=pt(e,t.from),i=pt(e,t.to),r=Rn(e,Math.min(n.left,i.left),Math.min(n.top,i.top)-t.margin,Math.max(n.right,i.right),Math.max(n.bottom,i.bottom)+t.margin);e.scrollTo(r.scrollLeft,r.scrollTop)}}function Fn(e,t,n,i){var r,s=e.doc;null==n&&(n="add"),"smart"==n&&(s.mode.indent?r=je(e,t):n="prev");var o=e.options.tabSize,a=Zi(s,t),l=Fo(a.text,null,o);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==n&&(c=s.mode.indent(r,a.text.slice(u.length),a.text),c==Ro||c>150)){if(!i)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>s.first?Fo(Zi(s,t-1).text,null,o):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var d="",h=0;if(e.options.indentWithTabs)for(var f=Math.floor(c/o);f;--f)h+=o,d+="\t";if(h<c&&(d+=Ar(c-h)),d!=u)return In(s,d,Hs(t,0),Hs(t,u.length),"+input"),a.stateAfter=null,!0;for(var f=0;f<s.sel.ranges.length;f++){var p=s.sel.ranges[f];if(p.head.line==t&&p.head.ch<u.length){var h=Hs(t,u.length);_e(s,f,new de(h,h));break}}}function zn(e,t,n,i){var r=t,s=t;return"number"==typeof t?s=Zi(e,pe(e,t)):r=tr(t),null==r?null:(i(s,r)&&e.cm&&Rt(e.cm,r,n),s)}function jn(e,t){for(var n=e.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var s=t(n[r]);i.length&&Bs(s.from,Ir(i).to)<=0;){var o=i.pop();if(Bs(o.from,s.from)<0){s.from=o.from;break}}i.push(s)}Nt(e,function(){for(var t=i.length-1;t>=0;t--)In(e.doc,"",i[t].from,i[t].to,"+delete");Bn(e)})}function Un(e,t,n,i,r){function s(){var t=a+n;return!(t<e.first||t>=e.first+e.size)&&(a=t,u=Zi(e,t))}function o(e){var t=(r?ds:hs)(u,l,n,!0);if(null==t){if(e||!s())return!1;l=r?(n<0?rs:is)(u):n<0?u.text.length:0}else l=t;return!0}var a=t.line,l=t.ch,c=n,u=Zi(e,a);if("char"==i)o();else if("column"==i)o(!0);else if("word"==i||"group"==i)for(var d=null,h="group"==i,f=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(n<0)||o(!p);p=!1){var m=u.text.charAt(l)||"\n",g=Wr(m,f)?"w":h&&"\n"==m?"n":!h||/\s/.test(m)?null:"p";if(!h||p||g||(g="s"),d&&d!=g){n<0&&(n=1,o());break}if(g&&(d=g),n>0&&!o(!p))break}var v=Ie(e,Hs(a,l),t,c,!0);return Bs(t,v)||(v.hitSide=!0),v}function qn(e,t,n,i){var r,s=e.doc,o=t.left;if("page"==i){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);r=t.top+n*(a-(n<0?1.5:.5)*bt(e.display))}else"line"==i&&(r=n>0?t.bottom+3:t.top-3);for(;;){var l=gt(e,o,r);if(!l.outside)break;if(n<0?r<=0:r>=s.height){l.hitSide=!0;break}r+=5*n}return l}function Gn(t,n,i,r){e.defaults[t]=n,i&&(eo[t]=r?function(e,t,n){n!=to&&i(e,t,n)}:i)}function $n(e){for(var t,n,i,r,s=e.split(/-(?!$)/),e=s[s.length-1],o=0;o<s.length-1;o++){var a=s[o];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);i=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),r&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function Vn(e){return"string"==typeof e?uo[e]:e}function Kn(e,t,n,i,r){if(i&&i.shared)return Xn(e,t,n,i,r);if(e.cm&&!e.cm.curOp)return Mt(e.cm,Kn)(e,t,n,i,r);var s=new vo(e,r),o=Bs(t,n);if(i&&Hr(i,s,!1),o>0||0==o&&s.clearWhenEmpty!==!1)return s;if(s.replacedWith&&(s.collapsed=!0,s.widgetNode=jr("span",[s.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||s.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(s.widgetNode.insertLeft=!0)),s.collapsed){if(vi(e,t.line,t,n,s)||t.line!=n.line&&vi(e,n.line,t,n,s))throw new Error("Inserting collapsed marker partially overlapping an existing one");Rs=!0}s.addToHistory&&cr(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var a,l=t.line,c=e.cm;if(e.iter(l,n.line+1,function(e){c&&s.collapsed&&!c.options.lineWrapping&&bi(e)==c.display.maxLine&&(a=!0),s.collapsed&&l!=t.line&&er(e,0),ni(e,new Jn(s,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),s.collapsed&&e.iter(t.line,n.line+1,function(t){_i(e,t)&&er(t,0)}),s.clearOnEnter&&Mo(s,"beforeCursorEnter",function(){s.clear()}),s.readOnly&&(Ps=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),s.collapsed&&(s.id=++go,s.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),s.collapsed)Pt(c,t.line,n.line+1);else if(s.className||s.title||s.startStyle||s.endStyle||s.css)for(var u=t.line;u<=n.line;u++)Rt(c,u,"text");s.atomic&&Ne(c.doc),Sr(c,"markerAdded",c,s)}return s}function Xn(e,t,n,i,r){i=Hr(i),i.shared=!1;var s=[Kn(e,t,n,i,r)],o=s[0],a=i.widgetNode;return Xi(e,function(e){a&&(i.widgetNode=a.cloneNode(!0)),s.push(Kn(e,me(e,t),me(e,n),i,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;o=Ir(s)}),new bo(s,o)}function Yn(e){return e.findMarks(Hs(e.first,0),e.clipPos(Hs(e.lastLine())),function(e){return e.parent})}function Zn(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=i.find(),s=e.clipPos(r.from),o=e.clipPos(r.to);if(Bs(s,o)){var a=Kn(e,s,o,i.primary,i.primary.type);i.markers.push(a),a.parent=i}}}function Qn(e){for(var t=0;t<e.length;t++){var n=e[t],i=[n.primary.doc];Xi(n.primary.doc,function(e){i.push(e)});for(var r=0;r<n.markers.length;r++){var s=n.markers[r];Dr(i,s.doc)==-1&&(s.parent=null,n.markers.splice(r--,1))}}}function Jn(e,t,n){this.marker=e,this.from=t,this.to=n}function ei(e,t){if(e)for(var n=0;n<e.length;++n){var i=e[n];if(i.marker==t)return i}}function ti(e,t){for(var n,i=0;i<e.length;++i)e[i]!=t&&(n||(n=[])).push(e[i]);return n}function ni(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function ii(e,t,n){if(e)for(var i,r=0;r<e.length;++r){var s=e[r],o=s.marker,a=null==s.from||(o.inclusiveLeft?s.from<=t:s.from<t);if(a||s.from==t&&"bookmark"==o.type&&(!n||!s.marker.insertLeft)){var l=null==s.to||(o.inclusiveRight?s.to>=t:s.to>t);(i||(i=[])).push(new Jn(o,s.from,l?null:s.to))}}return i}function ri(e,t,n){if(e)for(var i,r=0;r<e.length;++r){var s=e[r],o=s.marker,a=null==s.to||(o.inclusiveRight?s.to>=t:s.to>t);if(a||s.from==t&&"bookmark"==o.type&&(!n||s.marker.insertLeft)){var l=null==s.from||(o.inclusiveLeft?s.from<=t:s.from<t);(i||(i=[])).push(new Jn(o,l?null:s.from-t,null==s.to?null:s.to-t))}}return i}function si(e,t){if(t.full)return null;var n=ve(e,t.from.line)&&Zi(e,t.from.line).markedSpans,i=ve(e,t.to.line)&&Zi(e,t.to.line).markedSpans;if(!n&&!i)return null;var r=t.from.ch,s=t.to.ch,o=0==Bs(t.from,t.to),a=ii(n,r,o),l=ri(i,s,o),c=1==t.text.length,u=Ir(t.text).length+(c?r:0);if(a)for(var d=0;d<a.length;++d){var h=a[d];if(null==h.to){var f=ei(l,h.marker);f?c&&(h.to=null==f.to?null:f.to+u):h.to=r}}if(l)for(var d=0;d<l.length;++d){var h=l[d];if(null!=h.to&&(h.to+=u),null==h.from){var f=ei(a,h.marker);f||(h.from=u,c&&(a||(a=[])).push(h))}else h.from+=u,c&&(a||(a=[])).push(h)}a&&(a=oi(a)),l&&l!=a&&(l=oi(l));var p=[a];if(!c){var m,g=t.text.length-2;if(g>0&&a)for(var d=0;d<a.length;++d)null==a[d].to&&(m||(m=[])).push(new Jn(a[d].marker,null,null));for(var d=0;d<g;++d)p.push(m);p.push(l)}return p}function oi(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function ai(e,t){var n=mr(e,t),i=si(e,t);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var s=n[r],o=i[r];if(s&&o)e:for(var a=0;a<o.length;++a){for(var l=o[a],c=0;c<s.length;++c)if(s[c].marker==l.marker)continue e;s.push(l)}else o&&(n[r]=o)}return n}function li(e,t,n){var i=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||i&&Dr(i,n)!=-1||(i||(i=[])).push(n)}}),!i)return null;for(var r=[{from:t,to:n}],s=0;s<i.length;++s)for(var o=i[s],a=o.find(0),l=0;l<r.length;++l){var c=r[l];if(!(Bs(c.to,a.from)<0||Bs(c.from,a.to)>0)){var u=[l,1],d=Bs(c.from,a.from),h=Bs(c.to,a.to);(d<0||!o.inclusiveLeft&&!d)&&u.push({from:c.from,to:a.from}),(h>0||!o.inclusiveRight&&!h)&&u.push({from:a.to,to:c.to}),r.splice.apply(r,u),l+=u.length-1}}return r}function ci(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function ui(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function di(e){return e.inclusiveLeft?-1:0}function hi(e){return e.inclusiveRight?1:0}function fi(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var i=e.find(),r=t.find(),s=Bs(i.from,r.from)||di(e)-di(t);if(s)return-s;var o=Bs(i.to,r.to)||hi(e)-hi(t);return o?o:t.id-e.id}function pi(e,t){var n,i=Rs&&e.markedSpans;if(i)for(var r,s=0;s<i.length;++s)r=i[s],r.marker.collapsed&&null==(t?r.from:r.to)&&(!n||fi(n,r.marker)<0)&&(n=r.marker);return n}function mi(e){return pi(e,!0)}function gi(e){return pi(e,!1)}function vi(e,t,n,i,r){var s=Zi(e,t),o=Rs&&s.markedSpans;if(o)for(var a=0;a<o.length;++a){var l=o[a];if(l.marker.collapsed){var c=l.marker.find(0),u=Bs(c.from,n)||di(l.marker)-di(r),d=Bs(c.to,i)||hi(l.marker)-hi(r);if(!(u>=0&&d<=0||u<=0&&d>=0)&&(u<=0&&(Bs(c.to,n)>0||l.marker.inclusiveRight&&r.inclusiveLeft)||u>=0&&(Bs(c.from,i)<0||l.marker.inclusiveLeft&&r.inclusiveRight)))return!0}}}function bi(e){for(var t;t=mi(e);)e=t.find(-1,!0).line;return e}function yi(e){for(var t,n;t=gi(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function Ci(e,t){var n=Zi(e,t),i=bi(n);return n==i?t:tr(i)}function xi(e,t){if(t>e.lastLine())return t;var n,i=Zi(e,t);if(!_i(e,i))return t;for(;n=gi(i);)i=n.find(1,!0).line;return tr(i)+1}function _i(e,t){var n=Rs&&t.markedSpans;if(n)for(var i,r=0;r<n.length;++r)if(i=n[r],i.marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&wi(e,t,i))return!0}}function wi(e,t,n){if(null==n.to){var i=n.marker.find(1,!0);return wi(e,i.line,ei(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var r,s=0;s<t.markedSpans.length;++s)if(r=t.markedSpans[s],r.marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&wi(e,t,r))return!0}function Si(e,t,n){ir(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Hn(e,null,n)}function Li(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Ko(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),qr(t.display.measure,jr("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function ki(e,t,n,i){var r=new yo(e,n,i),s=e.cm;return s&&r.noHScroll&&(s.display.alignWidgets=!0),zn(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,s&&!_i(e,t)){var i=ir(t)<e.scrollTop;er(t,t.height+Li(r)),i&&Hn(s,null,r.height),s.curOp.forceUpdate=!0}return!0}),r}function Ti(e,t,n,i){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),ci(e),ui(e,n);var r=i?i(e):1;r!=e.height&&er(e,r)}function Ei(e){e.parent=null,ci(e)}function Ni(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==t[i]?t[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[i])||(t[i]+=" "+n[2])}return e}function Mi(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var i=e.innerMode(t,n);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function Ai(t,n,i,r){for(var s=0;s<10;s++){r&&(r[0]=e.innerMode(t,i).mode);var o=t.token(n,i);if(n.pos>n.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}function Ii(e,t,n,i){function r(e){return{start:d.start,end:d.pos,string:d.current(),type:s||null,state:e?ao(o.mode,u):u}}var s,o=e.doc,a=o.mode;t=me(o,t);var l,c=Zi(o,t.line),u=je(e,t.line,n),d=new mo(c.text,e.options.tabSize);for(i&&(l=[]);(i||d.pos<t.ch)&&!d.eol();)d.start=d.pos,s=Ai(a,d,u),i&&l.push(r(!0));return i?l:r()}function Di(e,t,n,i,r,s,o){var a=n.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,c=0,u=null,d=new mo(t,e.options.tabSize),h=e.options.addModeClass&&[null];for(""==t&&Ni(Mi(n,i),s);!d.eol();){if(d.pos>e.options.maxHighlightLength?(a=!1,o&&Ri(e,t,i,d.pos),d.pos=t.length,l=null):l=Ni(Ai(n,d,i,h),s),h){var f=h[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!a||u!=l){for(;c<d.start;)c=Math.min(d.start,c+5e4),r(c,u);u=l}d.start=d.pos}for(;c<d.pos;){var p=Math.min(d.pos,c+5e4);r(p,u),c=p}}function Oi(e,t,n,i){var r=[e.state.modeGen],s={};Di(e,t.text,e.doc.mode,n,function(e,t){r.push(e,t)},s,i);for(var o=0;o<e.state.overlays.length;++o){var a=e.state.overlays[o],l=1,c=0;Di(e,t.text,a.mode,!0,function(e,t){for(var n=l;c<e;){var i=r[l];i>e&&r.splice(l,1,e,r[l+1],i),l+=2,c=Math.min(e,i)}if(t)if(a.opaque)r.splice(n,l-n,e,"cm-overlay "+t),l=n+2;else for(;n<l;n+=2){var s=r[n+1];r[n+1]=(s?s+" ":"")+"cm-overlay "+t}},s)}return{styles:r,classes:s.bgClass||s.textClass?s:null}}function Pi(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var i=je(e,tr(t)),r=Oi(e,t,t.text.length>e.options.maxHighlightLength?ao(e.doc.mode,i):i);t.stateAfter=i,t.styles=r.styles,r.classes?t.styleClasses=r.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function Ri(e,t,n,i){var r=e.doc.mode,s=new mo(t,e.options.tabSize);for(s.start=s.pos=i||0,""==t&&Mi(r,n);!s.eol();)Ai(r,s,n),s.start=s.pos}function Hi(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?_o:xo;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Bi(e,t){var n=jr("span",null,null,Cs?"padding-right: .1px":null),i={pre:jr("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,splitSpaces:(bs||Cs)&&e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var s,o=r?t.rest[r-1]:t.line;i.pos=0,i.addToken=Fi,Qr(e.display.measure)&&(s=rr(o))&&(i.addToken=ji(i.addToken,s)),i.map=[];var a=t!=e.display.externalMeasured&&tr(o);qi(o,i,Pi(e,o,a)),o.styleClasses&&(o.styleClasses.bgClass&&(i.bgClass=Vr(o.styleClasses.bgClass,i.bgClass||"")),o.styleClasses.textClass&&(i.textClass=Vr(o.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(Zr(e.display.measure))),0==r?(t.measure.map=i.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(i.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return Cs&&/\bcm-tab\b/.test(i.content.lastChild.className)&&(i.content.className="cm-tab-wrap-hack"),Do(e,"renderLine",e,t.line,i.pre),i.pre.className&&(i.textClass=Vr(i.pre.className,i.textClass||"")),i}function Wi(e){var t=jr("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Fi(e,t,n,i,r,s,o){if(t){var a=e.splitSpaces?t.replace(/ {3,}/g,zi):t,l=e.cm.state.specialChars,c=!1;if(l.test(t))for(var u=document.createDocumentFragment(),d=0;;){l.lastIndex=d;var h=l.exec(t),f=h?h.index-d:t.length-d;if(f){var p=document.createTextNode(a.slice(d,d+f));bs&&ys<9?u.appendChild(jr("span",[p])):u.appendChild(p),e.map.push(e.pos,e.pos+f,p),e.col+=f,e.pos+=f}if(!h)break;if(d+=f+1,"\t"==h[0]){var m=e.cm.options.tabSize,g=m-e.col%m,p=u.appendChild(jr("span",Ar(g),"cm-tab"));p.setAttribute("role","presentation"),p.setAttribute("cm-text","\t"),e.col+=g}else if("\r"==h[0]||"\n"==h[0]){var p=u.appendChild(jr("span","\r"==h[0]?"␍":"␤","cm-invalidchar"));p.setAttribute("cm-text",h[0]),e.col+=1}else{var p=e.cm.options.specialCharPlaceholder(h[0]);p.setAttribute("cm-text",h[0]),bs&&ys<9?u.appendChild(jr("span",[p])):u.appendChild(p),e.col+=1}e.map.push(e.pos,e.pos+1,p),e.pos++}else{e.col+=t.length;var u=document.createTextNode(a);e.map.push(e.pos,e.pos+t.length,u),bs&&ys<9&&(c=!0),e.pos+=t.length}if(n||i||r||c||o){var v=n||"";i&&(v+=i),r&&(v+=r);var b=jr("span",[u],v,o);return s&&(b.title=s),e.content.appendChild(b)}e.content.appendChild(u)}}function zi(e){for(var t=" ",n=0;n<e.length-2;++n)t+=n%2?" ":" ";return t+=" "}function ji(e,t){return function(n,i,r,s,o,a,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+i.length;;){for(var d=0;d<t.length;d++){var h=t[d];if(h.to>c&&h.from<=c)break}if(h.to>=u)return e(n,i,r,s,o,a,l);e(n,i.slice(0,h.to-c),r,s,null,a,l),s=null,i=i.slice(h.to-c),c=h.to}}}function Ui(e,t,n,i){var r=!i&&n.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!i&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t}function qi(e,t,n){var i=e.markedSpans,r=e.text,s=0;if(i)for(var o,a,l,c,u,d,h,f=r.length,p=0,m=1,g="",v=0;;){if(v==p){l=c=u=d=a="",h=null,v=1/0;for(var b,y=[],C=0;C<i.length;++C){var x=i[C],_=x.marker;"bookmark"==_.type&&x.from==p&&_.widgetNode?y.push(_):x.from<=p&&(null==x.to||x.to>p||_.collapsed&&x.to==p&&x.from==p)?(null!=x.to&&x.to!=p&&v>x.to&&(v=x.to,c=""),_.className&&(l+=" "+_.className),_.css&&(a=(a?a+";":"")+_.css),_.startStyle&&x.from==p&&(u+=" "+_.startStyle),_.endStyle&&x.to==v&&(b||(b=[])).push(_.endStyle,x.to),_.title&&!d&&(d=_.title),_.collapsed&&(!h||fi(h.marker,_)<0)&&(h=x)):x.from>p&&v>x.from&&(v=x.from)}if(b)for(var C=0;C<b.length;C+=2)b[C+1]==v&&(c+=" "+b[C]);if(!h||h.from==p)for(var C=0;C<y.length;++C)Ui(t,0,y[C]);if(h&&(h.from||0)==p){if(Ui(t,(null==h.to?f+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}}if(p>=f)break;for(var w=Math.min(f,v);;){if(g){var S=p+g.length;if(!h){var L=S>w?g.slice(0,w-p):g;t.addToken(t,L,o?o+l:l,u,p+L.length==v?c:"",d,a)}if(S>=w){g=g.slice(w-p),p=w;break}p=S,u=""}g=r.slice(s,s=n[m++]),o=Hi(n[m++],t.cm.options)}}else for(var m=1;m<n.length;m+=2)t.addToken(t,r.slice(s,s=n[m]),Hi(n[m+1],t.cm.options))}function Gi(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Ir(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function $i(e,t,n,i){function r(e){return n?n[e]:null}function s(e,n,r){Ti(e,n,r,i),Sr(e,"change",e,t)}function o(e,t){for(var n=e,s=[];n<t;++n)s.push(new Co(c[n],r(n),i));return s}var a=t.from,l=t.to,c=t.text,u=Zi(e,a.line),d=Zi(e,l.line),h=Ir(c),f=r(c.length-1),p=l.line-a.line;if(t.full)e.insert(0,o(0,c.length)),e.remove(c.length,e.size-c.length);else if(Gi(e,t)){var m=o(0,c.length-1);s(d,d.text,f),p&&e.remove(a.line,p),m.length&&e.insert(a.line,m)}else if(u==d)if(1==c.length)s(u,u.text.slice(0,a.ch)+h+u.text.slice(l.ch),f);else{var m=o(1,c.length-1);m.push(new Co(h+u.text.slice(l.ch),f,i)),s(u,u.text.slice(0,a.ch)+c[0],r(0)),e.insert(a.line+1,m)}else if(1==c.length)s(u,u.text.slice(0,a.ch)+c[0]+d.text.slice(l.ch),r(0)),e.remove(a.line+1,p);else{s(u,u.text.slice(0,a.ch)+c[0],r(0)),s(d,h+d.text.slice(l.ch),f);var m=o(1,c.length-1);p>1&&e.remove(a.line+1,p-1),e.insert(a.line+1,m)}Sr(e,"change",e,t)}function Vi(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function Ki(e){this.children=e;for(var t=0,n=0,i=0;i<e.length;++i){var r=e[i];t+=r.chunkSize(),n+=r.height,r.parent=this}this.size=t,this.height=n,this.parent=null}function Xi(e,t,n){function i(e,r,s){if(e.linked)for(var o=0;o<e.linked.length;++o){var a=e.linked[o];if(a.doc!=r){var l=s&&a.sharedHist;n&&!l||(t(a.doc,l),i(a.doc,e,l))}}}i(e,null,!0)}function Yi(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,o(e),n(e),e.options.lineWrapping||h(e),e.options.mode=t.modeOption,Pt(e)}function Zi(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var i=0;;++i){var r=n.children[i],s=r.chunkSize();if(t<s){n=r;break}t-=s}return n.lines[t]}function Qi(e,t,n){var i=[],r=t.line;return e.iter(t.line,n.line+1,function(e){var s=e.text;r==n.line&&(s=s.slice(0,n.ch)),r==t.line&&(s=s.slice(t.ch)),i.push(s),++r}),i}function Ji(e,t,n){var i=[];return e.iter(t,n,function(e){i.push(e.text)}),i}function er(e,t){var n=t-e.height;if(n)for(var i=e;i;i=i.parent)i.height+=n}function tr(e){if(null==e.parent)return null;for(var t=e.parent,n=Dr(t.lines,e),i=t.parent;i;t=i,i=i.parent)for(var r=0;i.children[r]!=t;++r)n+=i.children[r].chunkSize();return n+t.first}function nr(e,t){var n=e.first;e:do{for(var i=0;i<e.children.length;++i){var r=e.children[i],s=r.height;if(t<s){e=r;continue e}t-=s,n+=r.chunkSize()}return n}while(!e.lines);for(var i=0;i<e.lines.length;++i){var o=e.lines[i],a=o.height;if(t<a)break;t-=a}return n+i}function ir(e){e=bi(e);for(var t=0,n=e.parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==e)break;t+=r.height}for(var s=n.parent;s;n=s,s=n.parent)for(var i=0;i<s.children.length;++i){var o=s.children[i];if(o==n)break;t+=o.height}return t}function rr(e){var t=e.order;return null==t&&(t=e.order=aa(e.text)),t}function sr(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function or(e,t){var n={from:V(t.from),to:Qs(t),text:Qi(e,t.from,t.to)};return fr(e,n,t.from.line,t.to.line+1),Xi(e,function(e){fr(e,n,t.from.line,t.to.line+1)},!0),n}function ar(e){for(;e.length;){var t=Ir(e);if(!t.ranges)break;e.pop()}}function lr(e,t){return t?(ar(e.done),Ir(e.done)):e.done.length&&!Ir(e.done).ranges?Ir(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Ir(e.done)):void 0}function cr(e,t,n,i){var r=e.history;r.undone.length=0;var s,o=+new Date;if((r.lastOp==i||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&r.lastModTime>o-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(s=lr(r,r.lastOp==i))){var a=Ir(s.changes);0==Bs(t.from,t.to)&&0==Bs(t.from,a.to)?a.to=Qs(t):s.changes.push(or(e,t))}else{var l=Ir(r.done);for(l&&l.ranges||hr(e.sel,r.done),s={changes:[or(e,t)],generation:r.generation},r.done.push(s);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=o,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=t.origin,a||Do(e,"historyAdded")}function ur(e,t,n,i){var r=t.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function dr(e,t,n,i){var r=e.history,s=i&&i.origin;n==r.lastSelOp||s&&r.lastSelOrigin==s&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==s||ur(e,s,Ir(r.done),t))?r.done[r.done.length-1]=t:hr(t,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=s,r.lastSelOp=n,i&&i.clearRedo!==!1&&ar(r.undone)}function hr(e,t){var n=Ir(t);n&&n.ranges&&n.equals(e)||t.push(e)}function fr(e,t,n,i){var r=t["spans_"+e.id],s=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,i),function(n){n.markedSpans&&((r||(r=t["spans_"+e.id]={}))[s]=n.markedSpans),++s})}function pr(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function mr(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var i=0,r=[];i<t.text.length;++i)r.push(pr(n[i]));return r}function gr(e,t,n){for(var i=0,r=[];i<e.length;++i){var s=e[i];if(s.ranges)r.push(n?ue.prototype.deepCopy.call(s):s);else{var o=s.changes,a=[];r.push({changes:a});for(var l=0;l<o.length;++l){var c,u=o[l];if(a.push({from:u.from,to:u.to,text:u.text}),t)for(var d in u)(c=d.match(/^spans_(\d+)$/))&&Dr(t,Number(c[1]))>-1&&(Ir(a)[d]=u[d],delete u[d])}}}return r}function vr(e,t,n,i){n<e.line?e.line+=i:t<e.line&&(e.line=t,e.ch=0)}function br(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r],o=!0;if(s.ranges){s.copied||(s=e[r]=s.deepCopy(),s.copied=!0);for(var a=0;a<s.ranges.length;a++)vr(s.ranges[a].anchor,t,n,i),vr(s.ranges[a].head,t,n,i)}else{for(var a=0;a<s.changes.length;++a){var l=s.changes[a];if(n<l.from.line)l.from=Hs(l.from.line+i,l.from.ch),l.to=Hs(l.to.line+i,l.to.ch);else if(t<=l.to.line){o=!1;break}}o||(e.splice(0,r+1),r=0)}}}function yr(e,t){var n=t.from.line,i=t.to.line,r=t.text.length-(i-n)-1;br(e.done,n,i,r),br(e.undone,n,i,r)}function Cr(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function xr(e){return e.target||e.srcElement}function _r(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Ns&&e.ctrlKey&&1==t&&(t=3),t}function wr(e,t,n){var i=e._handlers&&e._handlers[t];return n?i&&i.length>0?i.slice():Ao:i||Ao}function Sr(e,t){function n(e){return function(){e.apply(null,s)}}var i=wr(e,t,!1);if(i.length){var r,s=Array.prototype.slice.call(arguments,2);qs?r=qs.delayedCallbacks:Oo?r=Oo:(r=Oo=[],setTimeout(Lr,0));for(var o=0;o<i.length;++o)r.push(n(i[o]))}}function Lr(){var e=Oo;Oo=null;for(var t=0;t<e.length;++t)e[t]()}function kr(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Do(e,n||t.type,e,t),Cr(t)||t.codemirrorIgnore}function Tr(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<t.length;++i)Dr(n,t[i])==-1&&n.push(t[i])}function Er(e,t){return wr(e,t).length>0}function Nr(e){e.prototype.on=function(e,t){Mo(this,e,t)},e.prototype.off=function(e,t){Io(this,e,t)}}function Mr(){this.id=null}function Ar(e){for(;jo.length<=e;)jo.push(Ir(jo)+" ");return jo[e]}function Ir(e){return e[e.length-1]}function Dr(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function Or(e,t){for(var n=[],i=0;i<e.length;i++)n[i]=t(e[i],i);return n}function Pr(){}function Rr(e,t){var n;return Object.create?n=Object.create(e):(Pr.prototype=e,n=new Pr),t&&Hr(t,n),n}function Hr(e,t,n){t||(t={});for(var i in e)!e.hasOwnProperty(i)||n===!1&&t.hasOwnProperty(i)||(t[i]=e[i]);return t}function Br(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Wr(e,t){return t?!!(t.source.indexOf("\\w")>-1&&$o(e))||t.test(e):$o(e)}function Fr(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function zr(e){return e.charCodeAt(0)>=768&&Vo.test(e)}function jr(e,t,n,i){var r=document.createElement(e);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var s=0;s<t.length;++s)r.appendChild(t[s]);return r}function Ur(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function qr(e,t){return Ur(e).appendChild(t)}function Gr(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function $r(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function Vr(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)n[i]&&!$r(n[i]).test(t)&&(t+=" "+n[i]);return t}function Kr(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&e(i)}}function Xr(){Jo||(Yr(),Jo=!0)}function Yr(){var e;Mo(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Kr(qt)},100))}),Mo(window,"blur",function(){Kr(bn)})}function Zr(e){if(null==Xo){var t=jr("span","​");qr(e,jr("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Xo=t.offsetWidth<=1&&t.offsetHeight>2&&!(bs&&ys<8))}var n=Xo?jr("span","​"):jr("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Qr(e){if(null!=Yo)return Yo;var t=qr(e,document.createTextNode("AخA")),n=qo(t,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var i=qo(t,1,2).getBoundingClientRect();return Yo=i.right-n.right<3}function Jr(e){if(null!=ra)return ra;var t=qr(e,jr("span","x")),n=t.getBoundingClientRect(),i=qo(t,0,1).getBoundingClientRect();return ra=Math.abs(n.left-i.left)>1}function es(e,t,n,i){if(!e)return i(t,n,"ltr");for(var r=!1,s=0;s<e.length;++s){var o=e[s];(o.from<n&&o.to>t||t==n&&o.to==t)&&(i(Math.max(o.from,t),Math.min(o.to,n),1==o.level?"rtl":"ltr"),r=!0)}r||i(t,n,"ltr")}function ts(e){return e.level%2?e.to:e.from}function ns(e){return e.level%2?e.from:e.to}function is(e){var t=rr(e);return t?ts(t[0]):0}function rs(e){var t=rr(e);return t?ns(Ir(t)):e.text.length}function ss(e,t){var n=Zi(e.doc,t),i=bi(n);i!=n&&(t=tr(i));var r=rr(i),s=r?r[0].level%2?rs(i):is(i):0;return Hs(t,s)}function os(e,t){for(var n,i=Zi(e.doc,t);n=gi(i);)i=n.find(1,!0).line,t=null;var r=rr(i),s=r?r[0].level%2?is(i):rs(i):i.text.length;return Hs(null==t?tr(i):t,s)}function as(e,t){var n=ss(e,t.line),i=Zi(e.doc,n.line),r=rr(i);if(!r||0==r[0].level){var s=Math.max(0,i.text.search(/\S/)),o=t.line==n.line&&t.ch<=s&&t.ch;return Hs(n.line,o?0:s)}return n}function ls(e,t,n){var i=e[0].level;return t==i||n!=i&&t<n}function cs(e,t){oa=null;for(var n,i=0;i<e.length;++i){var r=e[i];if(r.from<t&&r.to>t)return i;if(r.from==t||r.to==t){if(null!=n)return ls(e,r.level,e[n].level)?(r.from!=r.to&&(oa=n),i):(r.from!=r.to&&(oa=i),n);n=i}}return n}function us(e,t,n,i){if(!i)return t+n;do t+=n;while(t>0&&zr(e.text.charAt(t)));return t}function ds(e,t,n,i){var r=rr(e);if(!r)return hs(e,t,n,i);for(var s=cs(r,t),o=r[s],a=us(e,t,o.level%2?-n:n,i);;){if(a>o.from&&a<o.to)return a;if(a==o.from||a==o.to)return cs(r,a)==s?a:(o=r[s+=n],n>0==o.level%2?o.to:o.from);if(o=r[s+=n],!o)return null;a=n>0==o.level%2?us(e,o.to,-1,i):us(e,o.from,1,i)}}function hs(e,t,n,i){var r=t+n;if(i)for(;r>0&&zr(e.text.charAt(r));)r+=n;return r<0||r>e.text.length?null:r}var fs=navigator.userAgent,ps=navigator.platform,ms=/gecko\/\d/i.test(fs),gs=/MSIE \d/.test(fs),vs=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fs),bs=gs||vs,ys=bs&&(gs?document.documentMode||6:vs[1]),Cs=/WebKit\//.test(fs),xs=Cs&&/Qt\/\d+\.\d+/.test(fs),_s=/Chrome\//.test(fs),ws=/Opera\//.test(fs),Ss=/Apple Computer/.test(navigator.vendor),Ls=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(fs),ks=/PhantomJS/.test(fs),Ts=/AppleWebKit/.test(fs)&&/Mobile\/\w+/.test(fs),Es=Ts||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(fs),Ns=Ts||/Mac/.test(ps),Ms=/\bCrOS\b/.test(fs),As=/win/i.test(ps),Is=ws&&fs.match(/Version\/(\d*\.\d*)/);Is&&(Is=Number(Is[1])),Is&&Is>=15&&(ws=!1,Cs=!0);var Ds=Ns&&(xs||ws&&(null==Is||Is<12.11)),Os=ms||bs&&ys>=9,Ps=!1,Rs=!1;m.prototype=Hr({update:function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?i+"px":"0";var r=e.viewHeight-(t?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=e.barLeft+"px";var s=e.viewWidth-e.barLeft-(n?i:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+s+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:t?i:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var e=Ns&&!Ls?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Mr,this.disableVert=new Mr},enableZeroWidthBar:function(e,t){function n(){var i=e.getBoundingClientRect(),r=document.elementFromPoint(i.left+1,i.bottom-1);r!=e?e.style.pointerEvents="none":t.set(1e3,n)}e.style.pointerEvents="auto",t.set(1e3,n)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},m.prototype),g.prototype=Hr({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},g.prototype),e.scrollbarModel={"native":m,"null":g},L.prototype.signal=function(e,t){
Er(e,t)&&this.events.push(arguments)},L.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Do.apply(null,this.events[e])};var Hs=e.Pos=function(e,t){return this instanceof Hs?(this.line=e,void(this.ch=t)):new Hs(e,t)},Bs=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},Ws=null;ne.prototype=Hr({init:function(e){function t(e){if(!kr(i,e)){if(i.somethingSelected())Ws=i.getSelections(),n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,s.value=Ws.join("\n"),Uo(s));else{if(!i.options.lineWiseCopyCut)return;var t=ee(i);Ws=t.text,"cut"==e.type?i.setSelections(t.ranges,null,Ho):(n.prevInput="",s.value=t.text.join("\n"),Uo(s))}"cut"==e.type&&(i.state.cutIncoming=!0)}}var n=this,i=this.cm,r=this.wrapper=ie(),s=this.textarea=r.firstChild;e.wrapper.insertBefore(r,e.wrapper.firstChild),Ts&&(s.style.width="0px"),Mo(s,"input",function(){bs&&ys>=9&&n.hasSelection&&(n.hasSelection=null),n.poll()}),Mo(s,"paste",function(e){kr(i,e)||Q(e,i)||(i.state.pasteIncoming=!0,n.fastPoll())}),Mo(s,"cut",t),Mo(s,"copy",t),Mo(e.scroller,"paste",function(t){Gt(e,t)||kr(i,t)||(i.state.pasteIncoming=!0,n.focus())}),Mo(e.lineSpace,"selectstart",function(t){Gt(e,t)||To(t)}),Mo(s,"compositionstart",function(){var e=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),Mo(s,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,n=e.doc,i=Pe(e);if(e.options.moveInputWithCursor){var r=ft(e,n.sel.primary().head,"div"),s=t.wrapper.getBoundingClientRect(),o=t.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+o.top-s.top)),i.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+o.left-s.left))}return i},showSelection:function(e){var t=this.cm,n=t.display;qr(n.cursorDiv,e.cursors),qr(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,n,i=this.cm,r=i.doc;if(i.somethingSelected()){this.prevInput="";var s=r.sel.primary();t=ia&&(s.to().line-s.from().line>100||(n=i.getSelection()).length>1e3);var o=t?"-":n||i.getSelection();this.textarea.value=o,i.state.focused&&Uo(this.textarea),bs&&ys>=9&&(this.hasSelection=o)}else e||(this.prevInput=this.textarea.value="",bs&&ys>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Es||Gr()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){var i=n.poll();i||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},poll:function(){var e=this.cm,t=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||na(t)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var i=t.value;if(i==n&&!e.somethingSelected())return!1;if(bs&&ys>=9&&this.hasSelection===i||Ns&&/[\uf700-\uf7ff]/.test(i))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var r=i.charCodeAt(0);if(8203!=r||n||(n="​"),8666==r)return this.reset(),this.cm.execCommand("undo")}for(var s=0,o=Math.min(n.length,i.length);s<o&&n.charCodeAt(s)==i.charCodeAt(s);)++s;var a=this;return Nt(e,function(){Z(e,i.slice(s),n.length-s,null,a.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?t.value=a.prevInput="":a.prevInput=i,a.composing&&(a.composing.range.clear(),a.composing.range=e.markText(a.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){bs&&ys>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function t(){if(null!=o.selectionStart){var e=r.somethingSelected(),t="​"+(e?o.value:"");o.value="⇚",o.value=t,i.prevInput=e?"":"​",o.selectionStart=1,o.selectionEnd=t.length,s.selForContextMenu=r.doc.sel}}function n(){if(i.contextMenuPending=!1,i.wrapper.style.cssText=d,o.style.cssText=u,bs&&ys<9&&s.scrollbars.setScrollTop(s.scroller.scrollTop=l),null!=o.selectionStart){(!bs||bs&&ys<9)&&t();var e=0,n=function(){s.selForContextMenu==r.doc.sel&&0==o.selectionStart&&o.selectionEnd>0&&"​"==i.prevInput?Mt(r,co.selectAll)(r):e++<10?s.detectingSelectAll=setTimeout(n,500):s.input.reset()};s.detectingSelectAll=setTimeout(n,200)}}var i=this,r=i.cm,s=r.display,o=i.textarea,a=$t(r,e),l=s.scroller.scrollTop;if(a&&!ws){var c=r.options.resetSelectionOnContextMenu;c&&r.doc.sel.contains(a)==-1&&Mt(r,ke)(r.doc,fe(a),Ho);var u=o.style.cssText,d=i.wrapper.style.cssText;i.wrapper.style.cssText="position: absolute";var h=i.wrapper.getBoundingClientRect();if(o.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px; z-index: 1000; background: "+(bs?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",Cs)var f=window.scrollY;if(s.input.focus(),Cs&&window.scrollTo(null,f),s.input.reset(),r.somethingSelected()||(o.value=i.prevInput=" "),i.contextMenuPending=!0,s.selForContextMenu=r.doc.sel,clearTimeout(s.detectingSelectAll),bs&&ys>=9&&t(),Os){No(e);var p=function(){Io(window,"mouseup",p),setTimeout(n,20)};Mo(window,"mouseup",p)}else setTimeout(n,50)}},readOnlyChanged:function(e){e||this.reset()},setUneditable:Pr,needsContentAttribute:!1},ne.prototype),re.prototype=Hr({init:function(e){function t(e){if(!kr(i,e)){if(i.somethingSelected())Ws=i.getSelections(),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=ee(i);Ws=t.text,"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,Ho),i.replaceSelection("",null,"cut")})}if(e.clipboardData&&!Ts)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",Ws.join("\n"));else{var n=ie(),r=n.firstChild;i.display.lineSpace.insertBefore(n,i.display.lineSpace.firstChild),r.value=Ws.join("\n");var s=document.activeElement;Uo(r),setTimeout(function(){i.display.lineSpace.removeChild(n),s.focus()},50)}}}var n=this,i=n.cm,r=n.div=e.lineDiv;te(r),Mo(r,"paste",function(e){kr(i,e)||Q(e,i)}),Mo(r,"compositionstart",function(e){var t=e.data;if(n.composing={sel:i.doc.sel,data:t,startData:t},t){var r=i.doc.sel.primary(),s=i.getLine(r.head.line),o=s.indexOf(t,Math.max(0,r.head.ch-t.length));o>-1&&o<=r.head.ch&&(n.composing.sel=fe(Hs(r.head.line,o),Hs(r.head.line,o+t.length)))}}),Mo(r,"compositionupdate",function(e){n.composing.data=e.data}),Mo(r,"compositionend",function(e){var t=n.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||n.applyComposition(t),n.composing==t&&(n.composing=null)},50))}),Mo(r,"touchstart",function(){n.forceCompositionEnd()}),Mo(r,"input",function(){n.composing||!i.isReadOnly()&&n.pollContent()||Nt(n.cm,function(){Pt(i)})}),Mo(r,"copy",t),Mo(r,"cut",t)},prepareSelection:function(){var e=Pe(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e){e&&this.cm.display.view.length&&(e.focus&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),n=ae(this.cm,e.anchorNode,e.anchorOffset),i=ae(this.cm,e.focusNode,e.focusOffset);if(!n||n.bad||!i||i.bad||0!=Bs(X(n,i),t.from())||0!=Bs(K(n,i),t.to())){var r=se(this.cm,t.from()),s=se(this.cm,t.to());if(r||s){var o=this.cm.display.view,a=e.rangeCount&&e.getRangeAt(0);if(r){if(!s){var l=o[o.length-1].measure,c=l.maps?l.maps[l.maps.length-1]:l.map;s={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else r={node:o[0].measure.map[2],offset:0};try{var u=qo(r.node,r.offset,s.offset,s.node)}catch(d){}u&&(!ms&&this.cm.state.focused?(e.collapse(r.node,r.offset),u.collapsed||e.addRange(u)):(e.removeAllRanges(),e.addRange(u)),a&&null==e.anchorNode?e.addRange(a):ms&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){qr(this.cm.display.cursorDiv,e.cursors),qr(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Ko(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():Nt(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var n=ae(t,e.anchorNode,e.anchorOffset),i=ae(t,e.focusNode,e.focusOffset);n&&i&&Nt(t,function(){ke(t.doc,fe(n,i),Ho),(n.bad||i.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e=this.cm,t=e.display,n=e.doc.sel.primary(),i=n.from(),r=n.to();if(i.line<t.viewFrom||r.line>t.viewTo-1)return!1;var s;if(i.line==t.viewFrom||0==(s=Bt(e,i.line)))var o=tr(t.view[0].line),a=t.view[0].node;else var o=tr(t.view[s].line),a=t.view[s-1].node.nextSibling;var l=Bt(e,r.line);if(l==t.view.length-1)var c=t.viewTo-1,u=t.lineDiv.lastChild;else var c=tr(t.view[l+1].line)-1,u=t.view[l+1].node.previousSibling;for(var d=e.doc.splitLines(ce(e,a,u,o,c)),h=Qi(e.doc,Hs(o,0),Hs(c,Zi(e.doc,c).text.length));d.length>1&&h.length>1;)if(Ir(d)==Ir(h))d.pop(),h.pop(),c--;else{if(d[0]!=h[0])break;d.shift(),h.shift(),o++}for(var f=0,p=0,m=d[0],g=h[0],v=Math.min(m.length,g.length);f<v&&m.charCodeAt(f)==g.charCodeAt(f);)++f;for(var b=Ir(d),y=Ir(h),C=Math.min(b.length-(1==d.length?f:0),y.length-(1==h.length?f:0));p<C&&b.charCodeAt(b.length-p-1)==y.charCodeAt(y.length-p-1);)++p;d[d.length-1]=b.slice(0,b.length-p),d[0]=d[0].slice(f);var x=Hs(o,f),_=Hs(c,h.length?Ir(h).length-p:0);return d.length>1||d[0]||Bs(x,_)?(In(e.doc,d,x,_,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){this.cm.isReadOnly()?Mt(this.cm,Pt)(this.cm):e.data&&e.data!=e.startData&&Mt(this.cm,Z)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.contentEditable="false"},onKeyPress:function(e){e.preventDefault(),this.cm.isReadOnly()||Mt(this.cm,Z)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(e){this.div.contentEditable=String("nocursor"!=e)},onContextMenu:Pr,resetPosition:Pr,needsContentAttribute:!0},re.prototype),e.inputStyles={textarea:ne,contenteditable:re},ue.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],i=e.ranges[t];if(0!=Bs(n.anchor,i.anchor)||0!=Bs(n.head,i.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new de(V(this.ranges[t].anchor),V(this.ranges[t].head));return new ue(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(Bs(t,i.from())>=0&&Bs(e,i.to())<=0)return n}return-1}},de.prototype={from:function(){return X(this.anchor,this.head)},to:function(){return K(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Fs,zs,js,Us={left:0,right:0,top:0,bottom:0},qs=null,Gs=0,$s=0,Vs=0,Ks=null;bs?Ks=-.53:ms?Ks=15:_s?Ks=-.7:Ss&&(Ks=-1/3);var Xs=function(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}};e.wheelEventPixels=function(e){var t=Xs(e);return t.x*=Ks,t.y*=Ks,t};var Ys=new Mr,Zs=null,Qs=e.changeEnd=function(e){return e.text?Hs(e.from.line+e.text.length-1,Ir(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var n=this.options,i=n[e];n[e]==t&&"mode"!=e||(n[e]=t,eo.hasOwnProperty(e)&&Mt(this,eo[e])(this,t,i))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Vn(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:At(function(t,n){var i=t.token?t:e.getMode(this.options,t);if(i.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:i,modeSpec:t,opaque:n&&n.opaque}),this.state.modeGen++,Pt(this)}),removeOverlay:At(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var i=t[n].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return t.splice(n,1),this.state.modeGen++,void Pt(this)}}),indentLine:At(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),ve(this.doc,e)&&Fn(this,e,t,n)}),indentSelection:At(function(e){for(var t=this.doc.sel.ranges,n=-1,i=0;i<t.length;i++){var r=t[i];if(r.empty())r.head.line>n&&(Fn(this,r.head.line,e,!0),n=r.head.line,i==this.doc.sel.primIndex&&Bn(this));else{var s=r.from(),o=r.to(),a=Math.max(n,s.line);n=Math.min(this.lastLine(),o.line-(o.ch?0:1))+1;for(var l=a;l<n;++l)Fn(this,l,e);var c=this.doc.sel.ranges;0==s.ch&&t.length==c.length&&c[i].from().ch>0&&_e(this.doc,i,new de(s,c[i].to()),Ho)}}}),getTokenAt:function(e,t){return Ii(this,e,t)},getLineTokens:function(e,t){return Ii(this,Hs(e),t,!0)},getTokenTypeAt:function(e){e=me(this.doc,e);var t,n=Pi(this,Zi(this.doc,e.line)),i=0,r=(n.length-1)/2,s=e.ch;if(0==s)t=n[2];else for(;;){var o=i+r>>1;if((o?n[2*o-1]:0)>=s)r=o;else{if(!(n[2*o+1]<s)){t=n[2*o+2];break}i=o+1}}var a=t?t.indexOf("cm-overlay "):-1;return a<0?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!oo.hasOwnProperty(t))return n;var i=oo[t],r=this.getModeAt(e);if("string"==typeof r[t])i[r[t]]&&n.push(i[r[t]]);else if(r[t])for(var s=0;s<r[t].length;s++){var o=i[r[t][s]];o&&n.push(o)}else r.helperType&&i[r.helperType]?n.push(i[r.helperType]):i[r.name]&&n.push(i[r.name]);for(var s=0;s<i._global.length;s++){var a=i._global[s];a.pred(r,this)&&Dr(n,a.val)==-1&&n.push(a.val)}return n},getStateAfter:function(e,t){var n=this.doc;return e=pe(n,null==e?n.first+n.size-1:e),je(this,e+1,t)},cursorCoords:function(e,t){var n,i=this.doc.sel.primary();return n=null==e?i.head:"object"==typeof e?me(this.doc,e):e?i.from():i.to(),ft(this,n,t||"page")},charCoords:function(e,t){return ht(this,me(this.doc,e),t||"page")},coordsChar:function(e,t){return e=dt(this,e,t||"page"),gt(this,e.left,e.top)},lineAtHeight:function(e,t){return e=dt(this,{top:e,left:0},t||"page").top,nr(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n,i=!1;if("number"==typeof e){var r=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>r&&(e=r,i=!0),n=Zi(this.doc,e)}else n=e;return ut(this,n,{top:0,left:0},t||"page").top+(i?this.doc.height-ir(n):0)},defaultTextHeight:function(){return bt(this.display)},defaultCharWidth:function(){return yt(this.display)},setGutterMarker:At(function(e,t,n){return zn(this.doc,e,"gutter",function(e){var i=e.gutterMarkers||(e.gutterMarkers={});return i[t]=n,!n&&Fr(i)&&(e.gutterMarkers=null),!0})}),clearGutter:At(function(e){var t=this,n=t.doc,i=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,Rt(t,i,"gutter"),Fr(n.gutterMarkers)&&(n.gutterMarkers=null)),++i})}),lineInfo:function(e){if("number"==typeof e){if(!ve(this.doc,e))return null;var t=e;if(e=Zi(this.doc,e),!e)return null}else{var t=tr(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,i,r){var s=this.display;e=ft(this,me(this.doc,e));var o=e.bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),s.sizer.appendChild(t),"over"==i)o=e.top;else if("above"==i||"near"==i){var l=Math.max(s.wrapper.clientHeight,this.doc.height),c=Math.max(s.sizer.clientWidth,s.lineSpace.clientWidth);("above"==i||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?o=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(o=e.bottom),a+t.offsetWidth>c&&(a=c-t.offsetWidth)}t.style.top=o+"px",t.style.left=t.style.right="","right"==r?(a=s.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(s.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),n&&Pn(this,a,o,a+t.offsetWidth,o+t.offsetHeight)},triggerOnKeyDown:At(hn),triggerOnKeyPress:At(mn),triggerOnKeyUp:pn,execCommand:function(e){if(co.hasOwnProperty(e))return co[e].call(null,this)},triggerElectric:At(function(e){J(this,e)}),findPosH:function(e,t,n,i){var r=1;t<0&&(r=-1,t=-t);for(var s=0,o=me(this.doc,e);s<t&&(o=Un(this.doc,o,r,n,i),!o.hitSide);++s);return o},moveH:At(function(e,t){var n=this;n.extendSelectionsBy(function(i){return n.display.shift||n.doc.extend||i.empty()?Un(n.doc,i.head,e,t,n.options.rtlMoveVisually):e<0?i.from():i.to()},Wo)}),deleteH:At(function(e,t){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):jn(this,function(n){var r=Un(i,n.head,e,t,!1);return e<0?{from:r,to:n.head}:{from:n.head,to:r}})}),findPosV:function(e,t,n,i){var r=1,s=i;t<0&&(r=-1,t=-t);for(var o=0,a=me(this.doc,e);o<t;++o){var l=ft(this,a,"div");if(null==s?s=l.left:l.left=s,a=qn(this,l,r,n),a.hitSide)break}return a},moveV:At(function(e,t){var n=this,i=this.doc,r=[],s=!n.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy(function(o){if(s)return e<0?o.from():o.to();var a=ft(n,o.head,"div");null!=o.goalColumn&&(a.left=o.goalColumn),r.push(a.left);var l=qn(n,a,e,t);return"page"==t&&o==i.sel.primary()&&Hn(n,null,ht(n,l,"div").top-a.top),l},Wo),r.length)for(var o=0;o<i.sel.ranges.length;o++)i.sel.ranges[o].goalColumn=r[o]}),findWordAt:function(e){var t=this.doc,n=Zi(t,e.line).text,i=e.ch,r=e.ch;if(n){var s=this.getHelper(e,"wordChars");(e.xRel<0||r==n.length)&&i?--i:++r;for(var o=n.charAt(i),a=Wr(o,s)?function(e){return Wr(e,s)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Wr(e)};i>0&&a(n.charAt(i-1));)--i;for(;r<n.length&&a(n.charAt(r));)++r}return new de(Hs(e.line,i),Hs(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Qo(this.display.cursorDiv,"CodeMirror-overwrite"):Zo(this.display.cursorDiv,"CodeMirror-overwrite"),Do(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Gr()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:At(function(e,t){null==e&&null==t||Wn(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-$e(this)-this.display.barHeight,width:e.scrollWidth-$e(this)-this.display.barWidth,clientHeight:Ke(this),clientWidth:Ve(this)}},scrollIntoView:At(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Hs(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Wn(this),this.curOp.scrollToPos=e;else{var n=Rn(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:At(function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var i=this;null!=e&&(i.display.wrapper.style.width=n(e)),null!=t&&(i.display.wrapper.style.height=n(t)),i.options.lineWrapping&&ot(this);var r=i.display.viewFrom;i.doc.iter(r,i.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Rt(i,r,"widget");break}++r}),i.curOp.forceUpdate=!0,Do(i,"refresh",this)}),operation:function(e){return Nt(this,e)},refresh:At(function(){var e=this.display.cachedTextHeight;Pt(this),this.curOp.forceUpdate=!0,at(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),u(this),(null==e||Math.abs(e-bt(this.display))>.5)&&o(this),Do(this,"refresh",this)}),swapDoc:At(function(e){var t=this.doc;return t.cm=null,Yi(this,e),at(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Sr(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Nr(e);var Js=e.defaults={},eo=e.optionHandlers={},to=e.Init={toString:function(){return"CodeMirror.Init"}};Gn("value","",function(e,t){e.setValue(t)},!0),Gn("mode",null,function(e,t){e.doc.modeOption=t,n(e)},!0),Gn("indentUnit",2,n,!0),Gn("indentWithTabs",!1),Gn("smartIndent",!0),Gn("tabSize",4,function(e){i(e),at(e),Pt(e)},!0),Gn("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],i=e.doc.first;e.doc.iter(function(e){for(var r=0;;){var s=e.text.indexOf(t,r);if(s==-1)break;r=s+t.length,n.push(Hs(i,s))}i++});for(var r=n.length-1;r>=0;r--)In(e.doc,t,n[r],Hs(n[r].line,n[r].ch+t.length))}}),Gn("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,n,i){t.state.specialChars=new RegExp(n.source+(n.test("\t")?"":"|\t"),"g"),i!=e.Init&&t.refresh()}),Gn("specialCharPlaceholder",Wi,function(e){e.refresh()},!0),Gn("electricChars",!0),Gn("inputStyle",Es?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Gn("rtlMoveVisually",!As),Gn("wholeLineUpdateBefore",!0),Gn("theme","default",function(e){a(e),l(e)},!0),Gn("keyMap","default",function(t,n,i){var r=Vn(n),s=i!=e.Init&&Vn(i);s&&s.detach&&s.detach(t,r),r.attach&&r.attach(t,s||null)}),Gn("extraKeys",null),Gn("lineWrapping",!1,r,!0),Gn("gutters",[],function(e){f(e.options),l(e)},!0),Gn("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?S(e.display)+"px":"0",e.refresh()},!0),Gn("coverGutterNextToScrollbar",!1,function(e){b(e)},!0),Gn("scrollbarStyle","native",function(e){v(e),b(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),Gn("lineNumbers",!1,function(e){f(e.options),l(e)},!0),Gn("firstLineNumber",1,l,!0),Gn("lineNumberFormatter",function(e){return e},l,!0),Gn("showCursorWhenSelecting",!1,Oe,!0),Gn("resetSelectionOnContextMenu",!0),Gn("lineWiseCopyCut",!0),Gn("readOnly",!1,function(e,t){"nocursor"==t?(bn(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),Gn("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),Gn("dragDrop",!0,Ut),Gn("allowDropFileTypes",null),Gn("cursorBlinkRate",530),Gn("cursorScrollMargin",0),Gn("cursorHeight",1,Oe,!0),Gn("singleCursorHeightPerLine",!0,Oe,!0),Gn("workTime",100),Gn("workDelay",100),Gn("flattenSpans",!0,i,!0),Gn("addModeClass",!1,i,!0),Gn("pollInterval",100),Gn("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),Gn("historyEventDelay",1250),Gn("viewportMargin",10,function(e){e.refresh()},!0),Gn("maxHighlightLength",1e4,i,!0),Gn("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),Gn("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),Gn("autofocus",null);var no=e.modes={},io=e.mimeModes={};e.defineMode=function(t,n){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),no[t]=n},e.defineMIME=function(e,t){io[e]=t},e.resolveMode=function(t){if("string"==typeof t&&io.hasOwnProperty(t))t=io[t];else if(t&&"string"==typeof t.name&&io.hasOwnProperty(t.name)){var n=io[t.name];"string"==typeof n&&(n={name:n}),t=Rr(n,t),t.name=n.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){var n=e.resolveMode(n),i=no[n.name];if(!i)return e.getMode(t,"text/plain");var r=i(t,n);if(ro.hasOwnProperty(n.name)){var s=ro[n.name];for(var o in s)s.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=s[o])}if(r.name=n.name,n.helperType&&(r.helperType=n.helperType),n.modeProps)for(var o in n.modeProps)r[o]=n.modeProps[o];return r},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var ro=e.modeExtensions={};e.extendMode=function(e,t){var n=ro.hasOwnProperty(e)?ro[e]:ro[e]={};Hr(t,n)},e.defineExtension=function(t,n){e.prototype[t]=n},e.defineDocExtension=function(e,t){So.prototype[e]=t},e.defineOption=Gn;var so=[];e.defineInitHook=function(e){so.push(e)};var oo=e.helpers={};e.registerHelper=function(t,n,i){oo.hasOwnProperty(t)||(oo[t]=e[t]={_global:[]}),oo[t][n]=i},e.registerGlobalHelper=function(t,n,i,r){e.registerHelper(t,n,r),oo[t]._global.push({pred:i,val:r})};var ao=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var i in t){var r=t[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n},lo=e.startState=function(e,t,n){return!e.startState||e.startState(t,n)};e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var co=e.commands={selectAll:function(e){e.setSelection(Hs(e.firstLine(),0),Hs(e.lastLine()),Ho)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Ho)},killLine:function(e){jn(e,function(t){if(t.empty()){var n=Zi(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:Hs(t.head.line+1,0)}:{from:t.head,to:Hs(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){jn(e,function(t){return{from:Hs(t.from().line,0),to:me(e.doc,Hs(t.to().line+1,0))}})},delLineLeft:function(e){jn(e,function(e){return{from:Hs(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){jn(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return{from:i,to:t.from()}})},delWrappedLineRight:function(e){jn(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:i}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(Hs(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(Hs(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return ss(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return as(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return os(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Wo)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Wo)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return i.ch<e.getLine(i.line).search(/\S/)?as(e,t.head):i},Wo)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),i=e.options.tabSize,r=0;r<n.length;r++){var s=n[r].from(),o=Fo(e.getLine(s.line),s.ch,i);t.push(new Array(i-o%i+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){Nt(e,function(){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++){var r=t[i].head,s=Zi(e.doc,r.line).text;if(s)if(r.ch==s.length&&(r=new Hs(r.line,r.ch-1)),r.ch>0)r=new Hs(r.line,r.ch+1),e.replaceRange(s.charAt(r.ch-1)+s.charAt(r.ch-2),Hs(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){var o=Zi(e.doc,r.line-1).text;o&&e.replaceRange(s.charAt(0)+e.doc.lineSeparator()+o.charAt(o.length-1),Hs(r.line-1,o.length-1),Hs(r.line,1),"+transpose")}n.push(new de(r,r))}e.setSelections(n)})},newlineAndIndent:function(e){Nt(e,function(){for(var t=e.listSelections().length,n=0;n<t;n++){var i=e.listSelections()[n];e.replaceRange(e.doc.lineSeparator(),i.anchor,i.head,"+input"),e.indentLine(i.from().line+1,null,!0)}Bn(e)})},toggleOverwrite:function(e){e.toggleOverwrite()}},uo=e.keyMap={};uo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",
Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},uo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},uo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},uo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},uo["default"]=Ns?uo.macDefault:uo.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete e[n];continue}for(var r=Or(n.split(" "),$n),s=0;s<r.length;s++){var o,a;s==r.length-1?(a=r.join(" "),o=i):(a=r.slice(0,s+1).join(" "),o="...");var l=t[a];if(l){if(l!=o)throw new Error("Inconsistent bindings for "+a)}else t[a]=o}delete e[n]}for(var c in t)e[c]=t[c];return e};var ho=e.lookupKey=function(e,t,n,i){t=Vn(t);var r=t.call?t.call(e,i):t[e];if(r===!1)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return ho(e,t.fallthrough,n,i);for(var s=0;s<t.fallthrough.length;s++){var o=ho(e,t.fallthrough[s],n,i);if(o)return o}}},fo=e.isModifierKey=function(e){var t="string"==typeof e?e:sa[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},po=e.keyName=function(e,t){if(ws&&34==e.keyCode&&e["char"])return!1;var n=sa[e.keyCode],i=n;return null!=i&&!e.altGraphKey&&(e.altKey&&"Alt"!=n&&(i="Alt-"+i),(Ds?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(i="Ctrl-"+i),(Ds?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(i="Cmd-"+i),!t&&e.shiftKey&&"Shift"!=n&&(i="Shift-"+i),i)};e.fromTextArea=function(t,n){function i(){t.value=c.getValue()}if(n=n?Hr(n):{},n.value=t.value,!n.tabindex&&t.tabIndex&&(n.tabindex=t.tabIndex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var r=Gr();n.autofocus=r==t||null!=t.getAttribute("autofocus")&&r==document.body}if(t.form&&(Mo(t.form,"submit",i),!n.leaveSubmitMethodAlone)){var s=t.form,o=s.submit;try{var a=s.submit=function(){i(),s.submit=o,s.submit(),s.submit=a}}catch(l){}}n.finishInit=function(e){e.save=i,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,i(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(Io(t.form,"submit",i),"function"==typeof t.form.submit&&(t.form.submit=o))}},t.style.display="none";var c=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return c};var mo=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};mo.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));if(n)return++this.pos,t},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Fo(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Fo(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Fo(this.string,null,this.tabSize)-(this.lineStart?Fo(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&t!==!1&&(this.pos+=i[0].length),i)}var r=function(e){return n?e.toLowerCase():e},s=this.string.substr(this.pos,e.length);if(r(s)==r(e))return t!==!1&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var go=0,vo=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++go};Nr(vo),vo.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Ct(e),Er(this,"clear")){var n=this.find();n&&Sr(this,"clear",n.from,n.to)}for(var i=null,r=null,s=0;s<this.lines.length;++s){var o=this.lines[s],a=ei(o.markedSpans,this);e&&!this.collapsed?Rt(e,tr(o),"text"):e&&(null!=a.to&&(r=tr(o)),null!=a.from&&(i=tr(o))),o.markedSpans=ti(o.markedSpans,a),null==a.from&&this.collapsed&&!_i(this.doc,o)&&e&&er(o,bt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var s=0;s<this.lines.length;++s){var l=bi(this.lines[s]),c=d(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=i&&e&&this.collapsed&&Pt(e,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Ne(e.doc)),e&&Sr(e,"markerCleared",e,this),t&&_t(e),this.parent&&this.parent.clear()}},vo.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,i,r=0;r<this.lines.length;++r){var s=this.lines[r],o=ei(s.markedSpans,this);if(null!=o.from&&(n=Hs(t?s:tr(s),o.from),e==-1))return n;if(null!=o.to&&(i=Hs(t?s:tr(s),o.to),1==e))return i}return n&&{from:n,to:i}},vo.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&Nt(n,function(){var i=e.line,r=tr(e.line),s=Je(n,r);if(s&&(st(s),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!_i(t.doc,i)&&null!=t.height){var o=t.height;t.height=null;var a=Li(t)-o;a&&er(i,i.height+a)}})},vo.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&Dr(t.maybeHiddenMarkers,this)!=-1||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},vo.prototype.detachLine=function(e){if(this.lines.splice(Dr(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var go=0,bo=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};Nr(bo),bo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Sr(this,"clear")}},bo.prototype.find=function(e,t){return this.primary.find(e,t)};var yo=e.LineWidget=function(e,t,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=e,this.node=t};Nr(yo),yo.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,i=tr(n);if(null!=i&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(n.widgets=null);var s=Li(this);er(n,Math.max(0,n.height-s)),e&&Nt(e,function(){Si(e,n,-s),Rt(e,i,"widget")})}},yo.prototype.changed=function(){var e=this.height,t=this.doc.cm,n=this.line;this.height=null;var i=Li(this)-e;i&&(er(n,n.height+i),t&&Nt(t,function(){t.curOp.forceUpdate=!0,Si(t,n,i)}))};var Co=e.Line=function(e,t,n){this.text=e,ui(this,t),this.height=n?n(this):1};Nr(Co),Co.prototype.lineNo=function(){return tr(this)};var xo={},_o={};Vi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,i=e+t;n<i;++n){var r=this.lines[n];this.height-=r.height,Ei(r),Sr(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=this},iterN:function(e,t,n){for(var i=e+t;e<i;++e)if(n(this.lines[e]))return!0}},Ki.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(e<r){var s=Math.min(t,r-e),o=i.height;if(i.removeInner(e,s),this.height-=o-i.height,r==s&&(this.children.splice(n--,1),i.parent=null),0==(t-=s))break;e=0}else e-=r}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Vi))){var a=[];this.collapse(a),this.children=[new Vi(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],s=r.chunkSize();if(e<=s){if(r.insertInner(e,t,n),r.lines&&r.lines.length>50){for(;r.lines.length>50;){var o=r.lines.splice(r.lines.length-25,25),a=new Vi(o);r.height-=a.height,this.children.splice(i+1,0,a),a.parent=this}this.maybeSpill()}break}e-=s}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Ki(t);if(e.parent){e.size-=n.size,e.height-=n.height;var i=Dr(e.parent.children,e);e.parent.children.splice(i+1,0,n)}else{var r=new Ki(e.children);r.parent=e,e.children=[r,n],e=r}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],s=r.chunkSize();if(e<s){var o=Math.min(t,s-e);if(r.iterN(e,o,n))return!0;if(0==(t-=o))break;e=0}else e-=s}}};var wo=0,So=e.Doc=function(e,t,n,i){if(!(this instanceof So))return new So(e,t,n,i);null==n&&(n=0),Ki.call(this,[new Vi([new Co("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var r=Hs(n,0);this.sel=fe(r),this.history=new sr(null),this.id=++wo,this.modeOption=t,this.lineSep=i,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),$i(this,{from:r,to:r,text:e}),ke(this,fe(r),Ho)};So.prototype=Rr(Ki.prototype,{constructor:So,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,i=0;i<t.length;++i)n+=t[i].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ji(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:It(function(e){var t=Hs(this.first,0),n=this.first+this.size-1;kn(this,{from:t,to:Hs(n,Zi(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),ke(this,fe(t))}),replaceRange:function(e,t,n,i){t=me(this,t),n=n?me(this,n):t,In(this,e,t,n,i)},getRange:function(e,t,n){var i=Qi(this,me(this,e),me(this,t));return n===!1?i:i.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(ve(this,e))return Zi(this,e)},getLineNumber:function(e){return tr(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Zi(this,e)),bi(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return me(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||e===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:It(function(e,t,n){we(this,me(this,"number"==typeof e?Hs(e,t||0):e),null,n)}),setSelection:It(function(e,t,n){we(this,me(this,e),me(this,t||e),n)}),extendSelection:It(function(e,t,n){Ce(this,me(this,e),t&&me(this,t),n)}),extendSelections:It(function(e,t){xe(this,be(this,e),t)}),extendSelectionsBy:It(function(e,t){var n=Or(this.sel.ranges,e);xe(this,be(this,n),t)}),setSelections:It(function(e,t,n){if(e.length){for(var i=0,r=[];i<e.length;i++)r[i]=new de(me(this,e[i].anchor),me(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),ke(this,he(r,t),n)}}),addSelection:It(function(e,t,n){var i=this.sel.ranges.slice(0);i.push(new de(me(this,e),me(this,t||e))),ke(this,he(i,i.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,i=0;i<n.length;i++){var r=Qi(this,n[i].from(),n[i].to());t=t?t.concat(r):r}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=Qi(this,n[i].from(),n[i].to());e!==!1&&(r=r.join(e||this.lineSeparator())),t[i]=r}return t},replaceSelection:function(e,t,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=e;this.replaceSelections(i,t,n||"+input")},replaceSelections:It(function(e,t,n){for(var i=[],r=this.sel,s=0;s<r.ranges.length;s++){var o=r.ranges[s];i[s]={from:o.from(),to:o.to(),text:this.splitLines(e[s]),origin:n}}for(var a=t&&"end"!=t&&Sn(this,i,t),s=i.length-1;s>=0;s--)kn(this,i[s]);a?Le(this,a):this.cm&&Bn(this.cm)}),undo:It(function(){En(this,"undo")}),redo:It(function(){En(this,"redo")}),undoSelection:It(function(){En(this,"undo",!0)}),redoSelection:It(function(){En(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new sr(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:gr(this.history.done),undone:gr(this.history.undone)}},setHistory:function(e){var t=this.history=new sr(this.history.maxGeneration);t.done=gr(e.done.slice(0),null,!0),t.undone=gr(e.undone.slice(0),null,!0)},addLineClass:It(function(e,t,n){return zn(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[i]){if($r(n).test(e[i]))return!1;e[i]+=" "+n}else e[i]=n;return!0})}),removeLineClass:It(function(e,t,n){return zn(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",r=e[i];if(!r)return!1;if(null==n)e[i]=null;else{var s=r.match($r(n));if(!s)return!1;var o=s.index+s[0].length;e[i]=r.slice(0,s.index)+(s.index&&o!=r.length?" ":"")+r.slice(o)||null}return!0})}),addLineWidget:It(function(e,t,n){return ki(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Kn(this,me(this,e),me(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=me(this,e),Kn(this,e,e,n,"bookmark")},findMarksAt:function(e){e=me(this,e);var t=[],n=Zi(this,e.line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,n){e=me(this,e),t=me(this,t);var i=[],r=e.line;return this.iter(e.line,t.line+1,function(s){var o=s.markedSpans;if(o)for(var a=0;a<o.length;a++){var l=o[a];null!=l.to&&r==e.line&&e.ch>=l.to||null==l.from&&r!=e.line||null!=l.from&&r==t.line&&l.from>=t.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++r}),i},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&e.push(n[i].marker)}),e},posFromIndex:function(e){var t,n=this.first,i=this.lineSeparator().length;return this.iter(function(r){var s=r.text.length+i;return s>e?(t=e,!0):(e-=s,void++n)}),me(this,Hs(n,t))},indexFromPos:function(e){e=me(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new So(Ji(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var i=new So(Ji(this,t,n),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Zn(i,Yn(this)),i},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){var i=this.linked[n];if(i.doc==t){this.linked.splice(n,1),t.unlinkDoc(this),Qn(Yn(this));break}}if(t.history==this.history){var r=[t.id];Xi(t,function(e){r.push(e.id)},!0),t.history=new sr(null),t.history.done=gr(this.history.done,r),t.history.undone=gr(this.history.undone,r)}},iterLinkedDocs:function(e){Xi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):ta(e)},lineSeparator:function(){return this.lineSep||"\n"}}),So.prototype.eachLine=So.prototype.iter;var Lo="iter insert remove copy getEditor constructor".split(" ");for(var ko in So.prototype)So.prototype.hasOwnProperty(ko)&&Dr(Lo,ko)<0&&(e.prototype[ko]=function(e){return function(){return e.apply(this.doc,arguments)}}(So.prototype[ko]));Nr(So);var To=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},Eo=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},No=e.e_stop=function(e){To(e),Eo(e)},Mo=e.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var i=e._handlers||(e._handlers={}),r=i[t]||(i[t]=[]);r.push(n)}},Ao=[],Io=e.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else for(var i=wr(e,t,!1),r=0;r<i.length;++r)if(i[r]==n){i.splice(r,1);break}},Do=e.signal=function(e,t){var n=wr(e,t,!0);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)},Oo=null,Po=30,Ro=e.Pass={toString:function(){return"CodeMirror.Pass"}},Ho={scroll:!1},Bo={origin:"*mouse"},Wo={origin:"+move"};Mr.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Fo=e.countColumn=function(e,t,n,i,r){null==t&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var s=i||0,o=r||0;;){var a=e.indexOf("\t",s);if(a<0||a>=t)return o+(t-s);o+=a-s,o+=n-o%n,s=a+1}},zo=e.findColumn=function(e,t,n){for(var i=0,r=0;;){var s=e.indexOf("\t",i);s==-1&&(s=e.length);var o=s-i;if(s==e.length||r+o>=t)return i+Math.min(o,t-r);if(r+=s-i,r+=n-r%n,i=s+1,r>=t)return i}},jo=[""],Uo=function(e){e.select()};Ts?Uo=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:bs&&(Uo=function(e){try{e.select()}catch(t){}});var qo,Go=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,$o=e.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Go.test(e))},Vo=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;qo=document.createRange?function(e,t,n,i){var r=document.createRange();return r.setEnd(i||e,n),r.setStart(e,t),r}:function(e,t,n){var i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch(r){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i};var Ko=e.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)};bs&&ys<11&&(Gr=function(){try{return document.activeElement}catch(e){return document.body}});var Xo,Yo,Zo=e.rmClass=function(e,t){var n=e.className,i=$r(t).exec(n);if(i){var r=n.slice(i.index+i[0].length);e.className=n.slice(0,i.index)+(r?i[1]+r:"")}},Qo=e.addClass=function(e,t){var n=e.className;$r(t).test(n)||(e.className+=(n?" ":"")+t)},Jo=!1,ea=function(){if(bs&&ys<9)return!1;var e=jr("div");return"draggable"in e||"dragDrop"in e}(),ta=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],i=e.length;t<=i;){var r=e.indexOf("\n",t);r==-1&&(r=e.length);var s=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),o=s.indexOf("\r");o!=-1?(n.push(s.slice(0,o)),t+=o+1):(n.push(s),t=r+1)}return n}:function(e){return e.split(/\r\n?|\n/)},na=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},ia=function(){var e=jr("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),ra=null,sa=e.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var e=0;e<10;e++)sa[e+48]=sa[e+96]=String(e);for(var e=65;e<=90;e++)sa[e]=String.fromCharCode(e);for(var e=1;e<=12;e++)sa[e+111]=sa[e+63235]="F"+e}();var oa,aa=function(){function e(e){return e<=247?n.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1773?i.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",i="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,s=/[stwN]/,o=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,c="L";return function(n){if(!r.test(n))return!1;for(var i,u=n.length,d=[],h=0;h<u;++h)d.push(i=e(n.charCodeAt(h)));for(var h=0,f=c;h<u;++h){var i=d[h];"m"==i?d[h]=f:f=i}for(var h=0,p=c;h<u;++h){var i=d[h];"1"==i&&"r"==p?d[h]="n":o.test(i)&&(p=i,"r"==i&&(d[h]="R"))}for(var h=1,f=d[0];h<u-1;++h){var i=d[h];"+"==i&&"1"==f&&"1"==d[h+1]?d[h]="1":","!=i||f!=d[h+1]||"1"!=f&&"n"!=f||(d[h]=f),f=i}for(var h=0;h<u;++h){var i=d[h];if(","==i)d[h]="N";else if("%"==i){for(var m=h+1;m<u&&"%"==d[m];++m);for(var g=h&&"!"==d[h-1]||m<u&&"1"==d[m]?"1":"N",v=h;v<m;++v)d[v]=g;h=m-1}}for(var h=0,p=c;h<u;++h){var i=d[h];"L"==p&&"1"==i?d[h]="L":o.test(i)&&(p=i)}for(var h=0;h<u;++h)if(s.test(d[h])){for(var m=h+1;m<u&&s.test(d[m]);++m);for(var b="L"==(h?d[h-1]:c),y="L"==(m<u?d[m]:c),g=b||y?"L":"R",v=h;v<m;++v)d[v]=g;h=m-1}for(var C,x=[],h=0;h<u;)if(a.test(d[h])){var _=h;for(++h;h<u&&a.test(d[h]);++h);x.push(new t(0,_,h))}else{var w=h,S=x.length;for(++h;h<u&&"L"!=d[h];++h);for(var v=w;v<h;)if(l.test(d[v])){w<v&&x.splice(S,0,new t(1,w,v));var L=v;for(++v;v<h&&l.test(d[v]);++v);x.splice(S,0,new t(2,L,v)),w=v}else++v;w<h&&x.splice(S,0,new t(1,w,h))}return 1==x[0].level&&(C=n.match(/^\s+/))&&(x[0].from=C[0].length,x.unshift(new t(0,0,C[0].length))),1==Ir(x).level&&(C=n.match(/\s+$/))&&(Ir(x).to-=C[0].length,x.push(new t(0,u-C[0].length,u))),2==x[0].level&&x.unshift(new t(1,x[0].to,x[0].to)),x[0].level!=Ir(x).level&&x.push(new t(x[0].level,u,u)),x}}();return e.version="5.14.2",e}),!function(e){"use strict";"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=e():"undefined"!=typeof Package?Sortable=e():window.Sortable=e()}(function(){"use strict";function e(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=t=v({},t),e[H]=this;var n={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",ignore:"a, img",filter:null,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1};for(var i in n)!(i in t)&&(t[i]=n[i]);V(t);for(var s in this)"_"===s.charAt(0)&&(this[s]=this[s].bind(this));this.nativeDraggable=!t.forceFallback&&z,r(e,"mousedown",this._onTapStart),r(e,"touchstart",this._onTapStart),this.nativeDraggable&&(r(e,"dragover",this),r(e,"dragenter",this)),G.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}function t(e){x&&x.state!==e&&(a(x,"display",e?"none":""),!e&&x.state&&_.insertBefore(x,b),x.state=e)}function n(e,t,n){if(e){n=n||W,t=t.split(".");var i=t.shift().toUpperCase(),r=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");do if(">*"===i&&e.parentNode===n||(""===i||e.nodeName.toUpperCase()==i)&&(!t.length||((" "+e.className+" ").match(r)||[]).length==t.length))return e;while(e!==n&&(e=e.parentNode))}return null}function i(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.preventDefault()}function r(e,t,n){e.addEventListener(t,n,!1)}function s(e,t,n){e.removeEventListener(t,n,!1)}function o(e,t,n){if(e)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(R," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(R," ")}}function a(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return W.defaultView&&W.defaultView.getComputedStyle?n=W.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||(t="-webkit-"+t),i[t]=n+("string"==typeof n?"":"px")}}function l(e,t,n){if(e){var i=e.getElementsByTagName(t),r=0,s=i.length;if(n)for(;s>r;r++)n(i[r],r);return i}return[]}function c(e,t,n,i,r,s,o){var a=W.createEvent("Event"),l=(e||t[H]).options,c="on"+n.charAt(0).toUpperCase()+n.substr(1);a.initEvent(n,!0,!0),a.to=t,a.from=r||t,a.item=i||t,a.clone=x,a.oldIndex=s,a.newIndex=o,t.dispatchEvent(a),l[c]&&l[c].call(e,a)}function u(e,t,n,i,r,s){var o,a,l=e[H],c=l.options.onMove;return o=W.createEvent("Event"),o.initEvent("move",!0,!0),o.to=t,o.from=e,o.dragged=n,o.draggedRect=i,o.related=r||t,o.relatedRect=s||t.getBoundingClientRect(),e.dispatchEvent(o),c&&(a=c.call(l,o)),a}function d(e){e.draggable=!1}function h(){U=!1}function f(e,t){var n=e.lastElementChild,i=n.getBoundingClientRect();return(t.clientY-(i.top+i.height)>5||t.clientX-(i.right+i.width)>5)&&n}function p(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function m(e){var t=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"!==e.nodeName.toUpperCase()&&t++;return t}function g(e,t){var n,i;return function(){void 0===n&&(n=arguments,i=this,setTimeout(function(){1===n.length?e.call(i,n[0]):e.apply(i,n),n=void 0},t))}}function v(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var b,y,C,x,_,w,S,L,k,T,E,N,M,A,I,D,O,P={},R=/\s+/g,H="Sortable"+(new Date).getTime(),B=window,W=B.document,F=B.parseInt,z=!!("draggable"in W.createElement("div")),j=function(e){return e=W.createElement("x"),e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),U=!1,q=Math.abs,G=([].slice,[]),$=g(function(e,t,n){if(n&&t.scroll){var i,r,s,o,a=t.scrollSensitivity,l=t.scrollSpeed,c=e.clientX,u=e.clientY,d=window.innerWidth,h=window.innerHeight;if(L!==n&&(S=t.scroll,L=n,S===!0)){S=n;do if(S.offsetWidth<S.scrollWidth||S.offsetHeight<S.scrollHeight)break;while(S=S.parentNode)}S&&(i=S,r=S.getBoundingClientRect(),s=(q(r.right-c)<=a)-(q(r.left-c)<=a),o=(q(r.bottom-u)<=a)-(q(r.top-u)<=a)),s||o||(s=(a>=d-c)-(a>=c),o=(a>=h-u)-(a>=u),(s||o)&&(i=B)),(P.vx!==s||P.vy!==o||P.el!==i)&&(P.el=i,P.vx=s,P.vy=o,clearInterval(P.pid),i&&(P.pid=setInterval(function(){i===B?B.scrollTo(B.pageXOffset+s*l,B.pageYOffset+o*l):(o&&(i.scrollTop+=o*l),s&&(i.scrollLeft+=s*l))},24)))}},30),V=function(e){var t=e.group;t&&"object"==typeof t||(t=e.group={name:t}),
["pull","put"].forEach(function(e){e in t||(t[e]=!0)}),e.groups=" "+t.name+(t.put.join?" "+t.put.join(" "):"")+" "};return e.prototype={constructor:e,_onTapStart:function(e){var t=this,i=this.el,r=this.options,s=e.type,o=e.touches&&e.touches[0],a=(o||e).target,l=a,u=r.filter;if(!("mousedown"===s&&0!==e.button||r.disabled)&&(a=n(a,r.draggable,i))){if(N=m(a),"function"==typeof u){if(u.call(this,e,a,this))return c(t,l,"filter",a,i,N),void e.preventDefault()}else if(u&&(u=u.split(",").some(function(e){return e=n(l,e.trim(),i),e?(c(t,e,"filter",a,i,N),!0):void 0})))return void e.preventDefault();(!r.handle||n(l,r.handle,i))&&this._prepareDragStart(e,o,a)}},_prepareDragStart:function(e,t,n){var i,s=this,a=s.el,c=s.options,u=a.ownerDocument;n&&!b&&n.parentNode===a&&(I=e,_=a,b=n,y=b.parentNode,w=b.nextSibling,A=c.group,i=function(){s._disableDelayedDrag(),b.draggable=!0,o(b,s.options.chosenClass,!0),s._triggerDragStart(t)},c.ignore.split(",").forEach(function(e){l(b,e.trim(),d)}),r(u,"mouseup",s._onDrop),r(u,"touchend",s._onDrop),r(u,"touchcancel",s._onDrop),c.delay?(r(u,"mouseup",s._disableDelayedDrag),r(u,"touchend",s._disableDelayedDrag),r(u,"touchcancel",s._disableDelayedDrag),r(u,"mousemove",s._disableDelayedDrag),r(u,"touchmove",s._disableDelayedDrag),s._dragStartTimer=setTimeout(i,c.delay)):i())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),s(e,"mouseup",this._disableDelayedDrag),s(e,"touchend",this._disableDelayedDrag),s(e,"touchcancel",this._disableDelayedDrag),s(e,"mousemove",this._disableDelayedDrag),s(e,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(e){e?(I={target:b,clientX:e.clientX,clientY:e.clientY},this._onDragStart(I,"touch")):this.nativeDraggable?(r(b,"dragend",this),r(_,"dragstart",this._onDragStart)):this._onDragStart(I,!0);try{W.selection?W.selection.empty():window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(){_&&b&&(o(b,this.options.ghostClass,!0),e.active=this,c(this,_,"start",b,_,N))},_emulateDragOver:function(){if(D){if(this._lastX===D.clientX&&this._lastY===D.clientY)return;this._lastX=D.clientX,this._lastY=D.clientY,j||a(C,"display","none");var e=W.elementFromPoint(D.clientX,D.clientY),t=e,n=" "+this.options.group.name,i=G.length;if(t)do{if(t[H]&&t[H].options.groups.indexOf(n)>-1){for(;i--;)G[i]({clientX:D.clientX,clientY:D.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);j||a(C,"display","")}},_onTouchMove:function(t){if(I){e.active||this._dragStarted(),this._appendGhost();var n=t.touches?t.touches[0]:t,i=n.clientX-I.clientX,r=n.clientY-I.clientY,s=t.touches?"translate3d("+i+"px,"+r+"px,0)":"translate("+i+"px,"+r+"px)";O=!0,D=n,a(C,"webkitTransform",s),a(C,"mozTransform",s),a(C,"msTransform",s),a(C,"transform",s),t.preventDefault()}},_appendGhost:function(){if(!C){var e,t=b.getBoundingClientRect(),n=a(b),i=this.options;C=b.cloneNode(!0),o(C,i.ghostClass,!1),o(C,i.fallbackClass,!0),a(C,"top",t.top-F(n.marginTop,10)),a(C,"left",t.left-F(n.marginLeft,10)),a(C,"width",t.width),a(C,"height",t.height),a(C,"opacity","0.8"),a(C,"position","fixed"),a(C,"zIndex","100000"),a(C,"pointerEvents","none"),i.fallbackOnBody&&W.body.appendChild(C)||_.appendChild(C),e=C.getBoundingClientRect(),a(C,"width",2*t.width-e.width),a(C,"height",2*t.height-e.height)}},_onDragStart:function(e,t){var n=e.dataTransfer,i=this.options;this._offUpEvents(),"clone"==A.pull&&(x=b.cloneNode(!0),a(x,"display","none"),_.insertBefore(x,b)),t?("touch"===t?(r(W,"touchmove",this._onTouchMove),r(W,"touchend",this._onDrop),r(W,"touchcancel",this._onDrop)):(r(W,"mousemove",this._onTouchMove),r(W,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(n&&(n.effectAllowed="move",i.setData&&i.setData.call(this,n,b)),r(W,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(e){var i,r,s,o=this.el,l=this.options,c=l.group,d=c.put,p=A===c,m=l.sort;if(void 0!==e.preventDefault&&(e.preventDefault(),!l.dragoverBubble&&e.stopPropagation()),O=!0,A&&!l.disabled&&(p?m||(s=!_.contains(b)):A.pull&&d&&(A.name===c.name||d.indexOf&&~d.indexOf(A.name)))&&(void 0===e.rootEl||e.rootEl===this.el)){if($(e,l,this.el),U)return;if(i=n(e.target,l.draggable,o),r=b.getBoundingClientRect(),s)return t(!0),void(x||w?_.insertBefore(b,x||w):m||_.appendChild(b));if(0===o.children.length||o.children[0]===C||o===e.target&&(i=f(o,e))){if(i){if(i.animated)return;v=i.getBoundingClientRect()}t(p),u(_,o,b,r,i,v)!==!1&&(b.contains(o)||(o.appendChild(b),y=o),this._animate(r,b),i&&this._animate(v,i))}else if(i&&!i.animated&&i!==b&&void 0!==i.parentNode[H]){k!==i&&(k=i,T=a(i),E=a(i.parentNode));var g,v=i.getBoundingClientRect(),S=v.right-v.left,L=v.bottom-v.top,N=/left|right|inline/.test(T.cssFloat+T.display)||"flex"==E.display&&0===E["flex-direction"].indexOf("row"),M=i.offsetWidth>b.offsetWidth,I=i.offsetHeight>b.offsetHeight,D=(N?(e.clientX-v.left)/S:(e.clientY-v.top)/L)>.5,P=i.nextElementSibling,R=u(_,o,b,r,i,v);if(R!==!1){if(U=!0,setTimeout(h,30),t(p),1===R||-1===R)g=1===R;else if(N){var B=b.offsetTop,W=i.offsetTop;g=B===W?i.previousElementSibling===b&&!M||D&&M:W>B}else g=P!==b&&!I||D&&I;b.contains(o)||(g&&!P?o.appendChild(b):i.parentNode.insertBefore(b,g?P:i)),y=b.parentNode,this._animate(r,b),this._animate(v,i)}}}},_animate:function(e,t){var n=this.options.animation;if(n){var i=t.getBoundingClientRect();a(t,"transition","none"),a(t,"transform","translate3d("+(e.left-i.left)+"px,"+(e.top-i.top)+"px,0)"),t.offsetWidth,a(t,"transition","all "+n+"ms"),a(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=setTimeout(function(){a(t,"transition",""),a(t,"transform",""),t.animated=!1},n)}},_offUpEvents:function(){var e=this.el.ownerDocument;s(W,"touchmove",this._onTouchMove),s(e,"mouseup",this._onDrop),s(e,"touchend",this._onDrop),s(e,"touchcancel",this._onDrop)},_onDrop:function(t){var n=this.el,i=this.options;clearInterval(this._loopId),clearInterval(P.pid),clearTimeout(this._dragStartTimer),s(W,"mousemove",this._onTouchMove),this.nativeDraggable&&(s(W,"drop",this),s(n,"dragstart",this._onDragStart)),this._offUpEvents(),t&&(O&&(t.preventDefault(),!i.dropBubble&&t.stopPropagation()),C&&C.parentNode.removeChild(C),b&&(this.nativeDraggable&&s(b,"dragend",this),d(b),o(b,this.options.ghostClass,!1),o(b,this.options.chosenClass,!1),_!==y?(M=m(b),M>=0&&(c(null,y,"sort",b,_,N,M),c(this,_,"sort",b,_,N,M),c(null,y,"add",b,_,N,M),c(this,_,"remove",b,_,N,M))):(x&&x.parentNode.removeChild(x),b.nextSibling!==w&&(M=m(b),M>=0&&(c(this,_,"update",b,_,N,M),c(this,_,"sort",b,_,N,M)))),e.active&&((null===M||-1===M)&&(M=N),c(this,_,"end",b,_,N,M),this.save())),_=b=y=C=w=x=S=L=I=D=O=M=k=T=A=e.active=null)},handleEvent:function(e){var t=e.type;"dragover"===t||"dragenter"===t?b&&(this._onDragOver(e),i(e)):("drop"===t||"dragend"===t)&&this._onDrop(e)},toArray:function(){for(var e,t=[],i=this.el.children,r=0,s=i.length,o=this.options;s>r;r++)e=i[r],n(e,o.draggable,this.el)&&t.push(e.getAttribute(o.dataIdAttr)||p(e));return t},sort:function(e){var t={},i=this.el;this.toArray().forEach(function(e,r){var s=i.children[r];n(s,this.options.draggable,i)&&(t[e]=s)},this),e.forEach(function(e){t[e]&&(i.removeChild(t[e]),i.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return n(e,t||this.options.draggable,this.el)},option:function(e,t){var n=this.options;return void 0===t?n[e]:(n[e]=t,void("group"===e&&V(n)))},destroy:function(){var e=this.el;e[H]=null,s(e,"mousedown",this._onTapStart),s(e,"touchstart",this._onTapStart),this.nativeDraggable&&(s(e,"dragover",this),s(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),G.splice(G.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},e.utils={on:r,off:s,css:a,find:l,is:function(e,t){return!!n(e,t,e)},extend:v,throttle:g,closest:n,toggleClass:o,index:m},e.create=function(t,n){return new e(t,n)},e.version="1.4.2",e}),function(){"use strict";function e(){var e={parent:document.body,version:"1.0.10",defaultOkLabel:"Ok",okLabel:"Ok",defaultCancelLabel:"Cancel",cancelLabel:"Cancel",defaultMaxLogItems:2,maxLogItems:2,promptValue:"",promptPlaceholder:"",closeLogOnClick:!1,closeLogOnClickDefault:!1,delay:5e3,defaultDelay:5e3,logContainerClass:"alertify-logs",logContainerDefaultClass:"alertify-logs",dialogs:{buttons:{holder:"<nav>{{buttons}}</nav>",ok:"<button class='ok' tabindex='1'>{{ok}}</button>",cancel:"<button class='cancel' tabindex='2'>{{cancel}}</button>"},input:"<input type='text'>",message:"<p class='msg'>{{message}}</p>",log:"<div class='{{class}}'>{{message}}</div>"},defaultDialogs:{buttons:{holder:"<nav>{{buttons}}</nav>",ok:"<button class='ok' tabindex='1'>{{ok}}</button>",cancel:"<button class='cancel' tabindex='2'>{{cancel}}</button>"},input:"<input type='text'>",message:"<p class='msg'>{{message}}</p>",log:"<div class='{{class}}'>{{message}}</div>"},build:function(e){var t=this.dialogs.buttons.ok,n="<div class='dialog'><div>"+this.dialogs.message.replace("{{message}}",e.message);return"confirm"!==e.type&&"prompt"!==e.type||(t=this.dialogs.buttons.cancel+this.dialogs.buttons.ok),"prompt"===e.type&&(n+=this.dialogs.input),n=(n+this.dialogs.buttons.holder+"</div></div>").replace("{{buttons}}",t).replace("{{ok}}",this.okLabel).replace("{{cancel}}",this.cancelLabel)},setCloseLogOnClick:function(e){this.closeLogOnClick=!!e},close:function(e,t){this.closeLogOnClick&&e.addEventListener("click",function(e){n(e.srcElement)}),t=t&&!isNaN(+t)?+t:this.delay,t<0?n(e):t>0&&setTimeout(function(){n(e)},t)},dialog:function(e,t,n,i){return this.setup({type:t,message:e,onOkay:n,onCancel:i})},log:function(e,t,n){var i=document.querySelectorAll(".alertify-logs > div");if(i){var r=i.length-this.maxLogItems;if(r>=0)for(var s=0,o=r+1;s<o;s++)this.close(i[s],-1)}this.notify(e,t,n)},setLogPosition:function(e){this.logContainerClass="alertify-logs "+e},setupLogContainer:function(){var e=document.querySelector(".alertify-logs"),t=this.logContainerClass;return e||(e=document.createElement("div"),e.className=t,this.parent.appendChild(e)),e.className!==t&&(e.className=t),e},notify:function(t,n,i){var r=this.setupLogContainer(),s=document.createElement("div");s.className=n||"default",e.logTemplateMethod?s.innerHTML=e.logTemplateMethod(t):s.innerHTML=t,"function"==typeof i&&s.addEventListener("click",i),r.appendChild(s),setTimeout(function(){s.className+=" show"},10),this.close(s,this.delay)},setup:function(e){function t(t){"function"!=typeof t&&(t=function(){}),r&&r.addEventListener("click",function(r){e.onOkay&&"function"==typeof e.onOkay&&(o?e.onOkay(o.value,r):e.onOkay(r)),t(o?{buttonClicked:"ok",inputValue:o.value,event:r}:{buttonClicked:"ok",event:r}),n(i)}),s&&s.addEventListener("click",function(r){e.onCancel&&"function"==typeof e.onCancel&&e.onCancel(r),t({buttonClicked:"cancel",event:r}),n(i)})}var i=document.createElement("div");i.className="alertify hide",i.innerHTML=this.build(e);var r=i.querySelector(".ok"),s=i.querySelector(".cancel"),o=i.querySelector("input"),a=i.querySelector("label");o&&("string"==typeof this.promptPlaceholder&&(a?a.textContent=this.promptPlaceholder:o.placeholder=this.promptPlaceholder),"string"==typeof this.promptValue&&(o.value=this.promptValue));var l;return"function"==typeof Promise?l=new Promise(t):t(),this.parent.appendChild(i),setTimeout(function(){i.classList.remove("hide"),o&&e.type&&"prompt"===e.type?(o.select(),o.focus()):r&&r.focus()},100),l},okBtn:function(e){return this.okLabel=e,this},setDelay:function(e){return e=e||0,this.delay=isNaN(e)?this.defaultDelay:parseInt(e,10),this},cancelBtn:function(e){return this.cancelLabel=e,this},setMaxLogItems:function(e){this.maxLogItems=parseInt(e||this.defaultMaxLogItems)},theme:function(e){switch(e.toLowerCase()){case"bootstrap":this.dialogs.buttons.ok="<button class='ok btn btn-primary' tabindex='1'>{{ok}}</button>",this.dialogs.buttons.cancel="<button class='cancel btn btn-default' tabindex='2'>{{cancel}}</button>",this.dialogs.input="<input type='text' class='form-control'>";break;case"purecss":this.dialogs.buttons.ok="<button class='ok pure-button' tabindex='1'>{{ok}}</button>",this.dialogs.buttons.cancel="<button class='cancel pure-button' tabindex='2'>{{cancel}}</button>";break;case"mdl":case"material-design-light":this.dialogs.buttons.ok="<button class='ok mdl-button mdl-js-button mdl-js-ripple-effect'  tabindex='1'>{{ok}}</button>",this.dialogs.buttons.cancel="<button class='cancel mdl-button mdl-js-button mdl-js-ripple-effect' tabindex='2'>{{cancel}}</button>",this.dialogs.input="<div class='mdl-textfield mdl-js-textfield'><input class='mdl-textfield__input'><label class='md-textfield__label'></label></div>";break;case"angular-material":this.dialogs.buttons.ok="<button class='ok md-primary md-button' tabindex='1'>{{ok}}</button>",this.dialogs.buttons.cancel="<button class='cancel md-button' tabindex='2'>{{cancel}}</button>",this.dialogs.input="<div layout='column'><md-input-container md-no-float><input type='text'></md-input-container></div>";break;case"default":default:this.dialogs.buttons.ok=this.defaultDialogs.buttons.ok,this.dialogs.buttons.cancel=this.defaultDialogs.buttons.cancel,this.dialogs.input=this.defaultDialogs.input}},reset:function(){this.parent=document.body,this.theme("default"),this.okBtn(this.defaultOkLabel),this.cancelBtn(this.defaultCancelLabel),this.setMaxLogItems(),this.promptValue="",this.promptPlaceholder="",this.delay=this.defaultDelay,this.setCloseLogOnClick(this.closeLogOnClickDefault),this.setLogPosition("bottom left"),this.logTemplateMethod=null},injectCSS:function(){if(!document.querySelector("#alertifyCSS")){var e=document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",t.id="alertifyCSS",t.innerHTML="/* style.css */",e.insertBefore(t,e.firstChild)}},removeCSS:function(){var e=document.querySelector("#alertifyCSS");e&&e.parentNode&&e.parentNode.removeChild(e)}};return e.injectCSS(),{_$$alertify:e,parent:function(t){e.parent=t},reset:function(){return e.reset(),this},alert:function(t,n,i){return e.dialog(t,"alert",n,i)||this},confirm:function(t,n,i){return e.dialog(t,"confirm",n,i)||this},prompt:function(t,n,i){return e.dialog(t,"prompt",n,i)||this},log:function(t,n){return e.log(t,"default",n),this},theme:function(t){return e.theme(t),this},success:function(t,n){var i='<p><i class="material-icons mdl-color-text--green f-left m-r-5">check_circle</i>';return e.log(i+t+"</p>","success",n),this},error:function(t,n){var i='<p><i class="material-icons mdl-color-text--red f-left m-r-5">error</i>';return e.log(i+t+"</p>","error",n),this},cancelBtn:function(t){return e.cancelBtn(t),this},okBtn:function(t){return e.okBtn(t),this},delay:function(t){return e.setDelay(t),this},placeholder:function(t){return e.promptPlaceholder=t,this},defaultValue:function(t){return e.promptValue=t,this},maxLogItems:function(t){return e.setMaxLogItems(t),this},closeLogOnClick:function(t){return e.setCloseLogOnClick(!!t),this},logPosition:function(t){return e.setLogPosition(t||""),this},setLogTemplate:function(t){return e.logTemplateMethod=t,this},clearLogs:function(){return e.setupLogContainer().innerHTML="",this},version:e.version}}var t=500,n=function(e){if(e){var n=function(){e&&e.parentNode&&e.parentNode.removeChild(e)};e.classList.remove("show"),e.classList.add("hide"),e.addEventListener("transitionend",n),setTimeout(n,t)}};if("undefined"!=typeof module&&module&&module.exports){module.exports=function(){return new e};var i=new e;for(var r in i)module.exports[r]=i[r]}else"function"==typeof define&&define.amd?define(function(){return new e}):window.alertify=new e}(),!function(){"use strict";var e=/^(\s*)([*+-]|(\d+)\.)(\s*)/,t="*+-";CodeMirror.commands.newlineAndIndentContinueMarkdownList=function(n){var i,r=n.getCursor(),s=n.getStateAfter(r.line).list!==!1;if(!s||!(i=n.getLine(r.line).match(e)))return void n.execCommand("newlineAndIndent");var o=i[1],a=i[4],l=t.indexOf(i[2])>=0?i[2]:parseInt(i[3],10)+1+".";n.replaceSelection("\n"+o+l+a,"end")}}(),CodeMirror.defineMode("markdown",function(e,t){function n(e,t,n){return t.f=t.inline=n,n(e,t)}function i(e,t,n){return t.f=t.block=n,n(e,t)}function r(e){return e.linkTitle=!1,e.em=!1,e.strong=!1,e.quote=0,g||e.f!=o||(e.f=u,e.block=s),e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.thisLineHasContent=!1,null}function s(e,r){var s=r.list!==!1;r.list!==!1&&r.indentationDiff>=0?(r.indentationDiff<4&&(r.indentation-=r.indentationDiff),r.list=null):r.list!==!1&&r.indentation>0?(r.list=null,r.listDepth=Math.floor(r.indentation/4)):r.list!==!1&&(r.list=!1,r.listDepth=0);var o=null;if(r.indentationDiff>=4)return r.indentation-=4,e.skipToEnd(),_;if(e.eatSpace())return null;if(o=e.match(F))r.header=o[0].length<=6?o[0].length:6;else if(r.prevLineHasContent&&(o=e.match(z)))r.header="="==o[0].charAt(0)?1:2;else if(e.eat(">"))for(r.indentation++,r.quote=1,e.eatSpace();e.eat(">");)e.eatSpace(),r.quote++;else{if("["===e.peek())return n(e,r,h);if(e.match(R,!0))return E;if(r.prevLineHasContent&&!s||!e.match(H,!0)&&!e.match(B,!0)){if(t.fencedCodeBlocks&&e.match(/^```([\w+#]*)/,!0))return r.localMode=y(RegExp.$1),r.localMode&&(r.localState=r.localMode.startState()),i(e,r,a),_}else r.indentation+=4,r.list=!0,r.listDepth++,t.taskLists&&e.match(W,!1)&&(r.taskList=!0)}return n(e,r,r.inline)}function o(e,t){var n=v.token(e,t.htmlState);return g&&"tag"===n&&"openTag"!==t.htmlState.type&&!t.htmlState.context&&(t.f=u,t.block=s),t.md_inside&&-1!=e.current().indexOf(">")&&(t.f=u,t.block=s,t.htmlState.context=void 0),n}function a(e,t){return e.sol()&&e.match(/^```/,!0)?(t.localMode=t.localState=null,t.f=u,t.block=s,_):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),_)}function l(e){var t=[];if(e.taskOpen)return"meta";if(e.taskClosed)return"property";if(e.strong&&t.push(P),e.em&&t.push(O),e.linkText&&t.push(I),e.code&&t.push(_),e.header&&(t.push(x),t.push(x+e.header)),e.quote&&t.push(e.quote%2?w:S),e.list!==!1){var n=(e.listDepth-1)%3;n?1===n?t.push(k):t.push(T):t.push(L)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function c(e,t){return e.match(j,!0)?l(t):void 0}function u(e,r){var s=r.text(e,r);if("undefined"!=typeof s)return s;if(r.list)return r.list=null,l(r);if(r.taskList){var a="x"!==e.match(W,!0)[1];return a?r.taskOpen=!0:r.taskClosed=!0,r.taskList=!1,l(r)}r.taskOpen=!1,r.taskClosed=!1;var c=e.sol(),u=e.next();if("\\"===u)return e.next(),l(r);if(r.linkTitle){r.linkTitle=!1;var h=u;"("===u&&(h=")"),h=(h+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var f="^\\s*(?:[^"+h+"\\\\]+|\\\\\\\\|\\\\.)"+h;if(e.match(new RegExp(f),!0))return D}if("`"===u){var p=l(r),g=e.pos;e.eatWhile("`");var v=1+e.pos-g;return r.code?v===C?(r.code=!1,p):l(r):(C=v,r.code=!0,l(r))}if(r.code)return l(r);if("!"===u&&e.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return e.match(/\[[^\]]*\]/),r.inline=r.f=d,N;if("["===u&&e.match(/.*\](\(| ?\[)/,!1))return r.linkText=!0,l(r);if("]"===u&&r.linkText){var b=l(r);return r.linkText=!1,r.inline=r.f=d,b}if("<"===u&&e.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return n(e,r,m(M,">"));if("<"===u&&e.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return n(e,r,m(A,">"));if("<"===u&&e.match(/^\w/,!1)){if(-1!=e.string.indexOf(">")){var y=e.string.substring(1,e.string.indexOf(">"));/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(y)&&(r.md_inside=!0)}return e.backUp(1),i(e,r,o)}if("<"===u&&e.match(/^\/\w*?>/))return r.md_inside=!1,"tag";var x=!1;if(!t.underscoresBreakWords&&"_"===u&&"_"!==e.peek()&&e.match(/(\w)/,!1)){var _=e.pos-2;if(_>=0){var w=e.string.charAt(_);"_"!==w&&w.match(/(\w)/,!1)&&(x=!0)}}var p=l(r);if("*"===u||"_"===u&&!x)if(c&&" "===e.peek());else{if(r.strong===u&&e.eat(u))return r.strong=!1,p;if(!r.strong&&e.eat(u))return r.strong=u,l(r);if(r.em===u)return r.em=!1,p;if(!r.em)return r.em=u,l(r)}else if(" "===u&&(e.eat("*")||e.eat("_"))){if(" "===e.peek())return l(r);e.backUp(1)}return" "===u&&(e.match(/ +$/,!1)?r.trailingSpace++:r.trailingSpace&&(r.trailingSpaceNewLine=!0)),l(r)}function d(e,t){if(e.eatSpace())return null;var i=e.next();return"("===i||"["===i?n(e,t,m(D,"("===i?")":"]")):"error"}function h(e,t){return e.match(/^[^\]]*\]:/,!0)?(t.f=f,I):n(e,t,u)}function f(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=u,D)}function p(e){return U[e]||(e=(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),U[e]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+e+")")),U[e]}function m(e,t,n){return n=n||u,function(i,r){return i.match(p(t)),r.inline=r.f=n,e}}var g=CodeMirror.modes.hasOwnProperty("xml"),v=CodeMirror.getMode(e,g?{name:"xml",htmlMode:!0}:"text/plain"),b={html:"htmlmixed",js:"javascript",json:"application/json",c:"text/x-csrc","c++":"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp","c#":"text/x-csharp",scala:"text/x-scala"},y=function(){var t,n,i={},r={},s=[];for(var o in CodeMirror.modes)CodeMirror.modes.propertyIsEnumerable(o)&&s.push(o);for(t=0;t<s.length;t++)i[s[t]]=s[t];var a=[];for(var o in CodeMirror.mimeModes)CodeMirror.mimeModes.propertyIsEnumerable(o)&&a.push({mime:o,mode:CodeMirror.mimeModes[o]});for(t=0;t<a.length;t++)n=a[t].mime,r[n]=a[t].mime;for(var l in b)(b[l]in i||b[l]in r)&&(i[l]=b[l]);return function(t){return i[t]?CodeMirror.getMode(e,i[t]):null}}();void 0===t.underscoresBreakWords&&(t.underscoresBreakWords=!0),void 0===t.fencedCodeBlocks&&(t.fencedCodeBlocks=!1),void 0===t.taskLists&&(t.taskLists=!1);var C=0,x="header",_="comment",w="atom",S="number",L="variable-2",k="variable-3",T="keyword",E="hr",N="tag",M="link",A="link",I="link",D="string",O="em",P="strong",R=/^([*\-=_])(?:\s*\1){2,}\s*$/,H=/^[*\-+]\s+/,B=/^[0-9]+\.\s+/,W=/^\[(x| )\](?=\s)/,F=/^#+/,z=/^(?:\={1,}|-{1,})$/,j=/^[^!\[\]*_\\<>` "'(]+/,U=[];return{startState:function(){return{f:s,prevLineHasContent:!1,thisLineHasContent:!1,block:s,htmlState:CodeMirror.startState(v),indentation:0,inline:u,text:c,linkText:!1,linkTitle:!1,em:!1,strong:!1,header:0,taskList:!1,list:!1,listDepth:0,quote:0,trailingSpace:0,trailingSpaceNewLine:!1}},copyState:function(e){return{f:e.f,prevLineHasContent:e.prevLineHasContent,thisLineHasContent:e.thisLineHasContent,block:e.block,htmlState:CodeMirror.copyState(v,e.htmlState),indentation:e.indentation,localMode:e.localMode,localState:e.localMode?CodeMirror.copyState(e.localMode,e.localState):null,inline:e.inline,text:e.text,linkTitle:e.linkTitle,em:e.em,strong:e.strong,header:e.header,taskList:e.taskList,list:e.list,listDepth:e.listDepth,quote:e.quote,trailingSpace:e.trailingSpace,trailingSpaceNewLine:e.trailingSpaceNewLine,md_inside:e.md_inside}},token:function(e,t){if(e.sol()){if(e.match(/^\s*$/,!0))return t.prevLineHasContent=!1,r(t);t.prevLineHasContent=t.thisLineHasContent,t.thisLineHasContent=!0,t.header=0,t.taskList=!1,t.code=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.f=t.block;var n=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length,i=4*Math.floor((n-t.indentation)/4);i>4&&(i=4);var s=t.indentation+i;if(t.indentationDiff=s-t.indentation,t.indentation=s,n>0)return null}return t.f(e,t)},blankLine:r,getType:l}},"xml"),CodeMirror.defineMIME("text/x-markdown","markdown"),CodeMirror.defineMode("xml",function(e,t){function n(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();if("<"==r){if(e.eat("!"))return e.eat("[")?e.match("CDATA[")?n(s("atom","]]>")):null:e.match("--")?n(s("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(o(1))):null;if(e.eat("?"))return e.eatWhile(/[\w\._\-]/),t.tokenize=s("meta","?>"),"meta";var a=e.eat("/");y="";for(var l;l=e.eat(/[^\s\u00a0=<>\"\'\/?]/);)y+=l;return y?(C=a?"closeTag":"openTag",t.tokenize=i,"tag"):"tag error"}if("&"==r){var c;return c=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),c?"atom":"error"}return e.eatWhile(/[^&<]/),null}function i(e,t){var i=e.next();if(">"==i||"/"==i&&e.eat(">"))return t.tokenize=n,C=">"==i?"endTag":"selfcloseTag","tag";if("="==i)return C="equals",null;if("<"==i){t.tokenize=n;var s=t.tokenize(e,t);return s?s+" error":"error"}return/[\'\"]/.test(i)?(t.tokenize=r(i),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.eatWhile(/[^\s\u00a0=<>\"\']/),"word")}function r(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=i;break}return"string"};return t.isInAttribute=!0,t}function s(e,t){return function(i,r){for(;!i.eol();){if(i.match(t)){r.tokenize=n;break}i.next()}return e}}function o(e){return function(t,i){for(var r;null!=(r=t.next());){if("<"==r)return i.tokenize=o(e+1),i.tokenize(t,i);if(">"==r){if(1==e){i.tokenize=n;break}return i.tokenize=o(e-1),i.tokenize(t,i)}}return"meta"}}function a(){for(var e=arguments.length-1;e>=0;e--)x.cc.push(arguments[e])}function l(){return a.apply(null,arguments),!0}function c(e,t){var n=T.doNotIndent.hasOwnProperty(e)||x.context&&x.context.noIndent;x.context={prev:x.context,tagName:e,indent:x.indented,startOfLine:t,noIndent:n}}function u(){x.context&&(x.context=x.context.prev)}function d(e){if("openTag"==e)return x.tagName=y,x.tagStart=_.column(),l(m,h(x.startOfLine));if("closeTag"==e){var t=!1;return x.context?x.context.tagName!=y&&(T.implicitlyClosed.hasOwnProperty(x.context.tagName.toLowerCase())&&u(),t=!x.context||x.context.tagName!=y):t=!0,t&&(w="error"),l(f(t))}return l()}function h(e){return function(t){var n=x.tagName;return x.tagName=x.tagStart=null,"selfcloseTag"==t||"endTag"==t&&T.autoSelfClosers.hasOwnProperty(n.toLowerCase())?(p(n.toLowerCase()),l()):"endTag"==t?(p(n.toLowerCase()),c(n,e),l()):l()}}function f(e){return function(t){return e&&(w="error"),"endTag"==t?(u(),l()):(w="error",l(arguments.callee))}}function p(e){for(var t;;){if(!x.context)return;if(t=x.context.tagName.toLowerCase(),!T.contextGrabbers.hasOwnProperty(t)||!T.contextGrabbers[t].hasOwnProperty(e))return;u()}}function m(e){return"word"==e?(w="attribute",l(g,m)):"endTag"==e||"selfcloseTag"==e?a():(w="error",l(m))}function g(e){if("equals"==e)return l(v,m);if(T.allowMissing){if("word"==e)return w="attribute",l(g,m)}else w="error";return"endTag"==e||"selfcloseTag"==e?a():l()}function v(e){return"string"==e?l(b):"word"==e&&T.allowUnquoted?(w="string",l()):(w="error","endTag"==e||"selfCloseTag"==e?a():l())}function b(e){return"string"==e?l(b):a()}var y,C,x,_,w,S=e.indentUnit,L=t.multilineTagIndentFactor||1,k=t.multilineTagIndentPastTag||!0,T=t.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},E=t.alignCDATA;return{startState:function(){return{tokenize:n,cc:[],indented:0,startOfLine:!0,tagName:null,tagStart:null,context:null}},token:function(e,t){if(!t.tagName&&e.sol()&&(t.startOfLine=!0,t.indented=e.indentation()),e.eatSpace())return null;w=C=y=null;var n=t.tokenize(e,t);if(t.type=C,(n||C)&&"comment"!=n)for(x=t,_=e;;){var i=t.cc.pop()||d;if(i(C||n))break}return t.startOfLine=!1,w&&(n="error"==w?n+" error":w),n},indent:function(e,t,r){var s=e.context;if(e.tokenize.isInAttribute)return e.stringStartCol+1;if(e.tokenize!=i&&e.tokenize!=n||s&&s.noIndent)return r?r.match(/^(\s*)/)[0].length:0;if(e.tagName)return k?e.tagStart+e.tagName.length+2:e.tagStart+S*L;if(E&&/<!\[CDATA\[/.test(t))return 0;for(s&&/^<\//.test(t)&&(s=s.prev);s&&!s.startOfLine;)s=s.prev;return s?s.indent+S:0},electricChars:"/",blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:t.htmlMode?"html":"xml",helperType:t.htmlMode?"html":"xml"}}),CodeMirror.defineMIME("text/xml","xml"),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0}),!function(e){var t="object"==typeof window&&window||"object"==typeof self&&self;"undefined"!=typeof exports?e(exports):t&&(t.hljs=e({}),"function"==typeof define&&define.amd&&define([],function(){return t.hljs}))}(function(e){function t(e){return e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;")}function n(e){return e.nodeName.toLowerCase()}function i(e,t){var n=e&&e.exec(t);return n&&0==n.index}function r(e){return/^(no-?highlight|plain|text)$/i.test(e)}function s(e){var t,n,i,s=e.className+" ";if(s+=e.parentNode?e.parentNode.className:"",n=/\blang(?:uage)?-([\w-]+)\b/i.exec(s))return C(n[1])?n[1]:"no-highlight";for(s=s.split(/\s+/),t=0,i=s.length;i>t;t++)if(C(s[t])||r(s[t]))return s[t]}function o(e,t){var n,i={};for(n in e)i[n]=e[n];if(t)for(n in t)i[n]=t[n];return i}function a(e){var t=[];return function i(e,r){for(var s=e.firstChild;s;s=s.nextSibling)3==s.nodeType?r+=s.nodeValue.length:1==s.nodeType&&(t.push({event:"start",offset:r,node:s}),r=i(s,r),n(s).match(/br|hr|img|input/)||t.push({event:"stop",offset:r,node:s}));return r}(e,0),t}function l(e,i,r){function s(){return e.length&&i.length?e[0].offset!=i[0].offset?e[0].offset<i[0].offset?e:i:"start"==i[0].event?e:i:e.length?e:i}function o(e){function i(e){return" "+e.nodeName+'="'+t(e.value)+'"'}u+="<"+n(e)+Array.prototype.map.call(e.attributes,i).join("")+">"}function a(e){u+="</"+n(e)+">"}function l(e){("start"==e.event?o:a)(e.node)}for(var c=0,u="",d=[];e.length||i.length;){var h=s();if(u+=t(r.substr(c,h[0].offset-c)),c=h[0].offset,h==e){d.reverse().forEach(a);do l(h.splice(0,1)[0]),h=s();while(h==e&&h.length&&h[0].offset==c);d.reverse().forEach(o)}else"start"==h[0].event?d.push(h[0].node):d.pop(),l(h.splice(0,1)[0])}return u+t(r.substr(c))}function c(e){function t(e){return e&&e.source||e}function n(n,i){return new RegExp(t(n),"m"+(e.cI?"i":"")+(i?"g":""))}function i(r,s){if(!r.compiled){if(r.compiled=!0,r.k=r.k||r.bK,r.k){var a={},l=function(t,n){e.cI&&(n=n.toLowerCase()),n.split(" ").forEach(function(e){var n=e.split("|");a[n[0]]=[t,n[1]?Number(n[1]):1]})};"string"==typeof r.k?l("keyword",r.k):Object.keys(r.k).forEach(function(e){l(e,r.k[e])}),r.k=a}r.lR=n(r.l||/\b\w+\b/,!0),s&&(r.bK&&(r.b="\\b("+r.bK.split(" ").join("|")+")\\b"),r.b||(r.b=/\B|\b/),r.bR=n(r.b),r.e||r.eW||(r.e=/\B|\b/),r.e&&(r.eR=n(r.e)),r.tE=t(r.e)||"",r.eW&&s.tE&&(r.tE+=(r.e?"|":"")+s.tE)),r.i&&(r.iR=n(r.i)),void 0===r.r&&(r.r=1),r.c||(r.c=[]);var c=[];r.c.forEach(function(e){e.v?e.v.forEach(function(t){c.push(o(e,t))}):c.push("self"==e?r:e)}),r.c=c,r.c.forEach(function(e){i(e,r)}),r.starts&&i(r.starts,s);var u=r.c.map(function(e){return e.bK?"\\.?("+e.b+")\\.?":e.b}).concat([r.tE,r.i]).map(t).filter(Boolean);r.t=u.length?n(u.join("|"),!0):{exec:function(){return null}}}}i(e)}function u(e,n,r,s){function o(e,t){for(var n=0;n<t.c.length;n++)if(i(t.c[n].bR,e))return t.c[n]}function a(e,t){if(i(e.eR,t)){for(;e.endsParent&&e.parent;)e=e.parent;return e}return e.eW?a(e.parent,t):void 0}function l(e,t){return!r&&i(t.iR,e)}function h(e,t){var n=y.cI?t[0].toLowerCase():t[0];return e.k.hasOwnProperty(n)&&e.k[n]}function f(e,t,n,i){var r=i?"":x.classPrefix,s='<span class="'+r,o=n?"":"</span>";return s+=e+'">',s+t+o}function p(){if(!S.k)return t(T);var e="",n=0;S.lR.lastIndex=0;for(var i=S.lR.exec(T);i;){e+=t(T.substr(n,i.index-n));var r=h(S,i);r?(E+=r[1],e+=f(r[0],t(i[0]))):e+=t(i[0]),
n=S.lR.lastIndex,i=S.lR.exec(T)}return e+t(T.substr(n))}function m(){var e="string"==typeof S.sL;if(e&&!_[S.sL])return t(T);var n=e?u(S.sL,T,!0,L[S.sL]):d(T,S.sL.length?S.sL:void 0);return S.r>0&&(E+=n.r),e&&(L[S.sL]=n.top),f(n.language,n.value,!1,!0)}function g(){k+=void 0!==S.sL?m():p(),T=""}function v(e,t){k+=e.cN?f(e.cN,"",!0):"",S=Object.create(e,{parent:{value:S}})}function b(e,t){if(T+=e,void 0===t)return g(),0;var n=o(t,S);if(n)return n.skip?T+=t:(n.eB&&(T+=t),g(),n.rB||n.eB||(T=t)),v(n,t),n.rB?0:t.length;var i=a(S,t);if(i){var r=S;r.skip?T+=t:(r.rE||r.eE||(T+=t),g(),r.eE&&(T=t));do S.cN&&(k+="</span>"),S.skip||(E+=S.r),S=S.parent;while(S!=i.parent);return i.starts&&v(i.starts,""),r.rE?0:t.length}if(l(t,S))throw new Error('Illegal lexeme "'+t+'" for mode "'+(S.cN||"<unnamed>")+'"');return T+=t,t.length||1}var y=C(e);if(!y)throw new Error('Unknown language: "'+e+'"');c(y);var w,S=s||y,L={},k="";for(w=S;w!=y;w=w.parent)w.cN&&(k=f(w.cN,"",!0)+k);var T="",E=0;try{for(var N,M,A=0;S.t.lastIndex=A,N=S.t.exec(n),N;)M=b(n.substr(A,N.index-A),N[0]),A=N.index+M;for(b(n.substr(A)),w=S;w.parent;w=w.parent)w.cN&&(k+="</span>");return{r:E,value:k,language:e,top:S}}catch(I){if(-1!=I.message.indexOf("Illegal"))return{r:0,value:t(n)};throw I}}function d(e,n){n=n||x.languages||Object.keys(_);var i={r:0,value:t(e)},r=i;return n.forEach(function(t){if(C(t)){var n=u(t,e,!1);n.language=t,n.r>r.r&&(r=n),n.r>i.r&&(r=i,i=n)}}),r.language&&(i.second_best=r),i}function h(e){return x.tabReplace&&(e=e.replace(/^((<[^>]+>|\t)+)/gm,function(e,t){return t.replace(/\t/g,x.tabReplace)})),x.useBR&&(e=e.replace(/\n/g,"<br>")),e}function f(e,t,n){var i=t?w[t]:n,r=[e.trim()];return e.match(/\bhljs\b/)||r.push("hljs"),-1===e.indexOf(i)&&r.push(i),r.join(" ").trim()}function p(e){var t=s(e);if(!r(t)){var n;x.useBR?(n=document.createElementNS("http://www.w3.org/1999/xhtml","div"),n.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n")):n=e;var i=n.textContent,o=t?u(t,i,!0):d(i),c=a(n);if(c.length){var p=document.createElementNS("http://www.w3.org/1999/xhtml","div");p.innerHTML=o.value,o.value=l(c,a(p),i)}o.value=h(o.value),e.innerHTML=o.value,e.className=f(e.className,t,o.language),e.result={language:o.language,re:o.r},o.second_best&&(e.second_best={language:o.second_best.language,re:o.second_best.r})}}function m(e){x=o(x,e)}function g(){if(!g.called){g.called=!0;var e=document.querySelectorAll("pre code");Array.prototype.forEach.call(e,p)}}function v(){addEventListener("DOMContentLoaded",g,!1),addEventListener("load",g,!1)}function b(t,n){var i=_[t]=n(e);i.aliases&&i.aliases.forEach(function(e){w[e]=t})}function y(){return Object.keys(_)}function C(e){return e=(e||"").toLowerCase(),_[e]||_[w[e]]}var x={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},_={},w={};return e.highlight=u,e.highlightAuto=d,e.fixMarkup=h,e.highlightBlock=p,e.configure=m,e.initHighlighting=g,e.initHighlightingOnLoad=v,e.registerLanguage=b,e.listLanguages=y,e.getLanguage=C,e.inherit=o,e.IR="[a-zA-Z]\\w*",e.UIR="[a-zA-Z_]\\w*",e.NR="\\b\\d+(\\.\\d+)?",e.CNR="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",e.BNR="\\b(0b[01]+)",e.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",e.BE={b:"\\\\[\\s\\S]",r:0},e.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[e.BE]},e.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[e.BE]},e.PWM={b:/\b(a|an|the|are|I|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|like)\b/},e.C=function(t,n,i){var r=e.inherit({cN:"comment",b:t,e:n,c:[]},i||{});return r.c.push(e.PWM),r.c.push({cN:"doctag",b:"(?:TODO|FIXME|NOTE|BUG|XXX):",r:0}),r},e.CLCM=e.C("//","$"),e.CBCM=e.C("/\\*","\\*/"),e.HCM=e.C("#","$"),e.NM={cN:"number",b:e.NR,r:0},e.CNM={cN:"number",b:e.CNR,r:0},e.BNM={cN:"number",b:e.BNR,r:0},e.CSSNM={cN:"number",b:e.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",r:0},e.RM={cN:"regexp",b:/\//,e:/\/[gimuy]*/,i:/\n/,c:[e.BE,{b:/\[/,e:/\]/,r:0,c:[e.BE]}]},e.TM={cN:"title",b:e.IR,r:0},e.UTM={cN:"title",b:e.UIR,r:0},e.METHOD_GUARD={b:"\\.\\s*"+e.UIR,r:0},e.registerLanguage("apache",function(e){var t={cN:"number",b:"[\\$%]\\d+"};return{aliases:["apacheconf"],cI:!0,c:[e.HCM,{cN:"section",b:"</?",e:">"},{cN:"attribute",b:/\w+/,r:0,k:{nomarkup:"order deny allow setenv rewriterule rewriteengine rewritecond documentroot sethandler errordocument loadmodule options header listen serverroot servername"},starts:{e:/$/,r:0,k:{literal:"on off all"},c:[{cN:"meta",b:"\\s\\[",e:"\\]$"},{cN:"variable",b:"[\\$%]\\{",e:"\\}",c:["self",t]},t,e.QSM]}}],i:/\S/}}),e.registerLanguage("bash",function(e){var t={cN:"variable",v:[{b:/\$[\w\d#@][\w\d_]*/},{b:/\$\{(.*?)}/}]},n={cN:"string",b:/"/,e:/"/,c:[e.BE,t,{cN:"variable",b:/\$\(/,e:/\)/,c:[e.BE]}]},i={cN:"string",b:/'/,e:/'/};return{aliases:["sh","zsh"],l:/-?[a-z\.]+/,k:{keyword:"if then else elif fi for while in do done case esac function",literal:"true false",built_in:"break cd continue eval exec exit export getopts hash pwd readonly return shift test times trap umask unset alias bind builtin caller command declare echo enable help let local logout mapfile printf read readarray source type typeset ulimit unalias set shopt autoload bg bindkey bye cap chdir clone comparguments compcall compctl compdescribe compfiles compgroups compquote comptags comptry compvalues dirs disable disown echotc echoti emulate fc fg float functions getcap getln history integer jobs kill limit log noglob popd print pushd pushln rehash sched setcap setopt stat suspend ttyctl unfunction unhash unlimit unsetopt vared wait whence where which zcompile zformat zftp zle zmodload zparseopts zprof zpty zregexparse zsocket zstyle ztcp",_:"-ne -eq -lt -gt -f -d -e -s -l -a"},c:[{cN:"meta",b:/^#![^\n]+sh\s*$/,r:10},{cN:"function",b:/\w[\w\d_]*\s*\(\s*\)\s*\{/,rB:!0,c:[e.inherit(e.TM,{b:/\w[\w\d_]*/})],r:0},e.HCM,n,i,t]}}),e.registerLanguage("coffeescript",function(e){var t={keyword:"in if for while finally new do return else break catch instanceof throw try this switch continue typeof delete debugger super then unless until loop of by when and or is isnt not",literal:"true false null undefined yes no on off",built_in:"npm require console print module global window document"},n="[A-Za-z$_][0-9A-Za-z$_]*",i={cN:"subst",b:/#\{/,e:/}/,k:t},r=[e.BNM,e.inherit(e.CNM,{starts:{e:"(\\s*/)?",r:0}}),{cN:"string",v:[{b:/'''/,e:/'''/,c:[e.BE]},{b:/'/,e:/'/,c:[e.BE]},{b:/"""/,e:/"""/,c:[e.BE,i]},{b:/"/,e:/"/,c:[e.BE,i]}]},{cN:"regexp",v:[{b:"///",e:"///",c:[i,e.HCM]},{b:"//[gim]*",r:0},{b:/\/(?![ *])(\\\/|.)*?\/[gim]*(?=\W|$)/}]},{b:"@"+n},{b:"`",e:"`",eB:!0,eE:!0,sL:"javascript"}];i.c=r;var s=e.inherit(e.TM,{b:n}),o="(\\(.*\\))?\\s*\\B[-=]>",a={cN:"params",b:"\\([^\\(]",rB:!0,c:[{b:/\(/,e:/\)/,k:t,c:["self"].concat(r)}]};return{aliases:["coffee","cson","iced"],k:t,i:/\/\*/,c:r.concat([e.C("###","###"),e.HCM,{cN:"function",b:"^\\s*"+n+"\\s*=\\s*"+o,e:"[-=]>",rB:!0,c:[s,a]},{b:/[:\(,=]\s*/,r:0,c:[{cN:"function",b:o,e:"[-=]>",rB:!0,c:[a]}]},{cN:"class",bK:"class",e:"$",i:/[:="\[\]]/,c:[{bK:"extends",eW:!0,i:/[:="\[\]]/,c:[s]},s]},{b:n+":",e:":",rB:!0,rE:!0,r:0}])}}),e.registerLanguage("cpp",function(e){var t={cN:"keyword",b:"\\b[a-z\\d_]*_t\\b"},n={cN:"string",v:[e.inherit(e.QSM,{b:'((u8?|U)|L)?"'}),{b:'(u8?|U)?R"',e:'"',c:[e.BE]},{b:"'\\\\?.",e:"'",i:"."}]},i={cN:"number",v:[{b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},{b:e.CNR}],r:0},r={cN:"meta",b:"#",e:"$",k:{"meta-keyword":"if else elif endif define undef warning error line pragma ifdef ifndef"},c:[{b:/\\\n/,r:0},{bK:"include",e:"$",k:{"meta-keyword":"include"},c:[e.inherit(n,{cN:"meta-string"}),{cN:"meta-string",b:"<",e:">",i:"\\n"}]},n,e.CLCM,e.CBCM]},s=e.IR+"\\s*\\(",o={keyword:"int float while private char catch export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const struct for static_cast|10 union namespace unsigned long volatile static protected bool template mutable if public friend do goto auto void enum else break extern using class asm case typeid short reinterpret_cast|10 default double register explicit signed typename try this switch continue inline delete alignof constexpr decltype noexcept static_assert thread_local restrict _Bool complex _Complex _Imaginary atomic_bool atomic_char atomic_schar atomic_uchar atomic_short atomic_ushort atomic_int atomic_uint atomic_long atomic_ulong atomic_llong atomic_ullong",built_in:"std string cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap array shared_ptr abort abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr",literal:"true false nullptr NULL"};return{aliases:["c","cc","h","c++","h++","hpp"],k:o,i:"</",c:[t,e.CLCM,e.CBCM,i,n,r,{b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:o,c:["self",t]},{b:e.IR+"::",k:o},{bK:"new throw return else",r:0},{cN:"function",b:"("+e.IR+"[\\*&\\s]+)+"+s,rB:!0,e:/[{;=]/,eE:!0,k:o,i:/[^\w\s\*&]/,c:[{b:s,rB:!0,c:[e.TM],r:0},{cN:"params",b:/\(/,e:/\)/,k:o,r:0,c:[e.CLCM,e.CBCM,n,i]},e.CLCM,e.CBCM,r]}]}}),e.registerLanguage("cs",function(e){var t="abstract as base bool break byte case catch char checked const continue decimal dynamic default delegate do double else enum event explicit extern false finally fixed float for foreach goto if implicit in int interface internal is lock long null when object operator out override params private protected public readonly ref sbyte sealed short sizeof stackalloc static string struct switch this true try typeof uint ulong unchecked unsafe ushort using virtual volatile void while async protected public private internal ascending descending from get group into join let orderby partial select set value var where yield",n=e.IR+"(<"+e.IR+">)?";return{aliases:["csharp"],k:t,i:/::/,c:[e.C("///","$",{rB:!0,c:[{cN:"doctag",v:[{b:"///",r:0},{b:"<!--|-->"},{b:"</?",e:">"}]}]}),e.CLCM,e.CBCM,{cN:"meta",b:"#",e:"$",k:{"meta-keyword":"if else elif endif define undef warning error line region endregion pragma checksum"}},{cN:"string",b:'@"',e:'"',c:[{b:'""'}]},e.ASM,e.QSM,e.CNM,{bK:"class interface",e:/[{;=]/,i:/[^\s:]/,c:[e.TM,e.CLCM,e.CBCM]},{bK:"namespace",e:/[{;=]/,i:/[^\s:]/,c:[e.inherit(e.TM,{b:"[a-zA-Z](\\.?\\w)*"}),e.CLCM,e.CBCM]},{bK:"new return throw await",r:0},{cN:"function",b:"("+n+"\\s+)+"+e.IR+"\\s*\\(",rB:!0,e:/[{;=]/,eE:!0,k:t,c:[{b:e.IR+"\\s*\\(",rB:!0,c:[e.TM],r:0},{cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,k:t,r:0,c:[e.ASM,e.QSM,e.CNM,e.CBCM]},e.CLCM,e.CBCM]}]}}),e.registerLanguage("css",function(e){var t="[a-zA-Z-][a-zA-Z0-9_-]*",n={b:/[A-Z\_\.\-]+\s*:/,rB:!0,e:";",eW:!0,c:[{cN:"attribute",b:/\S/,e:":",eE:!0,starts:{eW:!0,eE:!0,c:[{b:/[\w-]+\(/,rB:!0,c:[{cN:"built_in",b:/[\w-]+/},{b:/\(/,e:/\)/,c:[e.ASM,e.QSM]}]},e.CSSNM,e.QSM,e.ASM,e.CBCM,{cN:"number",b:"#[0-9A-Fa-f]+"},{cN:"meta",b:"!important"}]}}]};return{cI:!0,i:/[=\/|'\$]/,c:[e.CBCM,{cN:"selector-id",b:/#[A-Za-z0-9_-]+/},{cN:"selector-class",b:/\.[A-Za-z0-9_-]+/},{cN:"selector-attr",b:/\[/,e:/\]/,i:"$"},{cN:"selector-pseudo",b:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{b:"@(font-face|page)",l:"[a-z-]+",k:"font-face page"},{b:"@",e:"[{;]",c:[{cN:"keyword",b:/\S+/},{b:/\s/,eW:!0,eE:!0,r:0,c:[e.ASM,e.QSM,e.CSSNM]}]},{cN:"selector-tag",b:t,r:0},{b:"{",e:"}",i:/\S/,c:[e.CBCM,n]}]}}),e.registerLanguage("diff",function(e){return{aliases:["patch"],c:[{cN:"meta",r:10,v:[{b:/^@@ +\-\d+,\d+ +\+\d+,\d+ +@@$/},{b:/^\*\*\* +\d+,\d+ +\*\*\*\*$/},{b:/^\-\-\- +\d+,\d+ +\-\-\-\-$/}]},{cN:"comment",v:[{b:/Index: /,e:/$/},{b:/=====/,e:/=====$/},{b:/^\-\-\-/,e:/$/},{b:/^\*{3} /,e:/$/},{b:/^\+\+\+/,e:/$/},{b:/\*{5}/,e:/\*{5}$/}]},{cN:"addition",b:"^\\+",e:"$"},{cN:"deletion",b:"^\\-",e:"$"},{cN:"addition",b:"^\\!",e:"$"}]}}),e.registerLanguage("http",function(e){var t="HTTP/[0-9\\.]+";return{aliases:["https"],i:"\\S",c:[{b:"^"+t,e:"$",c:[{cN:"number",b:"\\b\\d{3}\\b"}]},{b:"^[A-Z]+ (.*?) "+t+"$",rB:!0,e:"$",c:[{cN:"string",b:" ",e:" ",eB:!0,eE:!0},{b:t},{cN:"keyword",b:"[A-Z]+"}]},{cN:"attribute",b:"^\\w",e:": ",eE:!0,i:"\\n|\\s|=",starts:{e:"$",r:0}},{b:"\\n\\n",starts:{sL:[],eW:!0}}]}}),e.registerLanguage("ini",function(e){var t={cN:"string",c:[e.BE],v:[{b:"'''",e:"'''",r:10},{b:'"""',e:'"""',r:10},{b:'"',e:'"'},{b:"'",e:"'"}]};return{aliases:["toml"],cI:!0,i:/\S/,c:[e.C(";","$"),e.HCM,{cN:"section",b:/^\s*\[+/,e:/\]+/},{b:/^[a-z0-9\[\]_-]+\s*=\s*/,e:"$",rB:!0,c:[{cN:"attr",b:/[a-z0-9\[\]_-]+/},{b:/=/,eW:!0,r:0,c:[{cN:"literal",b:/\bon|off|true|false|yes|no\b/},{cN:"variable",v:[{b:/\$[\w\d"][\w\d_]*/},{b:/\$\{(.*?)}/}]},t,{cN:"number",b:/([\+\-]+)?[\d]+_[\d_]+/},e.NM]}]}]}}),e.registerLanguage("java",function(e){var t=e.UIR+"(<"+e.UIR+"(\\s*,\\s*"+e.UIR+")*>)?",n="false synchronized int abstract float private char boolean static null if const for true while long strictfp finally protected import native final void enum else break transient catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private",i="\\b(0[bB]([01]+[01_]+[01]+|[01]+)|0[xX]([a-fA-F0-9]+[a-fA-F0-9_]+[a-fA-F0-9]+|[a-fA-F0-9]+)|(([\\d]+[\\d_]+[\\d]+|[\\d]+)(\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))?|\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))([eE][-+]?\\d+)?)[lLfF]?",r={cN:"number",b:i,r:0};return{aliases:["jsp"],k:n,i:/<\/|#/,c:[e.C("/\\*\\*","\\*/",{r:0,c:[{b:/\w+@/,r:0},{cN:"doctag",b:"@[A-Za-z]+"}]}),e.CLCM,e.CBCM,e.ASM,e.QSM,{cN:"class",bK:"class interface",e:/[{;=]/,eE:!0,k:"class interface",i:/[:"\[\]]/,c:[{bK:"extends implements"},e.UTM]},{bK:"new throw return else",r:0},{cN:"function",b:"("+t+"\\s+)+"+e.UIR+"\\s*\\(",rB:!0,e:/[{;=]/,eE:!0,k:n,c:[{b:e.UIR+"\\s*\\(",rB:!0,r:0,c:[e.UTM]},{cN:"params",b:/\(/,e:/\)/,k:n,r:0,c:[e.ASM,e.QSM,e.CNM,e.CBCM]},e.CLCM,e.CBCM]},r,{cN:"meta",b:"@[A-Za-z]+"}]}}),e.registerLanguage("javascript",function(e){return{aliases:["js","jsx"],k:{keyword:"in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await static import from as",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise"},c:[{cN:"meta",r:10,b:/^\s*['"]use (strict|asm)['"]/},{cN:"meta",b:/^#!/,e:/$/},e.ASM,e.QSM,{cN:"string",b:"`",e:"`",c:[e.BE,{cN:"subst",b:"\\$\\{",e:"\\}"}]},e.CLCM,e.CBCM,{cN:"number",v:[{b:"\\b(0[bB][01]+)"},{b:"\\b(0[oO][0-7]+)"},{b:e.CNR}],r:0},{b:"("+e.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[e.CLCM,e.CBCM,e.RM,{b:/</,e:/(\/\w+|\w+\/)>/,sL:"xml",c:[{b:/<\w+\/>/,skip:!0},{b:/<\w+/,e:/(\/\w+|\w+\/)>/,skip:!0,c:["self"]}]}],r:0},{cN:"function",bK:"function",e:/\{/,eE:!0,c:[e.inherit(e.TM,{b:/[A-Za-z$_][0-9A-Za-z$_]*/}),{cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,c:[e.CLCM,e.CBCM]}],i:/\[|%/},{b:/\$[(.]/},e.METHOD_GUARD,{cN:"class",bK:"class",e:/[{;=]/,eE:!0,i:/[:"\[\]]/,c:[{bK:"extends"},e.UTM]},{bK:"constructor",e:/\{/,eE:!0}],i:/#(?!!)/}}),e.registerLanguage("json",function(e){var t={literal:"true false null"},n=[e.QSM,e.CNM],i={e:",",eW:!0,eE:!0,c:n,k:t},r={b:"{",e:"}",c:[{cN:"attr",b:/"/,e:/"/,c:[e.BE],i:"\\n"},e.inherit(i,{b:/:/})],i:"\\S"},s={b:"\\[",e:"\\]",c:[e.inherit(i)],i:"\\S"};return n.splice(n.length,0,r,s),{c:n,k:t,i:"\\S"}}),e.registerLanguage("makefile",function(e){var t={cN:"variable",b:/\$\(/,e:/\)/,c:[e.BE]};return{aliases:["mk","mak"],c:[e.HCM,{b:/^\w+\s*\W*=/,rB:!0,r:0,starts:{e:/\s*\W*=/,eE:!0,starts:{e:/$/,r:0,c:[t]}}},{cN:"section",b:/^[\w]+:\s*$/},{cN:"meta",b:/^\.PHONY:/,e:/$/,k:{"meta-keyword":".PHONY"},l:/[\.\w]+/},{b:/^\t+/,e:/$/,r:0,c:[e.QSM,t]}]}}),e.registerLanguage("xml",function(e){var t="[A-Za-z0-9\\._:-]+",n={eW:!0,i:/</,r:0,c:[{cN:"attr",b:t,r:0},{b:"=",r:0,c:[{cN:"string",v:[{b:/"/,e:/"/},{b:/'/,e:/'/},{b:/[^\s\/>]+/}]}]}]};return{aliases:["html","xhtml","rss","atom","xsl","plist"],cI:!0,c:[{cN:"meta",b:"<!DOCTYPE",e:">",r:10,c:[{b:"\\[",e:"\\]"}]},e.C("<!--","-->",{r:10}),{b:"<\\!\\[CDATA\\[",e:"\\]\\]>",r:10},{b:/<\?(php)?/,e:/\?>/,sL:"php",c:[{b:"/\\*",e:"\\*/",skip:!0}]},{cN:"tag",b:"<style(?=\\s|>|$)",e:">",k:{name:"style"},c:[n],starts:{e:"</style>",rE:!0,sL:["css","xml"]}},{cN:"tag",b:"<script(?=\\s|>|$)",e:">",k:{name:"script"},c:[n],starts:{e:"</script>",rE:!0,sL:["actionscript","javascript","handlebars","xml"]}},{cN:"meta",v:[{b:/<\?xml/,e:/\?>/,r:10},{b:/<\?\w+/,e:/\?>/}]},{cN:"tag",b:"</?",e:"/?>",c:[{cN:"name",b:/[^\/><\s]+/,r:0},n]}]}}),e.registerLanguage("markdown",function(e){return{aliases:["md","mkdown","mkd"],c:[{cN:"section",v:[{b:"^#{1,6}",e:"$"},{b:"^.+?\\n[=-]{2,}$"}]},{b:"<",e:">",sL:"xml",r:0},{cN:"bullet",b:"^([*+-]|(\\d+\\.))\\s+"},{cN:"strong",b:"[*_]{2}.+?[*_]{2}"},{cN:"emphasis",v:[{b:"\\*.+?\\*"},{b:"_.+?_",r:0}]},{cN:"quote",b:"^>\\s+",e:"$"},{cN:"code",v:[{b:"`.+?`"},{b:"^( {4}|\t)",e:"$",r:0}]},{b:"^[-\\*]{3,}",e:"$"},{b:"\\[.+?\\][\\(\\[].*?[\\)\\]]",rB:!0,c:[{cN:"string",b:"\\[",e:"\\]",eB:!0,rE:!0,r:0},{cN:"link",b:"\\]\\(",e:"\\)",eB:!0,eE:!0},{cN:"symbol",b:"\\]\\[",e:"\\]",eB:!0,eE:!0}],r:10},{b:"^\\[.+\\]:",rB:!0,c:[{cN:"symbol",b:"\\[",e:"\\]:",eB:!0,eE:!0,starts:{cN:"link",e:"$"}}]}]}}),e.registerLanguage("nginx",function(e){var t={cN:"variable",v:[{b:/\$\d+/},{b:/\$\{/,e:/}/},{b:"[\\$\\@]"+e.UIR}]},n={eW:!0,l:"[a-z/_]+",k:{literal:"on off yes no true false none blocked debug info notice warn error crit select break last permanent redirect kqueue rtsig epoll poll /dev/poll"},r:0,i:"=>",c:[e.HCM,{cN:"string",c:[e.BE,t],v:[{b:/"/,e:/"/},{b:/'/,e:/'/}]},{b:"([a-z]+):/",e:"\\s",eW:!0,eE:!0,c:[t]},{cN:"regexp",c:[e.BE,t],v:[{b:"\\s\\^",e:"\\s|{|;",rE:!0},{b:"~\\*?\\s+",e:"\\s|{|;",rE:!0},{b:"\\*(\\.[a-z\\-]+)+"},{b:"([a-z\\-]+\\.)+\\*"}]},{cN:"number",b:"\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b"},{cN:"number",b:"\\b\\d+[kKmMgGdshdwy]*\\b",r:0},t]};return{aliases:["nginxconf"],c:[e.HCM,{b:e.UIR+"\\s+{",rB:!0,e:"{",c:[{cN:"section",b:e.UIR}],r:0},{b:e.UIR+"\\s",e:";|{",rB:!0,c:[{cN:"attribute",b:e.UIR,starts:n}],r:0}],i:"[^\\s\\}]"}}),e.registerLanguage("objectivec",function(e){var t={cN:"built_in",b:"(AV|CA|CF|CG|CI|MK|MP|NS|UI|XC)\\w+"},n={keyword:"int float while char export sizeof typedef const struct for union unsigned long volatile static bool mutable if do return goto void enum else break extern asm case short default double register explicit signed typename this switch continue wchar_t inline readonly assign readwrite self @synchronized id typeof nonatomic super unichar IBOutlet IBAction strong weak copy in out inout bycopy byref oneway __strong __weak __block __autoreleasing @private @protected @public @try @property @end @throw @catch @finally @autoreleasepool @synthesize @dynamic @selector @optional @required",literal:"false true FALSE TRUE nil YES NO NULL",built_in:"BOOL dispatch_once_t dispatch_queue_t dispatch_sync dispatch_async dispatch_once"},i=/[a-zA-Z@][a-zA-Z0-9_]*/,r="@interface @class @protocol @implementation";return{aliases:["mm","objc","obj-c"],k:n,l:i,i:"</",c:[t,e.CLCM,e.CBCM,e.CNM,e.QSM,{cN:"string",v:[{b:'@"',e:'"',i:"\\n",c:[e.BE]},{b:"'",e:"[^\\\\]'",i:"[^\\\\][^']"}]},{cN:"meta",b:"#",e:"$",c:[{cN:"meta-string",v:[{b:'"',e:'"'},{b:"<",e:">"}]}]},{cN:"class",b:"("+r.split(" ").join("|")+")\\b",e:"({|$)",eE:!0,k:r,l:i,c:[e.UTM]},{b:"\\."+e.UIR,r:0}]}}),e.registerLanguage("perl",function(e){var t="getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qqfileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmgetsub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedirioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0 break given say state when",n={cN:"subst",b:"[$@]\\{",e:"\\}",k:t},i={b:"->{",e:"}"},r={v:[{b:/\$\d/},{b:/[\$%@](\^\w\b|#\w+(::\w+)*|{\w+}|\w+(::\w*)*)/},{b:/[\$%@][^\s\w{]/,r:0}]},s=[e.BE,n,r],o=[r,e.HCM,e.C("^\\=\\w","\\=cut",{eW:!0}),i,{cN:"string",c:s,v:[{b:"q[qwxr]?\\s*\\(",e:"\\)",r:5},{b:"q[qwxr]?\\s*\\[",e:"\\]",r:5},{b:"q[qwxr]?\\s*\\{",e:"\\}",r:5},{b:"q[qwxr]?\\s*\\|",e:"\\|",r:5},{b:"q[qwxr]?\\s*\\<",e:"\\>",r:5},{b:"qw\\s+q",e:"q",r:5},{b:"'",e:"'",c:[e.BE]},{b:'"',e:'"'},{b:"`",e:"`",c:[e.BE]},{b:"{\\w+}",c:[],r:0},{b:"-?\\w+\\s*\\=\\>",c:[],r:0}]},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{b:"(\\/\\/|"+e.RSR+"|\\b(split|return|print|reverse|grep)\\b)\\s*",k:"split return print reverse grep",r:0,c:[e.HCM,{cN:"regexp",b:"(s|tr|y)/(\\\\.|[^/])*/(\\\\.|[^/])*/[a-z]*",r:10},{cN:"regexp",b:"(m|qr)?/",e:"/[a-z]*",c:[e.BE],r:0}]},{cN:"function",bK:"sub",e:"(\\s*\\(.*?\\))?[;{]",eE:!0,r:5,c:[e.TM]},{b:"-\\w\\b",r:0},{b:"^__DATA__$",e:"^__END__$",sL:"mojolicious",c:[{b:"^@@.*",e:"$",cN:"comment"}]}];return n.c=o,i.c=o,{aliases:["pl"],k:t,c:o}}),e.registerLanguage("php",function(e){var t={b:"\\$+[a-zA-Z_-ÿ][a-zA-Z0-9_-ÿ]*"},n={cN:"meta",b:/<\?(php)?|\?>/},i={cN:"string",c:[e.BE,n],v:[{b:'b"',e:'"'},{b:"b'",e:"'"},e.inherit(e.ASM,{i:null}),e.inherit(e.QSM,{i:null})]},r={v:[e.BNM,e.CNM]};return{aliases:["php3","php4","php5","php6"],cI:!0,k:"and include_once list abstract global private echo interface as static endswitch array null if endwhile or const for endforeach self var while isset public protected exit foreach throw elseif include __FILE__ empty require_once do xor return parent clone use __CLASS__ __LINE__ else break print eval new catch __METHOD__ case exception default die require __FUNCTION__ enddeclare final try switch continue endfor endif declare unset true false trait goto instanceof insteadof __DIR__ __NAMESPACE__ yield finally",c:[e.HCM,e.C("//","$",{c:[n]}),e.C("/\\*","\\*/",{c:[{cN:"doctag",b:"@[A-Za-z]+"}]}),e.C("__halt_compiler.+?;",!1,{eW:!0,k:"__halt_compiler",l:e.UIR}),{cN:"string",b:/<<<['"]?\w+['"]?$/,e:/^\w+;?$/,c:[e.BE,{cN:"subst",v:[{b:/\$\w+/},{b:/\{\$/,e:/\}/}]}]},n,t,{b:/(::|->)+[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/},{cN:"function",bK:"function",e:/[;{]/,eE:!0,i:"\\$|\\[|%",c:[e.UTM,{cN:"params",b:"\\(",e:"\\)",c:["self",t,e.CBCM,i,r]}]},{cN:"class",bK:"class interface",e:"{",eE:!0,i:/[:\(\$"]/,c:[{bK:"extends implements"},e.UTM]},{bK:"namespace",e:";",i:/[\.']/,c:[e.UTM]},{bK:"use",e:";",c:[e.UTM]},{b:"=>"},i,r]}}),e.registerLanguage("python",function(e){var t={cN:"meta",b:/^(>>>|\.\.\.) /},n={cN:"string",c:[e.BE],v:[{b:/(u|b)?r?'''/,e:/'''/,c:[t],r:10},{b:/(u|b)?r?"""/,e:/"""/,c:[t],r:10},{b:/(u|r|ur)'/,e:/'/,r:10},{b:/(u|r|ur)"/,e:/"/,r:10},{b:/(b|br)'/,e:/'/},{b:/(b|br)"/,e:/"/},e.ASM,e.QSM]},i={cN:"number",r:0,v:[{b:e.BNR+"[lLjJ]?"},{b:"\\b(0o[0-7]+)[lLjJ]?"},{b:e.CNR+"[lLjJ]?"}]},r={cN:"params",b:/\(/,e:/\)/,c:["self",t,i,n]};return{aliases:["py","gyp"],k:{keyword:"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda async await nonlocal|10 None True False",built_in:"Ellipsis NotImplemented"},i:/(<\/|->|\?)/,c:[t,i,n,e.HCM,{v:[{cN:"function",bK:"def",r:10},{cN:"class",bK:"class"}],e:/:/,i:/[${=;\n,]/,c:[e.UTM,r,{b:/->/,eW:!0,k:"None"}]},{cN:"meta",b:/^[\t ]*@/,e:/$/},{b:/\b(print|exec)\(/}]}}),e.registerLanguage("ruby",function(e){var t="[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?",n="and false then defined module in return redo if BEGIN retry end for true self when next until do begin unless END rescue nil else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor",i={cN:"doctag",b:"@[A-Za-z]+"},r={b:"#<",e:">"},s=[e.C("#","$",{c:[i]}),e.C("^\\=begin","^\\=end",{c:[i],r:10}),e.C("^__END__","\\n$")],o={cN:"subst",b:"#\\{",e:"}",k:n},a={cN:"string",c:[e.BE,o],v:[{b:/'/,e:/'/},{b:/"/,e:/"/},{b:/`/,e:/`/},{b:"%[qQwWx]?\\(",e:"\\)"},{b:"%[qQwWx]?\\[",e:"\\]"},{b:"%[qQwWx]?{",e:"}"},{b:"%[qQwWx]?<",e:">"},{b:"%[qQwWx]?/",e:"/"},{b:"%[qQwWx]?%",e:"%"},{b:"%[qQwWx]?-",e:"-"},{b:"%[qQwWx]?\\|",e:"\\|"},{b:/\B\?(\\\d{1,3}|\\x[A-Fa-f0-9]{1,2}|\\u[A-Fa-f0-9]{4}|\\?\S)\b/}]},l={cN:"params",b:"\\(",e:"\\)",endsParent:!0,k:n},c=[a,r,{cN:"class",bK:"class module",e:"$|;",i:/=/,c:[e.inherit(e.TM,{b:"[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?"}),{b:"<\\s*",c:[{b:"("+e.IR+"::)?"+e.IR}]}].concat(s)},{cN:"function",bK:"def",e:"$|;",c:[e.inherit(e.TM,{b:t}),l].concat(s)},{cN:"symbol",b:e.UIR+"(\\!|\\?)?:",r:0},{cN:"symbol",b:":",c:[a,{b:t}],r:0},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{b:"(\\$\\W)|((\\$|\\@\\@?)(\\w+))"},{b:"("+e.RSR+")\\s*",c:[r,{cN:"regexp",c:[e.BE,o],i:/\n/,v:[{b:"/",e:"/[a-z]*"},{b:"%r{",e:"}[a-z]*"},{b:"%r\\(",e:"\\)[a-z]*"},{b:"%r!",e:"![a-z]*"},{b:"%r\\[",e:"\\][a-z]*"}]}].concat(s),r:0}].concat(s);o.c=c,l.c=c;var u="[>?]>",d="[\\w#]+\\(\\w+\\):\\d+:\\d+>",h="(\\w+-)?\\d+\\.\\d+\\.\\d(p\\d+)?[^>]+>",f=[{b:/^\s*=>/,starts:{e:"$",c:c}},{cN:"meta",b:"^("+u+"|"+d+"|"+h+")",starts:{e:"$",c:c}}];return{aliases:["rb","gemspec","podspec","thor","irb"],k:n,i:/\/\*/,c:s.concat(f).concat(c)}}),e.registerLanguage("sql",function(e){var t=e.C("--","$");return{cI:!0,i:/[<>{}*]/,c:[{bK:"begin end start commit rollback savepoint lock alter create drop rename call delete do handler insert load replace select truncate update set show pragma grant merge describe use explain help declare prepare execute deallocate release unlock purge reset change stop analyze cache flush optimize repair kill install uninstall checksum restore check backup revoke",e:/;/,eW:!0,k:{keyword:"abort abs absolute acc acce accep accept access accessed accessible account acos action activate add addtime admin administer advanced advise aes_decrypt aes_encrypt after agent aggregate ali alia alias allocate allow alter always analyze ancillary and any anydata anydataset anyschema anytype apply archive archived archivelog are as asc ascii asin assembly assertion associate asynchronous at atan atn2 attr attri attrib attribu attribut attribute attributes audit authenticated authentication authid authors auto autoallocate autodblink autoextend automatic availability avg backup badfile basicfile before begin beginning benchmark between bfile bfile_base big bigfile bin binary_double binary_float binlog bit_and bit_count bit_length bit_or bit_xor bitmap blob_base block blocksize body both bound buffer_cache buffer_pool build bulk by byte byteordermark bytes cache caching call calling cancel capacity cascade cascaded case cast catalog category ceil ceiling chain change changed char_base char_length character_length characters characterset charindex charset charsetform charsetid check checksum checksum_agg child choose chr chunk class cleanup clear client clob clob_base clone close cluster_id cluster_probability cluster_set clustering coalesce coercibility col collate collation collect colu colum column column_value columns columns_updated comment commit compact compatibility compiled complete composite_limit compound compress compute concat concat_ws concurrent confirm conn connec connect connect_by_iscycle connect_by_isleaf connect_by_root connect_time connection consider consistent constant constraint constraints constructor container content contents context contributors controlfile conv convert convert_tz corr corr_k corr_s corresponding corruption cos cost count count_big counted covar_pop covar_samp cpu_per_call cpu_per_session crc32 create creation critical cross cube cume_dist curdate current current_date current_time current_timestamp current_user cursor curtime customdatum cycle data database databases datafile datafiles datalength date_add date_cache date_format date_sub dateadd datediff datefromparts datename datepart datetime2fromparts day day_to_second dayname dayofmonth dayofweek dayofyear days db_role_change dbtimezone ddl deallocate declare decode decompose decrement decrypt deduplicate def defa defau defaul default defaults deferred defi defin define degrees delayed delegate delete delete_all delimited demand dense_rank depth dequeue des_decrypt des_encrypt des_key_file desc descr descri describ describe descriptor deterministic diagnostics difference dimension direct_load directory disable disable_all disallow disassociate discardfile disconnect diskgroup distinct distinctrow distribute distributed div do document domain dotnet double downgrade drop dumpfile duplicate duration each edition editionable editions element ellipsis else elsif elt empty enable enable_all enclosed encode encoding encrypt end end-exec endian enforced engine engines enqueue enterprise entityescaping eomonth error errors escaped evalname evaluate event eventdata events except exception exceptions exchange exclude excluding execu execut execute exempt exists exit exp expire explain export export_set extended extent external external_1 external_2 externally extract failed failed_login_attempts failover failure far fast feature_set feature_value fetch field fields file file_name_convert filesystem_like_logging final finish first first_value fixed flash_cache flashback floor flush following follows for forall force form forma format found found_rows freelist freelists freepools fresh from from_base64 from_days ftp full function general generated get get_format get_lock getdate getutcdate global global_name globally go goto grant grants greatest group group_concat group_id grouping grouping_id groups gtid_subtract guarantee guard handler hash hashkeys having hea head headi headin heading heap help hex hierarchy high high_priority hosts hour http id ident_current ident_incr ident_seed identified identity idle_time if ifnull ignore iif ilike ilm immediate import in include including increment index indexes indexing indextype indicator indices inet6_aton inet6_ntoa inet_aton inet_ntoa infile initial initialized initially initrans inmemory inner innodb input insert install instance instantiable instr interface interleaved intersect into invalidate invisible is is_free_lock is_ipv4 is_ipv4_compat is_not is_not_null is_used_lock isdate isnull isolation iterate java join json json_exists keep keep_duplicates key keys kill language large last last_day last_insert_id last_value lax lcase lead leading least leaves left len lenght length less level levels library like like2 like4 likec limit lines link list listagg little ln load load_file lob lobs local localtime localtimestamp locate locator lock locked log log10 log2 logfile logfiles logging logical logical_reads_per_call logoff logon logs long loop low low_priority lower lpad lrtrim ltrim main make_set makedate maketime managed management manual map mapping mask master master_pos_wait match matched materialized max maxextents maximize maxinstances maxlen maxlogfiles maxloghistory maxlogmembers maxsize maxtrans md5 measures median medium member memcompress memory merge microsecond mid migration min minextents minimum mining minus minute minvalue missing mod mode model modification modify module monitoring month months mount move movement multiset mutex name name_const names nan national native natural nav nchar nclob nested never new newline next nextval no no_write_to_binlog noarchivelog noaudit nobadfile nocheck nocompress nocopy nocycle nodelay nodiscardfile noentityescaping noguarantee nokeep nologfile nomapping nomaxvalue nominimize nominvalue nomonitoring none noneditionable nonschema noorder nopr nopro noprom nopromp noprompt norely noresetlogs noreverse normal norowdependencies noschemacheck noswitch not nothing notice notrim novalidate now nowait nth_value nullif nulls num numb numbe nvarchar nvarchar2 object ocicoll ocidate ocidatetime ociduration ociinterval ociloblocator ocinumber ociref ocirefcursor ocirowid ocistring ocitype oct octet_length of off offline offset oid oidindex old on online only opaque open operations operator optimal optimize option optionally or oracle oracle_date oradata ord ordaudio orddicom orddoc order ordimage ordinality ordvideo organization orlany orlvary out outer outfile outline output over overflow overriding package pad parallel parallel_enable parameters parent parse partial partition partitions pascal passing password password_grace_time password_lock_time password_reuse_max password_reuse_time password_verify_function patch path patindex pctincrease pctthreshold pctused pctversion percent percent_rank percentile_cont percentile_disc performance period period_add period_diff permanent physical pi pipe pipelined pivot pluggable plugin policy position post_transaction pow power pragma prebuilt precedes preceding precision prediction prediction_cost prediction_details prediction_probability prediction_set prepare present preserve prior priority private private_sga privileges procedural procedure procedure_analyze processlist profiles project prompt protection public publishingservername purge quarter query quick quiesce quota quotename radians raise rand range rank raw read reads readsize rebuild record records recover recovery recursive recycle redo reduced ref reference referenced references referencing refresh regexp_like register regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy reject rekey relational relative relaylog release release_lock relies_on relocate rely rem remainder rename repair repeat replace replicate replication required reset resetlogs resize resource respect restore restricted result result_cache resumable resume retention return returning returns reuse reverse revoke right rlike role roles rollback rolling rollup round row row_count rowdependencies rowid rownum rows rtrim rules safe salt sample save savepoint sb1 sb2 sb4 scan schema schemacheck scn scope scroll sdo_georaster sdo_topo_geometry search sec_to_time second section securefile security seed segment select self sequence sequential serializable server servererror session session_user sessions_per_user set sets settings sha sha1 sha2 share shared shared_pool short show shrink shutdown si_averagecolor si_colorhistogram si_featurelist si_positionalcolor si_stillimage si_texture siblings sid sign sin size size_t sizes skip slave sleep smalldatetimefromparts smallfile snapshot some soname sort soundex source space sparse spfile split sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_small_result sql_variant_property sqlcode sqldata sqlerror sqlname sqlstate sqrt square standalone standby start starting startup statement static statistics stats_binomial_test stats_crosstab stats_ks_test stats_mode stats_mw_test stats_one_way_anova stats_t_test_ stats_t_test_indep stats_t_test_one stats_t_test_paired stats_wsr_test status std stddev stddev_pop stddev_samp stdev stop storage store stored str str_to_date straight_join strcmp strict string struct stuff style subdate subpartition subpartitions substitutable substr substring subtime subtring_index subtype success sum suspend switch switchoffset switchover sync synchronous synonym sys sys_xmlagg sysasm sysaux sysdate sysdatetimeoffset sysdba sysoper system system_user sysutcdatetime table tables tablespace tan tdo template temporary terminated tertiary_weights test than then thread through tier ties time time_format time_zone timediff timefromparts timeout timestamp timestampadd timestampdiff timezone_abbr timezone_minute timezone_region to to_base64 to_date to_days to_seconds todatetimeoffset trace tracking transaction transactional translate translation treat trigger trigger_nestlevel triggers trim truncate try_cast try_convert try_parse type ub1 ub2 ub4 ucase unarchived unbounded uncompress under undo unhex unicode uniform uninstall union unique unix_timestamp unknown unlimited unlock unpivot unrecoverable unsafe unsigned until untrusted unusable unused update updated upgrade upped upper upsert url urowid usable usage use use_stored_outlines user user_data user_resources users using utc_date utc_timestamp uuid uuid_short validate validate_password_strength validation valist value values var var_samp varcharc vari varia variab variabl variable variables variance varp varraw varrawc varray verify version versions view virtual visible void wait wallet warning warnings week weekday weekofyear wellformed when whene whenev wheneve whenever where while whitespace with within without work wrapped xdb xml xmlagg xmlattributes xmlcast xmlcolattval xmlelement xmlexists xmlforest xmlindex xmlnamespaces xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltype xor year year_to_month years yearweek",
literal:"true false null",built_in:"array bigint binary bit blob boolean char character date dec decimal float int int8 integer interval number numeric real record serial serial8 smallint text varchar varying void"},c:[{cN:"string",b:"'",e:"'",c:[e.BE,{b:"''"}]},{cN:"string",b:'"',e:'"',c:[e.BE,{b:'""'}]},{cN:"string",b:"`",e:"`",c:[e.BE]},e.CNM,e.CBCM,t]},e.CBCM,t]}}),e}),!function(e){var t=!0;e.flexslider=function(n,i){var r=e(n);r.vars=e.extend({},e.flexslider.defaults,i);var s,o=r.vars.namespace,a=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,l=("ontouchstart"in window||a||window.DocumentTouch&&document instanceof DocumentTouch)&&r.vars.touch,c="click touchend MSPointerUp keyup",u="",d="vertical"===r.vars.direction,h=r.vars.reverse,f=r.vars.itemWidth>0,p="fade"===r.vars.animation,m=""!==r.vars.asNavFor,g={};e.data(n,"flexslider",r),g={init:function(){r.animating=!1,r.currentSlide=parseInt(r.vars.startAt?r.vars.startAt:0,10),isNaN(r.currentSlide)&&(r.currentSlide=0),r.animatingTo=r.currentSlide,r.atEnd=0===r.currentSlide||r.currentSlide===r.last,r.containerSelector=r.vars.selector.substr(0,r.vars.selector.search(" ")),r.slides=e(r.vars.selector,r),r.container=e(r.containerSelector,r),r.count=r.slides.length,r.syncExists=e(r.vars.sync).length>0,"slide"===r.vars.animation&&(r.vars.animation="swing"),r.prop=d?"top":"marginLeft",r.args={},r.manualPause=!1,r.stopped=!1,r.started=!1,r.startTimeout=null,r.transitions=!r.vars.video&&!p&&r.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in t)if(void 0!==e.style[t[n]])return r.pfx=t[n].replace("Perspective","").toLowerCase(),r.prop="-"+r.pfx+"-transform",!0;return!1}(),r.ensureAnimationEnd="",""!==r.vars.controlsContainer&&(r.controlsContainer=e(r.vars.controlsContainer).length>0&&e(r.vars.controlsContainer)),""!==r.vars.manualControls&&(r.manualControls=e(r.vars.manualControls).length>0&&e(r.vars.manualControls)),""!==r.vars.customDirectionNav&&(r.customDirectionNav=2===e(r.vars.customDirectionNav).length&&e(r.vars.customDirectionNav)),r.vars.randomize&&(r.slides.sort(function(){return Math.round(Math.random())-.5}),r.container.empty().append(r.slides)),r.doMath(),r.setup("init"),r.vars.controlNav&&g.controlNav.setup(),r.vars.directionNav&&g.directionNav.setup(),r.vars.keyboard&&(1===e(r.containerSelector).length||r.vars.multipleKeyboard)&&e(document).bind("keyup",function(e){var t=e.keyCode;if(!r.animating&&(39===t||37===t)){var n=39===t?r.getTarget("next"):37===t&&r.getTarget("prev");r.flexAnimate(n,r.vars.pauseOnAction)}}),r.vars.mousewheel&&r.bind("mousewheel",function(e,t,n,i){e.preventDefault();var s=0>t?r.getTarget("next"):r.getTarget("prev");r.flexAnimate(s,r.vars.pauseOnAction)}),r.vars.pausePlay&&g.pausePlay.setup(),r.vars.slideshow&&r.vars.pauseInvisible&&g.pauseInvisible.init(),r.vars.slideshow&&(r.vars.pauseOnHover&&r.hover(function(){r.manualPlay||r.manualPause||r.pause()},function(){r.manualPause||r.manualPlay||r.stopped||r.play()}),r.vars.pauseInvisible&&g.pauseInvisible.isHidden()||(r.vars.initDelay>0?r.startTimeout=setTimeout(r.play,r.vars.initDelay):r.play())),m&&g.asNav.setup(),l&&r.vars.touch&&g.touch(),(!p||p&&r.vars.smoothHeight)&&e(window).bind("resize orientationchange focus",g.resize),r.find("img").attr("draggable","false"),setTimeout(function(){r.vars.start(r)},200)},asNav:{setup:function(){r.asNav=!0,r.animatingTo=Math.floor(r.currentSlide/r.move),r.currentItem=r.currentSlide,r.slides.removeClass(o+"active-slide").eq(r.currentItem).addClass(o+"active-slide"),a?(n._slider=r,r.slides.each(function(){var t=this;t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),t.addEventListener("MSGestureTap",function(t){t.preventDefault();var n=e(this),i=n.index();e(r.vars.asNavFor).data("flexslider").animating||n.hasClass("active")||(r.direction=r.currentItem<i?"next":"prev",r.flexAnimate(i,r.vars.pauseOnAction,!1,!0,!0))})})):r.slides.on(c,function(t){t.preventDefault();var n=e(this),i=n.index(),s=n.offset().left-e(r).scrollLeft();0>=s&&n.hasClass(o+"active-slide")?r.flexAnimate(r.getTarget("prev"),!0):e(r.vars.asNavFor).data("flexslider").animating||n.hasClass(o+"active-slide")||(r.direction=r.currentItem<i?"next":"prev",r.flexAnimate(i,r.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){r.manualControls?g.controlNav.setupManual():g.controlNav.setupPaging()},setupPaging:function(){var t,n,i="thumbnails"===r.vars.controlNav?"control-thumbs":"control-paging",s=1;if(r.controlNavScaffold=e('<ol class="'+o+"control-nav "+o+i+'"></ol>'),r.pagingCount>1)for(var a=0;a<r.pagingCount;a++){if(n=r.slides.eq(a),void 0===n.attr("data-thumb-alt")&&n.attr("data-thumb-alt",""),altText=""!==n.attr("data-thumb-alt")?altText=' alt="'+n.attr("data-thumb-alt")+'"':"",t="thumbnails"===r.vars.controlNav?'<img src="'+n.attr("data-thumb")+'"'+altText+"/>":'<a href="#">'+s+"</a>","thumbnails"===r.vars.controlNav&&!0===r.vars.thumbCaptions){var l=n.attr("data-thumbcaption");""!==l&&void 0!==l&&(t+='<span class="'+o+'caption">'+l+"</span>")}r.controlNavScaffold.append("<li>"+t+"</li>"),s++}r.controlsContainer?e(r.controlsContainer).append(r.controlNavScaffold):r.append(r.controlNavScaffold),g.controlNav.set(),g.controlNav.active(),r.controlNavScaffold.delegate("a, img",c,function(t){if(t.preventDefault(),""===u||u===t.type){var n=e(this),i=r.controlNav.index(n);n.hasClass(o+"active")||(r.direction=i>r.currentSlide?"next":"prev",r.flexAnimate(i,r.vars.pauseOnAction))}""===u&&(u=t.type),g.setToClearWatchedEvent()})},setupManual:function(){r.controlNav=r.manualControls,g.controlNav.active(),r.controlNav.bind(c,function(t){if(t.preventDefault(),""===u||u===t.type){var n=e(this),i=r.controlNav.index(n);n.hasClass(o+"active")||(i>r.currentSlide?r.direction="next":r.direction="prev",r.flexAnimate(i,r.vars.pauseOnAction))}""===u&&(u=t.type),g.setToClearWatchedEvent()})},set:function(){var t="thumbnails"===r.vars.controlNav?"img":"a";r.controlNav=e("."+o+"control-nav li "+t,r.controlsContainer?r.controlsContainer:r)},active:function(){r.controlNav.removeClass(o+"active").eq(r.animatingTo).addClass(o+"active")},update:function(t,n){r.pagingCount>1&&"add"===t?r.controlNavScaffold.append(e('<li><a href="#">'+r.count+"</a></li>")):1===r.pagingCount?r.controlNavScaffold.find("li").remove():r.controlNav.eq(n).closest("li").remove(),g.controlNav.set(),r.pagingCount>1&&r.pagingCount!==r.controlNav.length?r.update(n,t):g.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+o+'direction-nav"><li class="'+o+'nav-prev"><a class="'+o+'prev" href="#">'+r.vars.prevText+'</a></li><li class="'+o+'nav-next"><a class="'+o+'next" href="#">'+r.vars.nextText+"</a></li></ul>");r.customDirectionNav?r.directionNav=r.customDirectionNav:r.controlsContainer?(e(r.controlsContainer).append(t),r.directionNav=e("."+o+"direction-nav li a",r.controlsContainer)):(r.append(t),r.directionNav=e("."+o+"direction-nav li a",r)),g.directionNav.update(),r.directionNav.bind(c,function(t){t.preventDefault();var n;(""===u||u===t.type)&&(n=e(this).hasClass(o+"next")?r.getTarget("next"):r.getTarget("prev"),r.flexAnimate(n,r.vars.pauseOnAction)),""===u&&(u=t.type),g.setToClearWatchedEvent()})},update:function(){var e=o+"disabled";1===r.pagingCount?r.directionNav.addClass(e).attr("tabindex","-1"):r.vars.animationLoop?r.directionNav.removeClass(e).removeAttr("tabindex"):0===r.animatingTo?r.directionNav.removeClass(e).filter("."+o+"prev").addClass(e).attr("tabindex","-1"):r.animatingTo===r.last?r.directionNav.removeClass(e).filter("."+o+"next").addClass(e).attr("tabindex","-1"):r.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var t=e('<div class="'+o+'pauseplay"><a href="#"></a></div>');r.controlsContainer?(r.controlsContainer.append(t),r.pausePlay=e("."+o+"pauseplay a",r.controlsContainer)):(r.append(t),r.pausePlay=e("."+o+"pauseplay a",r)),g.pausePlay.update(r.vars.slideshow?o+"pause":o+"play"),r.pausePlay.bind(c,function(t){t.preventDefault(),(""===u||u===t.type)&&(e(this).hasClass(o+"pause")?(r.manualPause=!0,r.manualPlay=!1,r.pause()):(r.manualPause=!1,r.manualPlay=!0,r.play())),""===u&&(u=t.type),g.setToClearWatchedEvent()})},update:function(e){"play"===e?r.pausePlay.removeClass(o+"pause").addClass(o+"play").html(r.vars.playText):r.pausePlay.removeClass(o+"play").addClass(o+"pause").html(r.vars.pauseText)}},touch:function(){function e(e){e.stopPropagation(),r.animating?e.preventDefault():(r.pause(),n._gesture.addPointer(e.pointerId),_=0,c=d?r.h:r.w,m=Number(new Date),l=f&&h&&r.animatingTo===r.last?0:f&&h?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:f&&r.currentSlide===r.last?r.limit:f?(r.itemW+r.vars.itemMargin)*r.move*r.currentSlide:h?(r.last-r.currentSlide+r.cloneOffset)*c:(r.currentSlide+r.cloneOffset)*c)}function t(e){e.stopPropagation();var t=e.target._slider;if(t){var i=-e.translationX,r=-e.translationY;return _+=d?r:i,u=_,y=d?Math.abs(_)<Math.abs(-i):Math.abs(_)<Math.abs(-r),e.detail===e.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){n._gesture.stop()}):void((!y||Number(new Date)-m>500)&&(e.preventDefault(),!p&&t.transitions&&(t.vars.animationLoop||(u=_/(0===t.currentSlide&&0>_||t.currentSlide===t.last&&_>0?Math.abs(_)/c+2:1)),t.setProps(l+u,"setTouch"))))}}function i(e){e.stopPropagation();var t=e.target._slider;if(t){if(t.animatingTo===t.currentSlide&&!y&&null!==u){var n=h?-u:u,i=n>0?t.getTarget("next"):t.getTarget("prev");t.canAdvance(i)&&(Number(new Date)-m<550&&Math.abs(n)>50||Math.abs(n)>c/2)?t.flexAnimate(i,t.vars.pauseOnAction):p||t.flexAnimate(t.currentSlide,t.vars.pauseOnAction,!0)}s=null,o=null,u=null,l=null,_=0}}var s,o,l,c,u,m,g,v,b,y=!1,C=0,x=0,_=0;a?(n.style.msTouchAction="none",n._gesture=new MSGesture,n._gesture.target=n,n.addEventListener("MSPointerDown",e,!1),n._slider=r,n.addEventListener("MSGestureChange",t,!1),n.addEventListener("MSGestureEnd",i,!1)):(g=function(e){r.animating?e.preventDefault():(window.navigator.msPointerEnabled||1===e.touches.length)&&(r.pause(),c=d?r.h:r.w,m=Number(new Date),C=e.touches[0].pageX,x=e.touches[0].pageY,l=f&&h&&r.animatingTo===r.last?0:f&&h?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:f&&r.currentSlide===r.last?r.limit:f?(r.itemW+r.vars.itemMargin)*r.move*r.currentSlide:h?(r.last-r.currentSlide+r.cloneOffset)*c:(r.currentSlide+r.cloneOffset)*c,s=d?x:C,o=d?C:x,n.addEventListener("touchmove",v,!1),n.addEventListener("touchend",b,!1))},v=function(e){C=e.touches[0].pageX,x=e.touches[0].pageY,u=d?s-x:s-C,y=d?Math.abs(u)<Math.abs(C-o):Math.abs(u)<Math.abs(x-o);var t=500;(!y||Number(new Date)-m>t)&&(e.preventDefault(),!p&&r.transitions&&(r.vars.animationLoop||(u/=0===r.currentSlide&&0>u||r.currentSlide===r.last&&u>0?Math.abs(u)/c+2:1),r.setProps(l+u,"setTouch")))},b=function(e){if(n.removeEventListener("touchmove",v,!1),r.animatingTo===r.currentSlide&&!y&&null!==u){var t=h?-u:u,i=t>0?r.getTarget("next"):r.getTarget("prev");r.canAdvance(i)&&(Number(new Date)-m<550&&Math.abs(t)>50||Math.abs(t)>c/2)?r.flexAnimate(i,r.vars.pauseOnAction):p||r.flexAnimate(r.currentSlide,r.vars.pauseOnAction,!0)}n.removeEventListener("touchend",b,!1),s=null,o=null,u=null,l=null},n.addEventListener("touchstart",g,!1))},resize:function(){!r.animating&&r.is(":visible")&&(f||r.doMath(),p?g.smoothHeight():f?(r.slides.width(r.computedW),r.update(r.pagingCount),r.setProps()):d?(r.viewport.height(r.h),r.setProps(r.h,"setTotal")):(r.vars.smoothHeight&&g.smoothHeight(),r.newSlides.width(r.computedW),r.setProps(r.computedW,"setTotal")))},smoothHeight:function(e){if(!d||p){var t=p?r:r.viewport;e?t.animate({height:r.slides.eq(r.animatingTo).height()},e):t.height(r.slides.eq(r.animatingTo).height())}},sync:function(t){var n=e(r.vars.sync).data("flexslider"),i=r.animatingTo;switch(t){case"animate":n.flexAnimate(i,r.vars.pauseOnAction,!1,!0);break;case"play":n.playing||n.asNav||n.play();break;case"pause":n.pause()}},uniqueID:function(t){return t.filter("[id]").add(t.find("[id]")).each(function(){var t=e(this);t.attr("id",t.attr("id")+"_clone")}),t},pauseInvisible:{visProp:null,init:function(){var e=g.pauseInvisible.getHiddenProp();if(e){var t=e.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(t,function(){g.pauseInvisible.isHidden()?r.startTimeout?clearTimeout(r.startTimeout):r.pause():r.started?r.play():r.vars.initDelay>0?setTimeout(r.play,r.vars.initDelay):r.play()})}},isHidden:function(){var e=g.pauseInvisible.getHiddenProp();return!!e&&document[e]},getHiddenProp:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(s),s=setTimeout(function(){u=""},3e3)}},r.flexAnimate=function(t,n,i,s,a){if(r.vars.animationLoop||t===r.currentSlide||(r.direction=t>r.currentSlide?"next":"prev"),m&&1===r.pagingCount&&(r.direction=r.currentItem<t?"next":"prev"),!r.animating&&(r.canAdvance(t,a)||i)&&r.is(":visible")){if(m&&s){var c=e(r.vars.asNavFor).data("flexslider");if(r.atEnd=0===t||t===r.count-1,c.flexAnimate(t,!0,!1,!0,a),r.direction=r.currentItem<t?"next":"prev",c.direction=r.direction,Math.ceil((t+1)/r.visible)-1===r.currentSlide||0===t)return r.currentItem=t,r.slides.removeClass(o+"active-slide").eq(t).addClass(o+"active-slide"),!1;r.currentItem=t,r.slides.removeClass(o+"active-slide").eq(t).addClass(o+"active-slide"),t=Math.floor(t/r.visible)}if(r.animating=!0,r.animatingTo=t,n&&r.pause(),r.vars.before(r),r.syncExists&&!a&&g.sync("animate"),r.vars.controlNav&&g.controlNav.active(),f||r.slides.removeClass(o+"active-slide").eq(t).addClass(o+"active-slide"),r.atEnd=0===t||t===r.last,r.vars.directionNav&&g.directionNav.update(),t===r.last&&(r.vars.end(r),r.vars.animationLoop||r.pause()),p)l?(r.slides.eq(r.currentSlide).css({opacity:0,zIndex:1}),r.slides.eq(t).css({opacity:1,zIndex:2}),r.wrapup(y)):(r.slides.eq(r.currentSlide).css({zIndex:1}).animate({opacity:0},r.vars.animationSpeed,r.vars.easing),r.slides.eq(t).css({zIndex:2}).animate({opacity:1},r.vars.animationSpeed,r.vars.easing,r.wrapup));else{var u,v,b,y=d?r.slides.filter(":first").height():r.computedW;f?(u=r.vars.itemMargin,b=(r.itemW+u)*r.move*r.animatingTo,v=b>r.limit&&1!==r.visible?r.limit:b):v=0===r.currentSlide&&t===r.count-1&&r.vars.animationLoop&&"next"!==r.direction?h?(r.count+r.cloneOffset)*y:0:r.currentSlide===r.last&&0===t&&r.vars.animationLoop&&"prev"!==r.direction?h?0:(r.count+1)*y:h?(r.count-1-t+r.cloneOffset)*y:(t+r.cloneOffset)*y,r.setProps(v,"",r.vars.animationSpeed),r.transitions?(r.vars.animationLoop&&r.atEnd||(r.animating=!1,r.currentSlide=r.animatingTo),r.container.unbind("webkitTransitionEnd transitionend"),r.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(r.ensureAnimationEnd),r.wrapup(y)}),clearTimeout(r.ensureAnimationEnd),r.ensureAnimationEnd=setTimeout(function(){r.wrapup(y)},r.vars.animationSpeed+100)):r.container.animate(r.args,r.vars.animationSpeed,r.vars.easing,function(){r.wrapup(y)})}r.vars.smoothHeight&&g.smoothHeight(r.vars.animationSpeed)}},r.wrapup=function(e){p||f||(0===r.currentSlide&&r.animatingTo===r.last&&r.vars.animationLoop?r.setProps(e,"jumpEnd"):r.currentSlide===r.last&&0===r.animatingTo&&r.vars.animationLoop&&r.setProps(e,"jumpStart")),r.animating=!1,r.currentSlide=r.animatingTo,r.vars.after(r)},r.animateSlides=function(){!r.animating&&t&&r.flexAnimate(r.getTarget("next"))},r.pause=function(){clearInterval(r.animatedSlides),r.animatedSlides=null,r.playing=!1,r.vars.pausePlay&&g.pausePlay.update("play"),r.syncExists&&g.sync("pause")},r.play=function(){r.playing&&clearInterval(r.animatedSlides),r.animatedSlides=r.animatedSlides||setInterval(r.animateSlides,r.vars.slideshowSpeed),r.started=r.playing=!0,r.vars.pausePlay&&g.pausePlay.update("pause"),r.syncExists&&g.sync("play")},r.stop=function(){r.pause(),r.stopped=!0},r.canAdvance=function(e,t){var n=m?r.pagingCount-1:r.last;return!!t||(!(!m||r.currentItem!==r.count-1||0!==e||"prev"!==r.direction)||(!m||0!==r.currentItem||e!==r.pagingCount-1||"next"===r.direction)&&(!(e===r.currentSlide&&!m)&&(!!r.vars.animationLoop||(!r.atEnd||0!==r.currentSlide||e!==n||"next"===r.direction)&&(!r.atEnd||r.currentSlide!==n||0!==e||"next"!==r.direction))))},r.getTarget=function(e){return r.direction=e,"next"===e?r.currentSlide===r.last?0:r.currentSlide+1:0===r.currentSlide?r.last:r.currentSlide-1},r.setProps=function(e,t,n){var i=function(){var n=e?e:(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo,i=function(){if(f)return"setTouch"===t?e:h&&r.animatingTo===r.last?0:h?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:r.animatingTo===r.last?r.limit:n;switch(t){case"setTotal":return h?(r.count-1-r.currentSlide+r.cloneOffset)*e:(r.currentSlide+r.cloneOffset)*e;case"setTouch":return h?e:e;case"jumpEnd":return h?e:r.count*e;case"jumpStart":return h?r.count*e:e;default:return e}}();return-1*i+"px"}();r.transitions&&(i=d?"translate3d(0,"+i+",0)":"translate3d("+i+",0,0)",n=void 0!==n?n/1e3+"s":"0s",r.container.css("-"+r.pfx+"-transition-duration",n),r.container.css("transition-duration",n)),r.args[r.prop]=i,(r.transitions||void 0===n)&&r.container.css(r.args),r.container.css("transform",i)},r.setup=function(t){if(p)r.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===t&&(l?r.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+r.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(r.currentSlide).css({opacity:1,zIndex:2}):0==r.vars.fadeFirstSlide?r.slides.css({opacity:0,display:"block",zIndex:1}).eq(r.currentSlide).css({zIndex:2}).css({opacity:1}):r.slides.css({opacity:0,display:"block",zIndex:1}).eq(r.currentSlide).css({zIndex:2}).animate({opacity:1},r.vars.animationSpeed,r.vars.easing)),r.vars.smoothHeight&&g.smoothHeight();else{var n,i;"init"===t&&(r.viewport=e('<div class="'+o+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(r).append(r.container),r.cloneCount=0,r.cloneOffset=0,h&&(i=e.makeArray(r.slides).reverse(),r.slides=e(i),r.container.empty().append(r.slides))),r.vars.animationLoop&&!f&&(r.cloneCount=2,r.cloneOffset=1,"init"!==t&&r.container.find(".clone").remove(),r.container.append(g.uniqueID(r.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(g.uniqueID(r.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),r.newSlides=e(r.vars.selector,r),n=h?r.count-1-r.currentSlide+r.cloneOffset:r.currentSlide+r.cloneOffset,d&&!f?(r.container.height(200*(r.count+r.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){r.newSlides.css({display:"block"}),r.doMath(),r.viewport.height(r.h),r.setProps(n*r.h,"init")},"init"===t?100:0)):(r.container.width(200*(r.count+r.cloneCount)+"%"),r.setProps(n*r.computedW,"init"),setTimeout(function(){r.doMath(),r.newSlides.css({width:r.computedW,marginRight:r.computedM,"float":"left",display:"block"}),r.vars.smoothHeight&&g.smoothHeight()},"init"===t?100:0))}f||r.slides.removeClass(o+"active-slide").eq(r.currentSlide).addClass(o+"active-slide"),r.vars.init(r)},r.doMath=function(){var e=r.slides.first(),t=r.vars.itemMargin,n=r.vars.minItems,i=r.vars.maxItems;r.w=void 0===r.viewport?r.width():r.viewport.width(),r.h=e.height(),r.boxPadding=e.outerWidth()-e.width(),f?(r.itemT=r.vars.itemWidth+t,r.itemM=t,r.minW=n?n*r.itemT:r.w,r.maxW=i?i*r.itemT-t:r.w,r.itemW=r.minW>r.w?(r.w-t*(n-1))/n:r.maxW<r.w?(r.w-t*(i-1))/i:r.vars.itemWidth>r.w?r.w:r.vars.itemWidth,r.visible=Math.floor(r.w/r.itemW),r.move=r.vars.move>0&&r.vars.move<r.visible?r.vars.move:r.visible,r.pagingCount=Math.ceil((r.count-r.visible)/r.move+1),r.last=r.pagingCount-1,r.limit=1===r.pagingCount?0:r.vars.itemWidth>r.w?r.itemW*(r.count-1)+t*(r.count-1):(r.itemW+t)*r.count-r.w-t):(r.itemW=r.w,r.itemM=t,r.pagingCount=r.count,r.last=r.count-1),r.computedW=r.itemW-r.boxPadding,r.computedM=r.itemM},r.update=function(e,t){r.doMath(),f||(e<r.currentSlide?r.currentSlide+=1:e<=r.currentSlide&&0!==e&&(r.currentSlide-=1),r.animatingTo=r.currentSlide),r.vars.controlNav&&!r.manualControls&&("add"===t&&!f||r.pagingCount>r.controlNav.length?g.controlNav.update("add"):("remove"===t&&!f||r.pagingCount<r.controlNav.length)&&(f&&r.currentSlide>r.last&&(r.currentSlide-=1,r.animatingTo-=1),g.controlNav.update("remove",r.last))),r.vars.directionNav&&g.directionNav.update()},r.addSlide=function(t,n){var i=e(t);r.count+=1,r.last=r.count-1,d&&h?void 0!==n?r.slides.eq(r.count-n).after(i):r.container.prepend(i):void 0!==n?r.slides.eq(n).before(i):r.container.append(i),r.update(n,"add"),r.slides=e(r.vars.selector+":not(.clone)",r),r.setup(),r.vars.added(r)},r.removeSlide=function(t){var n=isNaN(t)?r.slides.index(e(t)):t;r.count-=1,r.last=r.count-1,isNaN(t)?e(t,r.slides).remove():d&&h?r.slides.eq(r.last).remove():r.slides.eq(t).remove(),r.doMath(),r.update(n,"remove"),r.slides=e(r.vars.selector+":not(.clone)",r),r.setup(),r.vars.removed(r)},g.init()},e(window).blur(function(e){t=!1}).focus(function(e){t=!0}),e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},e.fn.flexslider=function(t){if(void 0===t&&(t={}),"object"==typeof t)return this.each(function(){var n=e(this),i=t.selector?t.selector:".slides > li",r=n.find(i);1===r.length&&t.allowOneSlide===!0||0===r.length?(r.fadeIn(400),t.start&&t.start(n)):void 0===n.data("flexslider")&&new e.flexslider(this,t)});var n=e(this).data("flexslider");switch(t){case"play":n.play();break;case"pause":n.pause();break;case"stop":n.stop();break;case"next":n.flexAnimate(n.getTarget("next"),!0);break;case"prev":case"previous":n.flexAnimate(n.getTarget("prev"),!0);break;default:"number"==typeof t&&n.flexAnimate(t,!0)}}}(jQuery),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(e){"use strict";function t(t){var n=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(n))}function n(t){var n=t.target,i=e(n);if(!i.is("[type=submit],[type=image]")){var r=i.closest("[type=submit]");if(0===r.length)return;n=r[0]}var s=this;if(s.clk=n,"image"==n.type)if(void 0!==t.offsetX)s.clk_x=t.offsetX,s.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var o=i.offset();s.clk_x=t.pageX-o.left,s.clk_y=t.pageY-o.top}else s.clk_x=t.pageX-n.offsetLeft,s.clk_y=t.pageY-n.offsetTop;setTimeout(function(){s.clk=s.clk_x=s.clk_y=null},100)}function i(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var r={};r.fileapi=void 0!==e("<input type='file'/>").get(0).files,r.formdata=void 0!==window.FormData;var s=!!e.fn.prop;e.fn.attr2=function(){if(!s)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function n(n){var i,r,s=e.param(n,t.traditional).split("&"),o=s.length,a=[];for(i=0;o>i;i++)s[i]=s[i].replace(/\+/g," "),r=s[i].split("="),a.push([decodeURIComponent(r[0]),decodeURIComponent(r[1])]);return a}function o(i){for(var r=new FormData,s=0;s<i.length;s++)r.append(i[s].name,i[s].value);if(t.extraData){var o=n(t.extraData);for(s=0;s<o.length;s++)o[s]&&r.append(o[s][0],o[s][1])}t.data=null;var a=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});t.uploadProgress&&(a.xhr=function(){var n=e.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",function(e){var n=0,i=e.loaded||e.position,r=e.total;e.lengthComputable&&(n=Math.ceil(100*(i/r))),t.uploadProgress(e,i,r,n)},!1),n}),a.data=null;var c=a.beforeSend;return a.beforeSend=function(e,n){n.data=t.formData?t.formData:r,c&&c.call(this,e,n)},e.ajax(a)}function a(n){function r(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(n){i("cannot get iframe.contentWindow document: "+n)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(n){i("cannot get iframe.contentDocument: "+n),t=e.document}return t}function o(){function t(){try{var e=r(v).readyState;i("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(n){i("Server abort: ",n," (",n.name,")"),a(k),_&&clearTimeout(_),_=void 0}}var n=d.attr2("target"),s=d.attr2("action"),o="multipart/form-data",c=d.attr("enctype")||d.attr("encoding")||o;w.setAttribute("target",p),(!l||/post/i.test(l))&&w.setAttribute("method","POST"),s!=h.url&&w.setAttribute("action",h.url),h.skipEncodingOverride||l&&!/post/i.test(l)||d.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),h.timeout&&(_=setTimeout(function(){x=!0,a(L)},h.timeout));var u=[];try{if(h.extraData)for(var f in h.extraData)h.extraData.hasOwnProperty(f)&&(e.isPlainObject(h.extraData[f])&&h.extraData[f].hasOwnProperty("name")&&h.extraData[f].hasOwnProperty("value")?u.push(e('<input type="hidden" name="'+h.extraData[f].name+'">').val(h.extraData[f].value).appendTo(w)[0]):u.push(e('<input type="hidden" name="'+f+'">').val(h.extraData[f]).appendTo(w)[0]));h.iframeTarget||g.appendTo("body"),v.attachEvent?v.attachEvent("onload",a):v.addEventListener("load",a,!1),setTimeout(t,15);try{w.submit()}catch(m){var b=document.createElement("form").submit;b.apply(w)}}finally{w.setAttribute("action",s),w.setAttribute("enctype",c),n?w.setAttribute("target",n):d.removeAttr("target"),e(u).remove()}}function a(t){if(!b.aborted&&!A){if(M=r(v),M||(i("cannot access response document"),t=k),t===L&&b)return b.abort("timeout"),void S.reject(b,"timeout");if(t==k&&b)return b.abort("server abort"),void S.reject(b,"error","server abort");if(M&&M.location.href!=h.iframeSrc||x){v.detachEvent?v.detachEvent("onload",a):v.removeEventListener("load",a,!1);var n,s="success";try{if(x)throw"timeout";var o="xml"==h.dataType||M.XMLDocument||e.isXMLDoc(M);if(i("isXml="+o),!o&&window.opera&&(null===M.body||!M.body.innerHTML)&&--I)return i("requeing onLoad callback, DOM not available"),void setTimeout(a,250);var l=M.body?M.body:M.documentElement;b.responseText=l?l.innerHTML:null,b.responseXML=M.XMLDocument?M.XMLDocument:M,o&&(h.dataType="xml"),b.getResponseHeader=function(e){var t={"content-type":h.dataType};return t[e.toLowerCase()]},l&&(b.status=Number(l.getAttribute("status"))||b.status,b.statusText=l.getAttribute("statusText")||b.statusText);var c=(h.dataType||"").toLowerCase(),u=/(json|script|text)/.test(c);if(u||h.textarea){var d=M.getElementsByTagName("textarea")[0];if(d)b.responseText=d.value,b.status=Number(d.getAttribute("status"))||b.status,b.statusText=d.getAttribute("statusText")||b.statusText;else if(u){var p=M.getElementsByTagName("pre")[0],m=M.getElementsByTagName("body")[0];p?b.responseText=p.textContent?p.textContent:p.innerText:m&&(b.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==c&&!b.responseXML&&b.responseText&&(b.responseXML=D(b.responseText));try{N=P(b,c,h)}catch(y){s="parsererror",b.error=n=y||s}}catch(y){i("error caught: ",y),s="error",b.error=n=y||s}b.aborted&&(i("upload aborted"),s=null),b.status&&(s=b.status>=200&&b.status<300||304===b.status?"success":"error"),"success"===s?(h.success&&h.success.call(h.context,N,"success",b),S.resolve(b.responseText,"success",b),f&&e.event.trigger("ajaxSuccess",[b,h])):s&&(void 0===n&&(n=b.statusText),h.error&&h.error.call(h.context,b,s,n),S.reject(b,"error",n),f&&e.event.trigger("ajaxError",[b,h,n])),f&&e.event.trigger("ajaxComplete",[b,h]),f&&!--e.active&&e.event.trigger("ajaxStop"),h.complete&&h.complete.call(h.context,b,s),A=!0,h.timeout&&clearTimeout(_),setTimeout(function(){h.iframeTarget?g.attr("src",h.iframeSrc):g.remove(),b.responseXML=null},100)}}}var c,u,h,f,p,g,v,b,y,C,x,_,w=d[0],S=e.Deferred();if(S.abort=function(e){b.abort(e)},n)for(u=0;u<m.length;u++)c=e(m[u]),s?c.prop("disabled",!1):c.removeAttr("disabled");if(h=e.extend(!0,{},e.ajaxSettings,t),h.context=h.context||h,p="jqFormIO"+(new Date).getTime(),h.iframeTarget?(g=e(h.iframeTarget),C=g.attr2("name"),C?p=C:g.attr2("name",p)):(g=e('<iframe name="'+p+'" src="'+h.iframeSrc+'" />'),g.css({position:"absolute",top:"-1000px",left:"-1000px"})),v=g[0],b={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var n="timeout"===t?"timeout":"aborted";i("aborting upload... "+n),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(r){}g.attr("src",h.iframeSrc),b.error=n,h.error&&h.error.call(h.context,b,n,t),f&&e.event.trigger("ajaxError",[b,h,n]),h.complete&&h.complete.call(h.context,b,n)}},f=h.global,f&&0===e.active++&&e.event.trigger("ajaxStart"),f&&e.event.trigger("ajaxSend",[b,h]),h.beforeSend&&h.beforeSend.call(h.context,b,h)===!1)return h.global&&e.active--,S.reject(),S;if(b.aborted)return S.reject(),S;y=w.clk,y&&(C=y.name,C&&!y.disabled&&(h.extraData=h.extraData||{},h.extraData[C]=y.value,"image"==y.type&&(h.extraData[C+".x"]=w.clk_x,h.extraData[C+".y"]=w.clk_y)));var L=1,k=2,T=e("meta[name=csrf-token]").attr("content"),E=e("meta[name=csrf-param]").attr("content");E&&T&&(h.extraData=h.extraData||{},h.extraData[E]=T),h.forceSync?o():setTimeout(o,10);var N,M,A,I=50,D=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},O=e.parseJSON||function(e){return window.eval("("+e+")")},P=function(t,n,i){var r=t.getResponseHeader("content-type")||"",s="xml"===n||!n&&r.indexOf("xml")>=0,o=s?t.responseXML:t.responseText;return s&&"parsererror"===o.documentElement.nodeName&&e.error&&e.error("parsererror"),i&&i.dataFilter&&(o=i.dataFilter(o,n)),"string"==typeof o&&("json"===n||!n&&r.indexOf("json")>=0?o=O(o):("script"===n||!n&&r.indexOf("javascript")>=0)&&e.globalEval(o)),o};return S}if(!this.length)return i("ajaxSubmit: skipping submit process - no element selected"),this;var l,c,u,d=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),l=t.type||this.attr2("method"),c=t.url||this.attr2("action"),u="string"==typeof c?e.trim(c):"",u=u||window.location.href||"",u&&(u=(u.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:u,success:e.ajaxSettings.success,type:l||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var h={};if(this.trigger("form-pre-serialize",[this,t,h]),h.veto)return i("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return i("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var f=t.traditional;void 0===f&&(f=e.ajaxSettings.traditional);var p,m=[],g=this.formToArray(t.semantic,m);if(t.data&&(t.extraData=t.data,p=e.param(t.data,f)),t.beforeSubmit&&t.beforeSubmit(g,this,t)===!1)return i("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[g,this,t,h]),
h.veto)return i("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var v=e.param(g,f);p&&(v=v?v+"&"+p:p),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+v,t.data=null):t.data=v;var b=[];if(t.resetForm&&b.push(function(){d.resetForm()}),t.clearForm&&b.push(function(){d.clearForm(t.includeHidden)}),!t.dataType&&t.target){var y=t.success||function(){};b.push(function(n){var i=t.replaceTarget?"replaceWith":"html";e(t.target)[i](n).each(y,arguments)})}else t.success&&b.push(t.success);if(t.success=function(e,n,i){for(var r=t.context||this,s=0,o=b.length;o>s;s++)b[s].apply(r,[e,n,i||d,d])},t.error){var C=t.error;t.error=function(e,n,i){var r=t.context||this;C.apply(r,[e,n,i,d])}}if(t.complete){var x=t.complete;t.complete=function(e,n){var i=t.context||this;x.apply(i,[e,n,d])}}var _=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}),w=_.length>0,S="multipart/form-data",L=d.attr("enctype")==S||d.attr("encoding")==S,k=r.fileapi&&r.formdata;i("fileAPI :"+k);var T,E=(w||L)&&!k;t.iframe!==!1&&(t.iframe||E)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){T=a(g)}):T=a(g):T=(w||L)&&k?o(g):e.ajax(t),d.removeData("jqxhr").data("jqxhr",T);for(var N=0;N<m.length;N++)m[N]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(r){if(r=r||{},r.delegation=r.delegation&&e.isFunction(e.fn.on),!r.delegation&&0===this.length){var s={s:this.selector,c:this.context};return!e.isReady&&s.s?(i("DOM not ready, queuing ajaxForm"),e(function(){e(s.s,s.c).ajaxForm(r)}),this):(i("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return r.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,n).on("submit.form-plugin",this.selector,r,t).on("click.form-plugin",this.selector,r,n),this):this.ajaxFormUnbind().bind("submit.form-plugin",r,t).bind("click.form-plugin",r,n)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,n){var i=[];if(0===this.length)return i;var s,o=this[0],a=this.attr("id"),l=t?o.getElementsByTagName("*"):o.elements;if(l&&!/MSIE [678]/.test(navigator.userAgent)&&(l=e(l).get()),a&&(s=e(":input[form="+a+"]").get(),s.length&&(l=(l||[]).concat(s))),!l||!l.length)return i;var c,u,d,h,f,p,m;for(c=0,p=l.length;p>c;c++)if(f=l[c],d=f.name,d&&!f.disabled)if(t&&o.clk&&"image"==f.type)o.clk==f&&(i.push({name:d,value:e(f).val(),type:f.type}),i.push({name:d+".x",value:o.clk_x},{name:d+".y",value:o.clk_y}));else if(h=e.fieldValue(f,!0),h&&h.constructor==Array)for(n&&n.push(f),u=0,m=h.length;m>u;u++)i.push({name:d,value:h[u]});else if(r.fileapi&&"file"==f.type){n&&n.push(f);var g=f.files;if(g.length)for(u=0;u<g.length;u++)i.push({name:d,value:g[u],type:f.type});else i.push({name:d,value:"",type:f.type})}else null!==h&&"undefined"!=typeof h&&(n&&n.push(f),i.push({name:d,value:h,type:f.type,required:f.required}));if(!t&&o.clk){var v=e(o.clk),b=v[0];d=b.name,d&&!b.disabled&&"image"==b.type&&(i.push({name:d,value:v.val()}),i.push({name:d+".x",value:o.clk_x},{name:d+".y",value:o.clk_y}))}return i},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var n=[];return this.each(function(){var i=this.name;if(i){var r=e.fieldValue(this,t);if(r&&r.constructor==Array)for(var s=0,o=r.length;o>s;s++)n.push({name:i,value:r[s]});else null!==r&&"undefined"!=typeof r&&n.push({name:this.name,value:r})}}),e.param(n)},e.fn.fieldValue=function(t){for(var n=[],i=0,r=this.length;r>i;i++){var s=this[i],o=e.fieldValue(s,t);null===o||"undefined"==typeof o||o.constructor==Array&&!o.length||(o.constructor==Array?e.merge(n,o):n.push(o))}return n},e.fieldValue=function(t,n){var i=t.name,r=t.type,s=t.tagName.toLowerCase();if(void 0===n&&(n=!0),n&&(!i||t.disabled||"reset"==r||"button"==r||("checkbox"==r||"radio"==r)&&!t.checked||("submit"==r||"image"==r)&&t.form&&t.form.clk!=t||"select"==s&&-1==t.selectedIndex))return null;if("select"==s){var o=t.selectedIndex;if(0>o)return null;for(var a=[],l=t.options,c="select-one"==r,u=c?o+1:l.length,d=c?o:0;u>d;d++){var h=l[d];if(h.selected){var f=h.value;if(f||(f=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value),c)return f;a.push(f)}}return a}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var i=this.type,r=this.tagName.toLowerCase();n.test(i)||"textarea"==r?this.value="":"checkbox"==i||"radio"==i?this.checked=!1:"select"==r?this.selectedIndex=-1:"file"==i?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(i)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var n=this.type;if("checkbox"==n||"radio"==n)this.checked=t;else if("option"==this.tagName.toLowerCase()){var i=e(this).parent("select");t&&i[0]&&"select-one"==i[0].type&&i.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof module&&"object"==typeof module.exports?require("jquery"):jQuery)}(function(e){function t(){var t=s.settings;if(t.autoDispose&&!e.contains(document.documentElement,this))return e(this).timeago("dispose"),this;var o=n(this);return isNaN(o.datetime)||(0==t.cutoff||Math.abs(r(o.datetime))<t.cutoff)&&e(this).text(i(o.datetime)),this}function n(t){if(t=e(t),!t.data("timeago")){t.data("timeago",{datetime:s.datetime(t)});var n=e.trim(t.text());s.settings.localeTitle?t.attr("title",t.data("timeago").datetime.toLocaleString()):!(n.length>0)||s.isTime(t)&&t.attr("title")||t.attr("title",n)}return t.data("timeago")}function i(e){return s.inWords(r(e))}function r(e){return(new Date).getTime()-e.getTime()}e.timeago=function(t){return i(t instanceof Date?t:"string"==typeof t?e.timeago.parse(t):"number"==typeof t?new Date(t):e.timeago.datetime(t))};var s=e.timeago;e.extend(e.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,autoDispose:!0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(t){function n(n,r){var s=e.isFunction(n)?n(r,t):n,o=i.numbers&&i.numbers[r]||r;return s.replace(/%d/i,o)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var i=this.settings.strings,r=i.prefixAgo,s=i.suffixAgo;if(this.settings.allowFuture&&t<0&&(r=i.prefixFromNow,s=i.suffixFromNow),!this.settings.allowPast&&t>=0)return this.settings.strings.inPast;var o=Math.abs(t)/1e3,a=o/60,l=a/60,c=l/24,u=c/365,d=o<45&&n(i.seconds,Math.round(o))||o<90&&n(i.minute,1)||a<45&&n(i.minutes,Math.round(a))||a<90&&n(i.hour,1)||l<24&&n(i.hours,Math.round(l))||l<42&&n(i.day,1)||c<30&&n(i.days,Math.round(c))||c<45&&n(i.month,1)||c<365&&n(i.months,Math.round(c/30))||u<1.5&&n(i.year,1)||n(i.years,Math.round(u)),h=i.wordSeparator||"";return void 0===i.wordSeparator&&(h=" "),e.trim([r,d,s].join(h))},parse:function(t){var n=e.trim(t);return n=n.replace(/\.\d+/,""),n=n.replace(/-/,"/").replace(/-/,"/"),n=n.replace(/T/," ").replace(/Z/," UTC"),n=n.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),n=n.replace(/([\+\-]\d\d)$/," $100"),new Date(n)},datetime:function(t){var n=s.isTime(t)?e(t).attr("datetime"):e(t).attr("title");return s.parse(n)},isTime:function(t){return"time"===e(t).get(0).tagName.toLowerCase()}});var o={init:function(){var n=e.proxy(t,this);n();var i=s.settings;i.refreshMillis>0&&(this._timeagoInterval=setInterval(n,i.refreshMillis))},update:function(n){var i=n instanceof Date?n:s.parse(n);e(this).data("timeago",{datetime:i}),s.settings.localeTitle&&e(this).attr("title",i.toLocaleString()),t.apply(this)},updateFromDOM:function(){e(this).data("timeago",{datetime:s.parse(s.isTime(this)?e(this).attr("datetime"):e(this).attr("title"))}),t.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};e.fn.timeago=function(e,t){var n=e?o[e]:o.init;if(!n)throw new Error("Unknown function name '"+e+"' for timeago");return this.each(function(){n.call(this,t)}),this},document.createElement("abbr"),document.createElement("time")}),!function(){"use strict";function e(e,t){if(e){if(t.element_.classList.contains(t.CssClasses_.MDL_JS_RIPPLE_EFFECT)){var n=document.createElement("span");n.classList.add(t.CssClasses_.MDL_RIPPLE_CONTAINER),n.classList.add(t.CssClasses_.MDL_JS_RIPPLE_EFFECT);var i=document.createElement("span");i.classList.add(t.CssClasses_.MDL_RIPPLE),n.appendChild(i),e.appendChild(n)}e.addEventListener("click",function(n){n.preventDefault();var i=e.href.split("#")[1],r=t.element_.querySelector("#"+i);t.resetTabState_(),t.resetPanelState_(),e.classList.add(t.CssClasses_.ACTIVE_CLASS),r.classList.add(t.CssClasses_.ACTIVE_CLASS)})}}function t(e,t,n,i){function r(){var r=e.href.split("#")[1],s=i.content_.querySelector("#"+r);i.resetTabState_(t),i.resetPanelState_(n),e.classList.add(i.CssClasses_.IS_ACTIVE),s.classList.add(i.CssClasses_.IS_ACTIVE)}if(i.tabBar_.classList.contains(i.CssClasses_.JS_RIPPLE_EFFECT)){var s=document.createElement("span");s.classList.add(i.CssClasses_.RIPPLE_CONTAINER),s.classList.add(i.CssClasses_.JS_RIPPLE_EFFECT);var o=document.createElement("span");o.classList.add(i.CssClasses_.RIPPLE),s.appendChild(o),e.appendChild(s)}e.addEventListener("click",function(t){"#"===e.getAttribute("href").charAt(0)&&(t.preventDefault(),r())}),e.show=r}var n={upgradeDom:function(e,t){},upgradeElement:function(e,t){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,t){},register:function(e){},downgradeElements:function(e){}};n=function(){function e(e,t){for(var n=0;n<d.length;n++)if(d[n].className===e)return"undefined"!=typeof t&&(d[n]=t),d[n];return!1}function t(e){var t=e.getAttribute("data-upgraded");return null===t?[""]:t.split(",")}function n(e,n){var i=t(e);return-1!==i.indexOf(n)}function i(t,n){if("undefined"==typeof t&&"undefined"==typeof n)for(var s=0;s<d.length;s++)i(d[s].className,d[s].cssClass);else{var o=t;if("undefined"==typeof n){var a=e(o);a&&(n=a.cssClass)}for(var l=document.querySelectorAll("."+n),c=0;c<l.length;c++)r(l[c],o)}}function r(i,r){if(!("object"==typeof i&&i instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var s=t(i),o=[];if(r)n(i,r)||o.push(e(r));else{var a=i.classList;d.forEach(function(e){a.contains(e.cssClass)&&-1===o.indexOf(e)&&!n(i,e.className)&&o.push(e)})}for(var l,c=0,u=o.length;u>c;c++){if(l=o[c],!l)throw new Error("Unable to find a registered component for the given class.");s.push(l.className),i.setAttribute("data-upgraded",s.join(","));var p=new l.classConstructor(i);p[f]=l,h.push(p);for(var m=0,g=l.callbacks.length;g>m;m++)l.callbacks[m](i);l.widget&&(i[l.className]=p);var v;"CustomEvent"in window&&"function"==typeof window.CustomEvent?v=new Event("mdl-componentupgraded",{bubbles:!0,cancelable:!1}):(v=document.createEvent("Events"),v.initEvent("mdl-componentupgraded",!0,!0)),i.dispatchEvent(v)}}function s(e){Array.isArray(e)||(e="function"==typeof e.item?Array.prototype.slice.call(e):[e]);for(var t,n=0,i=e.length;i>n;n++)t=e[n],t instanceof HTMLElement&&(r(t),t.children.length>0&&s(t.children))}function o(t){var n="undefined"==typeof t.widget&&"undefined"==typeof t.widget,i=!0;n||(i=t.widget||t.widget);var r={classConstructor:t.constructor||t.constructor,className:t.classAsString||t.classAsString,cssClass:t.cssClass||t.cssClass,widget:i,callbacks:[]};if(d.forEach(function(e){if(e.cssClass===r.cssClass)throw new Error("The provided cssClass has already been registered: "+e.cssClass);if(e.className===r.className)throw new Error("The provided className has already been registered")}),t.constructor.prototype.hasOwnProperty(f))throw new Error("MDL component classes must not have "+f+" defined as a property.");var s=e(t.classAsString,r);s||d.push(r)}function a(t,n){var i=e(t);i&&i.callbacks.push(n)}function l(){for(var e=0;e<d.length;e++)i(d[e].className)}function c(e){if(e){var t=h.indexOf(e);h.splice(t,1);var n=e.element_.getAttribute("data-upgraded").split(","),i=n.indexOf(e[f].classAsString);n.splice(i,1),e.element_.setAttribute("data-upgraded",n.join(","));var r;"CustomEvent"in window&&"function"==typeof window.CustomEvent?r=new Event("mdl-componentdowngraded",{bubbles:!0,cancelable:!1}):(r=document.createEvent("Events"),r.initEvent("mdl-componentdowngraded",!0,!0))}}function u(e){var t=function(e){h.filter(function(t){return t.element_===e}).forEach(c)};if(e instanceof Array||e instanceof NodeList)for(var n=0;n<e.length;n++)t(e[n]);else{if(!(e instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");t(e)}}var d=[],h=[],f="mdlComponentConfigInternal_";return{upgradeDom:i,upgradeElement:r,upgradeElements:s,upgradeAllRegistered:l,registerUpgradedCallback:a,register:o,downgradeElements:u}}(),n.ComponentConfigPublic,n.ComponentConfig,n.Component,n.upgradeDom=n.upgradeDom,n.upgradeElement=n.upgradeElement,n.upgradeElements=n.upgradeElements,n.upgradeAllRegistered=n.upgradeAllRegistered,n.registerUpgradedCallback=n.registerUpgradedCallback,n.register=n.register,n.downgradeElements=n.downgradeElements,window.componentHandler=n,window.componentHandler=n,window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),n.upgradeAllRegistered()):(n.upgradeElement=function(){},n.register=function(){})}),Date.now||(Date.now=function(){return(new Date).getTime()},Date.now=Date.now);for(var i=["webkit","moz"],r=0;r<i.length&&!window.requestAnimationFrame;++r){var s=i[r];window.requestAnimationFrame=window[s+"RequestAnimationFrame"],window.cancelAnimationFrame=window[s+"CancelAnimationFrame"]||window[s+"CancelRequestAnimationFrame"],window.requestAnimationFrame=window.requestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var o=0;window.requestAnimationFrame=function(e){var t=Date.now(),n=Math.max(o+16,t);return setTimeout(function(){e(o=n)},n-t)},window.cancelAnimationFrame=clearTimeout,window.requestAnimationFrame=window.requestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame}var a=function(e){this.element_=e,this.init()};window.MaterialButton=a,a.prototype.Constant_={},a.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},a.prototype.blurHandler_=function(e){e&&this.element_.blur()},a.prototype.disable=function(){this.element_.disabled=!0},a.prototype.disable=a.prototype.disable,a.prototype.enable=function(){this.element_.disabled=!1},a.prototype.enable=a.prototype.enable,a.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},n.register({constructor:a,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0});var l=function(e){this.element_=e,this.init()};window.MaterialCheckbox=l,l.prototype.Constant_={TINY_TIMEOUT:.001},l.prototype.CssClasses_={INPUT:"mdl-checkbox__input",BOX_OUTLINE:"mdl-checkbox__box-outline",FOCUS_HELPER:"mdl-checkbox__focus-helper",TICK_OUTLINE:"mdl-checkbox__tick-outline",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-checkbox__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked",IS_UPGRADED:"is-upgraded"},l.prototype.onChange_=function(e){this.updateClasses_()},l.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},l.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},l.prototype.onMouseUp_=function(e){this.blur_()},l.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},l.prototype.blur_=function(){window.setTimeout(function(){this.inputElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},l.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},l.prototype.checkToggleState=l.prototype.checkToggleState,l.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},l.prototype.checkDisabled=l.prototype.checkDisabled,l.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},l.prototype.disable=l.prototype.disable,l.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},l.prototype.enable=l.prototype.enable,l.prototype.check=function(){this.inputElement_.checked=!0,this.updateClasses_()},l.prototype.check=l.prototype.check,l.prototype.uncheck=function(){this.inputElement_.checked=!1,this.updateClasses_()},l.prototype.uncheck=l.prototype.uncheck,l.prototype.init=function(){if(this.element_){this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT);var e=document.createElement("span");e.classList.add(this.CssClasses_.BOX_OUTLINE);var t=document.createElement("span");t.classList.add(this.CssClasses_.FOCUS_HELPER);var n=document.createElement("span");if(n.classList.add(this.CssClasses_.TICK_OUTLINE),e.appendChild(n),this.element_.appendChild(t),this.element_.appendChild(e),this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.boundRippleMouseUp=this.onMouseUp_.bind(this),this.rippleContainerElement_.addEventListener("mouseup",this.boundRippleMouseUp);var i=document.createElement("span");i.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(i),this.element_.appendChild(this.rippleContainerElement_)}this.boundInputOnChange=this.onChange_.bind(this),this.boundInputOnFocus=this.onFocus_.bind(this),this.boundInputOnBlur=this.onBlur_.bind(this),this.boundElementMouseUp=this.onMouseUp_.bind(this),this.inputElement_.addEventListener("change",this.boundInputOnChange),this.inputElement_.addEventListener("focus",this.boundInputOnFocus),this.inputElement_.addEventListener("blur",this.boundInputOnBlur),this.element_.addEventListener("mouseup",this.boundElementMouseUp),this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},n.register({constructor:l,classAsString:"MaterialCheckbox",cssClass:"mdl-js-checkbox",widget:!0});var c=function(e){this.element_=e,this.init()};window.MaterialIconToggle=c,c.prototype.Constant_={TINY_TIMEOUT:.001},c.prototype.CssClasses_={INPUT:"mdl-icon-toggle__input",JS_RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-icon-toggle__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked"},c.prototype.onChange_=function(e){this.updateClasses_()},c.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},c.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},c.prototype.onMouseUp_=function(e){this.blur_()},c.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},c.prototype.blur_=function(){window.setTimeout(function(){this.inputElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},c.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},c.prototype.checkToggleState=c.prototype.checkToggleState,c.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},c.prototype.checkDisabled=c.prototype.checkDisabled,c.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},c.prototype.disable=c.prototype.disable,c.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},c.prototype.enable=c.prototype.enable,c.prototype.check=function(){this.inputElement_.checked=!0,this.updateClasses_()},c.prototype.check=c.prototype.check,c.prototype.uncheck=function(){this.inputElement_.checked=!1,this.updateClasses_()},c.prototype.uncheck=c.prototype.uncheck,c.prototype.init=function(){if(this.element_){if(this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.element_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.JS_RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.boundRippleMouseUp=this.onMouseUp_.bind(this),this.rippleContainerElement_.addEventListener("mouseup",this.boundRippleMouseUp);var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(e),this.element_.appendChild(this.rippleContainerElement_)}this.boundInputOnChange=this.onChange_.bind(this),this.boundInputOnFocus=this.onFocus_.bind(this),this.boundInputOnBlur=this.onBlur_.bind(this),this.boundElementOnMouseUp=this.onMouseUp_.bind(this),this.inputElement_.addEventListener("change",this.boundInputOnChange),this.inputElement_.addEventListener("focus",this.boundInputOnFocus),this.inputElement_.addEventListener("blur",this.boundInputOnBlur),this.element_.addEventListener("mouseup",this.boundElementOnMouseUp),this.updateClasses_(),this.element_.classList.add("is-upgraded")}},n.register({constructor:c,classAsString:"MaterialIconToggle",cssClass:"mdl-js-icon-toggle",widget:!0});var u=function(e){this.element_=e,this.init()};window.MaterialMenu=u,u.prototype.Constant_={TRANSITION_DURATION_SECONDS:.3,TRANSITION_DURATION_FRACTION:.8,CLOSE_TIMEOUT:150},u.prototype.Keycodes_={ENTER:13,ESCAPE:27,SPACE:32,UP_ARROW:38,DOWN_ARROW:40},u.prototype.CssClasses_={CONTAINER:"mdl-menu__container",OUTLINE:"mdl-menu__outline",ITEM:"mdl-menu__item",ITEM_RIPPLE_CONTAINER:"mdl-menu__item-ripple-container",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE:"mdl-ripple",IS_UPGRADED:"is-upgraded",IS_VISIBLE:"is-visible",IS_ANIMATING:"is-animating",BOTTOM_LEFT:"mdl-menu--bottom-left",BOTTOM_RIGHT:"mdl-menu--bottom-right",TOP_LEFT:"mdl-menu--top-left",TOP_RIGHT:"mdl-menu--top-right",UNALIGNED:"mdl-menu--unaligned"},u.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.classList.add(this.CssClasses_.CONTAINER),this.element_.parentElement.insertBefore(e,this.element_),this.element_.parentElement.removeChild(this.element_),e.appendChild(this.element_),this.container_=e;var t=document.createElement("div");t.classList.add(this.CssClasses_.OUTLINE),this.outline_=t,e.insertBefore(t,this.element_);var n=this.element_.getAttribute("for")||this.element_.getAttribute("data-mdl-for"),i=null;n&&(i=document.getElementById(n),i&&(this.forElement_=i,i.addEventListener("click",this.handleForClick_.bind(this)),i.addEventListener("keydown",this.handleForKeyboardEvent_.bind(this))));var r=this.element_.querySelectorAll("."+this.CssClasses_.ITEM);this.boundItemKeydown_=this.handleItemKeyboardEvent_.bind(this),this.boundItemClick_=this.handleItemClick_.bind(this);for(var s=0;s<r.length;s++)r[s].addEventListener("click",this.boundItemClick_),r[s].tabIndex="-1",r[s].addEventListener("keydown",this.boundItemKeydown_);if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT))for(this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),s=0;s<r.length;s++){var o=r[s],a=document.createElement("span");a.classList.add(this.CssClasses_.ITEM_RIPPLE_CONTAINER);var l=document.createElement("span");l.classList.add(this.CssClasses_.RIPPLE),a.appendChild(l),o.appendChild(a),o.classList.add(this.CssClasses_.RIPPLE_EFFECT)}this.element_.classList.contains(this.CssClasses_.BOTTOM_LEFT)&&this.outline_.classList.add(this.CssClasses_.BOTTOM_LEFT),this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)&&this.outline_.classList.add(this.CssClasses_.BOTTOM_RIGHT),this.element_.classList.contains(this.CssClasses_.TOP_LEFT)&&this.outline_.classList.add(this.CssClasses_.TOP_LEFT),this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)&&this.outline_.classList.add(this.CssClasses_.TOP_RIGHT),this.element_.classList.contains(this.CssClasses_.UNALIGNED)&&this.outline_.classList.add(this.CssClasses_.UNALIGNED),e.classList.add(this.CssClasses_.IS_UPGRADED)}},u.prototype.handleForClick_=function(e){if(this.element_&&this.forElement_){var t=this.forElement_.getBoundingClientRect(),n=this.forElement_.parentElement.getBoundingClientRect();this.element_.classList.contains(this.CssClasses_.UNALIGNED)||(this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)?(this.container_.style.right=n.right-t.right+"px",this.container_.style.top=this.forElement_.offsetTop+this.forElement_.offsetHeight+"px"):this.element_.classList.contains(this.CssClasses_.TOP_LEFT)?(this.container_.style.left=this.forElement_.offsetLeft+"px",this.container_.style.bottom=n.bottom-t.top+"px"):this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?(this.container_.style.right=n.right-t.right+"px",this.container_.style.bottom=n.bottom-t.top+"px"):(this.container_.style.left=this.forElement_.offsetLeft+"px",this.container_.style.top=this.forElement_.offsetTop+this.forElement_.offsetHeight+"px"))}this.toggle(e)},u.prototype.handleForKeyboardEvent_=function(e){if(this.element_&&this.container_&&this.forElement_){var t=this.element_.querySelectorAll("."+this.CssClasses_.ITEM+":not([disabled])");t&&t.length>0&&this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)&&(e.keyCode===this.Keycodes_.UP_ARROW?(e.preventDefault(),t[t.length-1].focus()):e.keyCode===this.Keycodes_.DOWN_ARROW&&(e.preventDefault(),t[0].focus()))}},u.prototype.handleItemKeyboardEvent_=function(e){if(this.element_&&this.container_){var t=this.element_.querySelectorAll("."+this.CssClasses_.ITEM+":not([disabled])");if(t&&t.length>0&&this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)){var n=Array.prototype.slice.call(t).indexOf(e.target);if(e.keyCode===this.Keycodes_.UP_ARROW)e.preventDefault(),n>0?t[n-1].focus():t[t.length-1].focus();else if(e.keyCode===this.Keycodes_.DOWN_ARROW)e.preventDefault(),t.length>n+1?t[n+1].focus():t[0].focus();else if(e.keyCode===this.Keycodes_.SPACE||e.keyCode===this.Keycodes_.ENTER){e.preventDefault();var i=new MouseEvent("mousedown");e.target.dispatchEvent(i),i=new MouseEvent("mouseup"),e.target.dispatchEvent(i),e.target.click()}else e.keyCode===this.Keycodes_.ESCAPE&&(e.preventDefault(),this.hide())}}},u.prototype.handleItemClick_=function(e){e.target.hasAttribute("disabled")?e.stopPropagation():(this.closing_=!0,window.setTimeout(function(e){this.hide(),this.closing_=!1}.bind(this),this.Constant_.CLOSE_TIMEOUT))},u.prototype.applyClip_=function(e,t){this.element_.classList.contains(this.CssClasses_.UNALIGNED)?this.element_.style.clip="":this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)?this.element_.style.clip="rect(0 "+t+"px 0 "+t+"px)":this.element_.classList.contains(this.CssClasses_.TOP_LEFT)?this.element_.style.clip="rect("+e+"px 0 "+e+"px 0)":this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?this.element_.style.clip="rect("+e+"px "+t+"px "+e+"px "+t+"px)":this.element_.style.clip=""},u.prototype.removeAnimationEndListener_=function(e){e.target.classList.remove(u.prototype.CssClasses_.IS_ANIMATING)},u.prototype.addAnimationEndListener_=function(){this.element_.addEventListener("transitionend",this.removeAnimationEndListener_),this.element_.addEventListener("webkitTransitionEnd",this.removeAnimationEndListener_)},u.prototype.show=function(e){if(this.element_&&this.container_&&this.outline_){var t=this.element_.getBoundingClientRect().height,n=this.element_.getBoundingClientRect().width;this.container_.style.width=n+"px",this.container_.style.height=t+"px",this.outline_.style.width=n+"px",this.outline_.style.height=t+"px";for(var i=this.Constant_.TRANSITION_DURATION_SECONDS*this.Constant_.TRANSITION_DURATION_FRACTION,r=this.element_.querySelectorAll("."+this.CssClasses_.ITEM),s=0;s<r.length;s++){var o=null;o=this.element_.classList.contains(this.CssClasses_.TOP_LEFT)||this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?(t-r[s].offsetTop-r[s].offsetHeight)/t*i+"s":r[s].offsetTop/t*i+"s",r[s].style.transitionDelay=o}this.applyClip_(t,n),window.requestAnimationFrame(function(){this.element_.classList.add(this.CssClasses_.IS_ANIMATING),this.element_.style.clip="rect(0 "+n+"px "+t+"px 0)",this.container_.classList.add(this.CssClasses_.IS_VISIBLE)}.bind(this)),this.addAnimationEndListener_();var a=function(t){t===e||this.closing_||t.target.parentNode===this.element_||(document.removeEventListener("click",a),this.hide())}.bind(this);document.addEventListener("click",a)}},u.prototype.show=u.prototype.show,u.prototype.hide=function(){if(this.element_&&this.container_&&this.outline_){for(var e=this.element_.querySelectorAll("."+this.CssClasses_.ITEM),t=0;t<e.length;t++)e[t].style.removeProperty("transition-delay");var n=this.element_.getBoundingClientRect(),i=n.height,r=n.width;this.element_.classList.add(this.CssClasses_.IS_ANIMATING),this.applyClip_(i,r),this.container_.classList.remove(this.CssClasses_.IS_VISIBLE),this.addAnimationEndListener_()}},u.prototype.hide=u.prototype.hide,u.prototype.toggle=function(e){this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)?this.hide():this.show(e)},u.prototype.toggle=u.prototype.toggle,n.register({constructor:u,classAsString:"MaterialMenu",cssClass:"mdl-js-menu",widget:!0});var d=function(e){this.element_=e,this.init()};
window.MaterialProgress=d,d.prototype.Constant_={},d.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},d.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},d.prototype.setProgress=d.prototype.setProgress,d.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},d.prototype.setBuffer=d.prototype.setBuffer,d.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},n.register({constructor:d,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0});var h=function(e){this.element_=e,this.init()};window.MaterialRadio=h,h.prototype.Constant_={TINY_TIMEOUT:.001},h.prototype.CssClasses_={IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked",IS_UPGRADED:"is-upgraded",JS_RADIO:"mdl-js-radio",RADIO_BTN:"mdl-radio__button",RADIO_OUTER_CIRCLE:"mdl-radio__outer-circle",RADIO_INNER_CIRCLE:"mdl-radio__inner-circle",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-radio__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple"},h.prototype.onChange_=function(e){for(var t=document.getElementsByClassName(this.CssClasses_.JS_RADIO),n=0;n<t.length;n++){var i=t[n].querySelector("."+this.CssClasses_.RADIO_BTN);i.getAttribute("name")===this.btnElement_.getAttribute("name")&&t[n].MaterialRadio.updateClasses_()}},h.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},h.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},h.prototype.onMouseup_=function(e){this.blur_()},h.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},h.prototype.blur_=function(){window.setTimeout(function(){this.btnElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},h.prototype.checkDisabled=function(){this.btnElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},h.prototype.checkDisabled=h.prototype.checkDisabled,h.prototype.checkToggleState=function(){this.btnElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},h.prototype.checkToggleState=h.prototype.checkToggleState,h.prototype.disable=function(){this.btnElement_.disabled=!0,this.updateClasses_()},h.prototype.disable=h.prototype.disable,h.prototype.enable=function(){this.btnElement_.disabled=!1,this.updateClasses_()},h.prototype.enable=h.prototype.enable,h.prototype.check=function(){this.btnElement_.checked=!0,this.updateClasses_()},h.prototype.check=h.prototype.check,h.prototype.uncheck=function(){this.btnElement_.checked=!1,this.updateClasses_()},h.prototype.uncheck=h.prototype.uncheck,h.prototype.init=function(){if(this.element_){this.btnElement_=this.element_.querySelector("."+this.CssClasses_.RADIO_BTN),this.boundChangeHandler_=this.onChange_.bind(this),this.boundFocusHandler_=this.onChange_.bind(this),this.boundBlurHandler_=this.onBlur_.bind(this),this.boundMouseUpHandler_=this.onMouseup_.bind(this);var e=document.createElement("span");e.classList.add(this.CssClasses_.RADIO_OUTER_CIRCLE);var t=document.createElement("span");t.classList.add(this.CssClasses_.RADIO_INNER_CIRCLE),this.element_.appendChild(e),this.element_.appendChild(t);var n;if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),n=document.createElement("span"),n.classList.add(this.CssClasses_.RIPPLE_CONTAINER),n.classList.add(this.CssClasses_.RIPPLE_EFFECT),n.classList.add(this.CssClasses_.RIPPLE_CENTER),n.addEventListener("mouseup",this.boundMouseUpHandler_);var i=document.createElement("span");i.classList.add(this.CssClasses_.RIPPLE),n.appendChild(i),this.element_.appendChild(n)}this.btnElement_.addEventListener("change",this.boundChangeHandler_),this.btnElement_.addEventListener("focus",this.boundFocusHandler_),this.btnElement_.addEventListener("blur",this.boundBlurHandler_),this.element_.addEventListener("mouseup",this.boundMouseUpHandler_),this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},n.register({constructor:h,classAsString:"MaterialRadio",cssClass:"mdl-js-radio",widget:!0});var f=function(e){this.element_=e,this.isIE_=window.navigator.msPointerEnabled,this.init()};window.MaterialSlider=f,f.prototype.Constant_={},f.prototype.CssClasses_={IE_CONTAINER:"mdl-slider__ie-container",SLIDER_CONTAINER:"mdl-slider__container",BACKGROUND_FLEX:"mdl-slider__background-flex",BACKGROUND_LOWER:"mdl-slider__background-lower",BACKGROUND_UPPER:"mdl-slider__background-upper",IS_LOWEST_VALUE:"is-lowest-value",IS_UPGRADED:"is-upgraded"},f.prototype.onInput_=function(e){this.updateValueStyles_()},f.prototype.onChange_=function(e){this.updateValueStyles_()},f.prototype.onMouseUp_=function(e){e.target.blur()},f.prototype.onContainerMouseDown_=function(e){if(e.target===this.element_.parentElement){e.preventDefault();var t=new MouseEvent("mousedown",{target:e.target,buttons:e.buttons,clientX:e.clientX,clientY:this.element_.getBoundingClientRect().y});this.element_.dispatchEvent(t)}},f.prototype.updateValueStyles_=function(){var e=(this.element_.value-this.element_.min)/(this.element_.max-this.element_.min);0===e?this.element_.classList.add(this.CssClasses_.IS_LOWEST_VALUE):this.element_.classList.remove(this.CssClasses_.IS_LOWEST_VALUE),this.isIE_||(this.backgroundLower_.style.flex=e,this.backgroundLower_.style.webkitFlex=e,this.backgroundUpper_.style.flex=1-e,this.backgroundUpper_.style.webkitFlex=1-e)},f.prototype.disable=function(){this.element_.disabled=!0},f.prototype.disable=f.prototype.disable,f.prototype.enable=function(){this.element_.disabled=!1},f.prototype.enable=f.prototype.enable,f.prototype.change=function(e){"undefined"!=typeof e&&(this.element_.value=e),this.updateValueStyles_()},f.prototype.change=f.prototype.change,f.prototype.init=function(){if(this.element_){if(this.isIE_){var e=document.createElement("div");e.classList.add(this.CssClasses_.IE_CONTAINER),this.element_.parentElement.insertBefore(e,this.element_),this.element_.parentElement.removeChild(this.element_),e.appendChild(this.element_)}else{var t=document.createElement("div");t.classList.add(this.CssClasses_.SLIDER_CONTAINER),this.element_.parentElement.insertBefore(t,this.element_),this.element_.parentElement.removeChild(this.element_),t.appendChild(this.element_);var n=document.createElement("div");n.classList.add(this.CssClasses_.BACKGROUND_FLEX),t.appendChild(n),this.backgroundLower_=document.createElement("div"),this.backgroundLower_.classList.add(this.CssClasses_.BACKGROUND_LOWER),n.appendChild(this.backgroundLower_),this.backgroundUpper_=document.createElement("div"),this.backgroundUpper_.classList.add(this.CssClasses_.BACKGROUND_UPPER),n.appendChild(this.backgroundUpper_)}this.boundInputHandler=this.onInput_.bind(this),this.boundChangeHandler=this.onChange_.bind(this),this.boundMouseUpHandler=this.onMouseUp_.bind(this),this.boundContainerMouseDownHandler=this.onContainerMouseDown_.bind(this),this.element_.addEventListener("input",this.boundInputHandler),this.element_.addEventListener("change",this.boundChangeHandler),this.element_.addEventListener("mouseup",this.boundMouseUpHandler),this.element_.parentElement.addEventListener("mousedown",this.boundContainerMouseDownHandler),this.updateValueStyles_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},n.register({constructor:f,classAsString:"MaterialSlider",cssClass:"mdl-js-slider",widget:!0});var p=function(e){if(this.element_=e,this.textElement_=this.element_.querySelector("."+this.cssClasses_.MESSAGE),this.actionElement_=this.element_.querySelector("."+this.cssClasses_.ACTION),!this.textElement_)throw new Error("There must be a message element for a snackbar.");if(!this.actionElement_)throw new Error("There must be an action element for a snackbar.");this.active=!1,this.actionHandler_=void 0,this.message_=void 0,this.actionText_=void 0,this.queuedNotifications_=[],this.setActionHidden_(!0)};window.MaterialSnackbar=p,p.prototype.Constant_={ANIMATION_LENGTH:250},p.prototype.cssClasses_={SNACKBAR:"mdl-snackbar",MESSAGE:"mdl-snackbar__text",ACTION:"mdl-snackbar__action",ACTIVE:"mdl-snackbar--active"},p.prototype.displaySnackbar_=function(){this.element_.setAttribute("aria-hidden","true"),this.actionHandler_&&(this.actionElement_.textContent=this.actionText_,this.actionElement_.addEventListener("click",this.actionHandler_),this.setActionHidden_(!1)),this.textElement_.textContent=this.message_,this.element_.classList.add(this.cssClasses_.ACTIVE),this.element_.setAttribute("aria-hidden","false"),setTimeout(this.cleanup_.bind(this),this.timeout_)},p.prototype.showSnackbar=function(e){if(void 0===e)throw new Error("Please provide a data object with at least a message to display.");if(void 0===e.message)throw new Error("Please provide a message to be displayed.");if(e.actionHandler&&!e.actionText)throw new Error("Please provide action text with the handler.");this.active?this.queuedNotifications_.push(e):(this.active=!0,this.message_=e.message,e.timeout?this.timeout_=e.timeout:this.timeout_=2750,e.actionHandler&&(this.actionHandler_=e.actionHandler),e.actionText&&(this.actionText_=e.actionText),this.displaySnackbar_())},p.prototype.showSnackbar=p.prototype.showSnackbar,p.prototype.checkQueue_=function(){this.queuedNotifications_.length>0&&this.showSnackbar(this.queuedNotifications_.shift())},p.prototype.cleanup_=function(){this.element_.classList.remove(this.cssClasses_.ACTIVE),setTimeout(function(){this.element_.setAttribute("aria-hidden","true"),this.textElement_.textContent="",Boolean(this.actionElement_.getAttribute("aria-hidden"))||(this.setActionHidden_(!0),this.actionElement_.textContent="",this.actionElement_.removeEventListener("click",this.actionHandler_)),this.actionHandler_=void 0,this.message_=void 0,this.actionText_=void 0,this.active=!1,this.checkQueue_()}.bind(this),this.Constant_.ANIMATION_LENGTH)},p.prototype.setActionHidden_=function(e){e?this.actionElement_.setAttribute("aria-hidden","true"):this.actionElement_.removeAttribute("aria-hidden")},n.register({constructor:p,classAsString:"MaterialSnackbar",cssClass:"mdl-js-snackbar",widget:!0});var m=function(e){this.element_=e,this.init()};window.MaterialSpinner=m,m.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},m.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},m.prototype.createLayer=function(e){var t=document.createElement("div");t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),r.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var s=[n,i,r],o=0;o<s.length;o++){var a=document.createElement("div");a.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),s[o].appendChild(a)}t.appendChild(n),t.appendChild(i),t.appendChild(r),this.element_.appendChild(t)},m.prototype.createLayer=m.prototype.createLayer,m.prototype.stop=function(){this.element_.classList.remove("is-active")},m.prototype.stop=m.prototype.stop,m.prototype.start=function(){this.element_.classList.add("is-active")},m.prototype.start=m.prototype.start,m.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},n.register({constructor:m,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0});var g=function(e){this.element_=e,this.init()};window.MaterialSwitch=g,g.prototype.Constant_={TINY_TIMEOUT:.001},g.prototype.CssClasses_={INPUT:"mdl-switch__input",TRACK:"mdl-switch__track",THUMB:"mdl-switch__thumb",FOCUS_HELPER:"mdl-switch__focus-helper",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-switch__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked"},g.prototype.onChange_=function(e){this.updateClasses_()},g.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},g.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},g.prototype.onMouseUp_=function(e){this.blur_()},g.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},g.prototype.blur_=function(){window.setTimeout(function(){this.inputElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},g.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},g.prototype.checkDisabled=g.prototype.checkDisabled,g.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},g.prototype.checkToggleState=g.prototype.checkToggleState,g.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},g.prototype.disable=g.prototype.disable,g.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},g.prototype.enable=g.prototype.enable,g.prototype.on=function(){this.inputElement_.checked=!0,this.updateClasses_()},g.prototype.on=g.prototype.on,g.prototype.off=function(){this.inputElement_.checked=!1,this.updateClasses_()},g.prototype.off=g.prototype.off,g.prototype.init=function(){if(this.element_){this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT);var e=document.createElement("div");e.classList.add(this.CssClasses_.TRACK);var t=document.createElement("div");t.classList.add(this.CssClasses_.THUMB);var n=document.createElement("span");if(n.classList.add(this.CssClasses_.FOCUS_HELPER),t.appendChild(n),this.element_.appendChild(e),this.element_.appendChild(t),this.boundMouseUpHandler=this.onMouseUp_.bind(this),this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.rippleContainerElement_.addEventListener("mouseup",this.boundMouseUpHandler);var i=document.createElement("span");i.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(i),this.element_.appendChild(this.rippleContainerElement_)}this.boundChangeHandler=this.onChange_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.inputElement_.addEventListener("change",this.boundChangeHandler),this.inputElement_.addEventListener("focus",this.boundFocusHandler),this.inputElement_.addEventListener("blur",this.boundBlurHandler),this.element_.addEventListener("mouseup",this.boundMouseUpHandler),this.updateClasses_(),this.element_.classList.add("is-upgraded")}},n.register({constructor:g,classAsString:"MaterialSwitch",cssClass:"mdl-js-switch",widget:!0});var v=function(e){this.element_=e,this.init()};window.MaterialTabs=v,v.prototype.Constant_={},v.prototype.CssClasses_={TAB_CLASS:"mdl-tabs__tab",PANEL_CLASS:"mdl-tabs__panel",ACTIVE_CLASS:"is-active",UPGRADED_CLASS:"is-upgraded",MDL_JS_RIPPLE_EFFECT:"mdl-js-ripple-effect",MDL_RIPPLE_CONTAINER:"mdl-tabs__ripple-container",MDL_RIPPLE:"mdl-ripple",MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events"},v.prototype.initTabs_=function(){this.element_.classList.contains(this.CssClasses_.MDL_JS_RIPPLE_EFFECT)&&this.element_.classList.add(this.CssClasses_.MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS),this.tabs_=this.element_.querySelectorAll("."+this.CssClasses_.TAB_CLASS),this.panels_=this.element_.querySelectorAll("."+this.CssClasses_.PANEL_CLASS);for(var t=0;t<this.tabs_.length;t++)new e(this.tabs_[t],this);this.element_.classList.add(this.CssClasses_.UPGRADED_CLASS)},v.prototype.resetTabState_=function(){for(var e=0;e<this.tabs_.length;e++)this.tabs_[e].classList.remove(this.CssClasses_.ACTIVE_CLASS)},v.prototype.resetPanelState_=function(){for(var e=0;e<this.panels_.length;e++)this.panels_[e].classList.remove(this.CssClasses_.ACTIVE_CLASS)},v.prototype.init=function(){this.element_&&this.initTabs_()},n.register({constructor:v,classAsString:"MaterialTabs",cssClass:"mdl-js-tabs"});var b=function(e){this.element_=e,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=b,b.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},b.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},b.prototype.onKeyDown_=function(e){var t=e.target.value.split("\n").length;13===e.keyCode&&t>=this.maxRows&&e.preventDefault()},b.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},b.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},b.prototype.onReset_=function(e){this.updateClasses_()},b.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},b.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},b.prototype.checkDisabled=b.prototype.checkDisabled,b.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},b.prototype.checkFocus=b.prototype.checkFocus,b.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},b.prototype.checkValidity=b.prototype.checkValidity,b.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},b.prototype.checkDirty=b.prototype.checkDirty,b.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},b.prototype.disable=b.prototype.disable,b.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},b.prototype.enable=b.prototype.enable,b.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},b.prototype.change=b.prototype.change,b.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},n.register({constructor:b,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0});var y=function(e){this.element_=e,this.init()};window.MaterialTooltip=y,y.prototype.Constant_={},y.prototype.CssClasses_={IS_ACTIVE:"is-active",BOTTOM:"mdl-tooltip--bottom",LEFT:"mdl-tooltip--left",RIGHT:"mdl-tooltip--right",TOP:"mdl-tooltip--top"},y.prototype.handleMouseEnter_=function(e){var t=e.target.getBoundingClientRect(),n=t.left+t.width/2,i=t.top+t.height/2,r=-1*(this.element_.offsetWidth/2),s=-1*(this.element_.offsetHeight/2);this.element_.classList.contains(this.CssClasses_.LEFT)||this.element_.classList.contains(this.CssClasses_.RIGHT)?(n=t.width/2,0>i+s?(this.element_.style.top=0,this.element_.style.marginTop=0):(this.element_.style.top=i+"px",this.element_.style.marginTop=s+"px")):0>n+r?(this.element_.style.left=0,this.element_.style.marginLeft=0):(this.element_.style.left=n+"px",this.element_.style.marginLeft=r+"px"),this.element_.classList.contains(this.CssClasses_.TOP)?this.element_.style.top=t.top-this.element_.offsetHeight-10+"px":this.element_.classList.contains(this.CssClasses_.RIGHT)?this.element_.style.left=t.left+t.width+10+"px":this.element_.classList.contains(this.CssClasses_.LEFT)?this.element_.style.left=t.left-this.element_.offsetWidth-10+"px":this.element_.style.top=t.top+t.height+10+"px",this.element_.classList.add(this.CssClasses_.IS_ACTIVE)},y.prototype.handleMouseLeave_=function(){this.element_.classList.remove(this.CssClasses_.IS_ACTIVE)},y.prototype.init=function(){if(this.element_){var e=this.element_.getAttribute("for");e&&(this.forElement_=document.getElementById(e)),this.forElement_&&(this.forElement_.hasAttribute("tabindex")||this.forElement_.setAttribute("tabindex","0"),this.boundMouseEnterHandler=this.handleMouseEnter_.bind(this),this.boundMouseLeaveHandler=this.handleMouseLeave_.bind(this),this.forElement_.addEventListener("mouseenter",this.boundMouseEnterHandler,!1),this.forElement_.addEventListener("touchend",this.boundMouseEnterHandler,!1),this.forElement_.addEventListener("mouseleave",this.boundMouseLeaveHandler,!1),window.addEventListener("touchstart",this.boundMouseLeaveHandler))}},n.register({constructor:y,classAsString:"MaterialTooltip",cssClass:"mdl-tooltip"});var C=function(e){this.element_=e,this.init()};window.MaterialLayout=C,C.prototype.Constant_={MAX_WIDTH:"(max-width: 1024px)",TAB_SCROLL_PIXELS:100,RESIZE_TIMEOUT:100,MENU_ICON:"&#xE5D2;",CHEVRON_LEFT:"chevron_left",CHEVRON_RIGHT:"chevron_right"},C.prototype.Keycodes_={ENTER:13,ESCAPE:27,SPACE:32},C.prototype.Mode_={STANDARD:0,SEAMED:1,WATERFALL:2,SCROLL:3},C.prototype.CssClasses_={CONTAINER:"mdl-layout__container",HEADER:"mdl-layout__header",DRAWER:"mdl-layout__drawer",CONTENT:"mdl-layout__content",DRAWER_BTN:"mdl-layout__drawer-button",ICON:"material-icons",JS_RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-layout__tab-ripple-container",RIPPLE:"mdl-ripple",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",HEADER_SEAMED:"mdl-layout__header--seamed",HEADER_WATERFALL:"mdl-layout__header--waterfall",HEADER_SCROLL:"mdl-layout__header--scroll",FIXED_HEADER:"mdl-layout--fixed-header",OBFUSCATOR:"mdl-layout__obfuscator",TAB_BAR:"mdl-layout__tab-bar",TAB_CONTAINER:"mdl-layout__tab-bar-container",TAB:"mdl-layout__tab",TAB_BAR_BUTTON:"mdl-layout__tab-bar-button",TAB_BAR_LEFT_BUTTON:"mdl-layout__tab-bar-left-button",TAB_BAR_RIGHT_BUTTON:"mdl-layout__tab-bar-right-button",PANEL:"mdl-layout__tab-panel",HAS_DRAWER:"has-drawer",HAS_TABS:"has-tabs",HAS_SCROLLING_HEADER:"has-scrolling-header",CASTING_SHADOW:"is-casting-shadow",IS_COMPACT:"is-compact",IS_SMALL_SCREEN:"is-small-screen",IS_DRAWER_OPEN:"is-visible",IS_ACTIVE:"is-active",IS_UPGRADED:"is-upgraded",IS_ANIMATING:"is-animating",ON_LARGE_SCREEN:"mdl-layout--large-screen-only",ON_SMALL_SCREEN:"mdl-layout--small-screen-only"},C.prototype.contentScrollHandler_=function(){if(!this.header_.classList.contains(this.CssClasses_.IS_ANIMATING)){var e=!this.element_.classList.contains(this.CssClasses_.IS_SMALL_SCREEN)||this.element_.classList.contains(this.CssClasses_.FIXED_HEADER);this.content_.scrollTop>0&&!this.header_.classList.contains(this.CssClasses_.IS_COMPACT)?(this.header_.classList.add(this.CssClasses_.CASTING_SHADOW),this.header_.classList.add(this.CssClasses_.IS_COMPACT),e&&this.header_.classList.add(this.CssClasses_.IS_ANIMATING)):this.content_.scrollTop<=0&&this.header_.classList.contains(this.CssClasses_.IS_COMPACT)&&(this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW),this.header_.classList.remove(this.CssClasses_.IS_COMPACT),e&&this.header_.classList.add(this.CssClasses_.IS_ANIMATING))}},C.prototype.keyboardEventHandler_=function(e){e.keyCode===this.Keycodes_.ESCAPE&&this.drawer_.classList.contains(this.CssClasses_.IS_DRAWER_OPEN)&&this.toggleDrawer()},C.prototype.screenSizeHandler_=function(){this.screenSizeMediaQuery_.matches?this.element_.classList.add(this.CssClasses_.IS_SMALL_SCREEN):(this.element_.classList.remove(this.CssClasses_.IS_SMALL_SCREEN),this.drawer_&&(this.drawer_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN),this.obfuscator_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN)))},C.prototype.drawerToggleHandler_=function(e){if(e&&"keydown"===e.type){if(e.keyCode!==this.Keycodes_.SPACE&&e.keyCode!==this.Keycodes_.ENTER)return;e.preventDefault()}this.toggleDrawer()},C.prototype.headerTransitionEndHandler_=function(){this.header_.classList.remove(this.CssClasses_.IS_ANIMATING)},C.prototype.headerClickHandler_=function(){this.header_.classList.contains(this.CssClasses_.IS_COMPACT)&&(this.header_.classList.remove(this.CssClasses_.IS_COMPACT),this.header_.classList.add(this.CssClasses_.IS_ANIMATING))},C.prototype.resetTabState_=function(e){for(var t=0;t<e.length;t++)e[t].classList.remove(this.CssClasses_.IS_ACTIVE)},C.prototype.resetPanelState_=function(e){for(var t=0;t<e.length;t++)e[t].classList.remove(this.CssClasses_.IS_ACTIVE)},C.prototype.toggleDrawer=function(){var e=this.element_.querySelector("."+this.CssClasses_.DRAWER_BTN);this.drawer_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN),this.obfuscator_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN),this.drawer_.classList.contains(this.CssClasses_.IS_DRAWER_OPEN)?(this.drawer_.setAttribute("aria-hidden","false"),e.setAttribute("aria-expanded","true")):(this.drawer_.setAttribute("aria-hidden","true"),e.setAttribute("aria-expanded","false"))},C.prototype.toggleDrawer=C.prototype.toggleDrawer,C.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.classList.add(this.CssClasses_.CONTAINER);var n=this.element_.querySelector(":focus");this.element_.parentElement.insertBefore(e,this.element_),this.element_.parentElement.removeChild(this.element_),e.appendChild(this.element_),n&&n.focus();for(var i=this.element_.childNodes,r=i.length,s=0;r>s;s++){var o=i[s];o.classList&&o.classList.contains(this.CssClasses_.HEADER)&&(this.header_=o),o.classList&&o.classList.contains(this.CssClasses_.DRAWER)&&(this.drawer_=o),o.classList&&o.classList.contains(this.CssClasses_.CONTENT)&&(this.content_=o)}window.addEventListener("pageshow",function(e){e.persisted&&(this.element_.style.overflowY="hidden",requestAnimationFrame(function(){this.element_.style.overflowY=""}.bind(this)))}.bind(this),!1),this.header_&&(this.tabBar_=this.header_.querySelector("."+this.CssClasses_.TAB_BAR));var a=this.Mode_.STANDARD;if(this.header_&&(this.header_.classList.contains(this.CssClasses_.HEADER_SEAMED)?a=this.Mode_.SEAMED:this.header_.classList.contains(this.CssClasses_.HEADER_WATERFALL)?(a=this.Mode_.WATERFALL,this.header_.addEventListener("transitionend",this.headerTransitionEndHandler_.bind(this)),this.header_.addEventListener("click",this.headerClickHandler_.bind(this))):this.header_.classList.contains(this.CssClasses_.HEADER_SCROLL)&&(a=this.Mode_.SCROLL,e.classList.add(this.CssClasses_.HAS_SCROLLING_HEADER)),a===this.Mode_.STANDARD?(this.header_.classList.add(this.CssClasses_.CASTING_SHADOW),this.tabBar_&&this.tabBar_.classList.add(this.CssClasses_.CASTING_SHADOW)):a===this.Mode_.SEAMED||a===this.Mode_.SCROLL?(this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW),this.tabBar_&&this.tabBar_.classList.remove(this.CssClasses_.CASTING_SHADOW)):a===this.Mode_.WATERFALL&&(this.content_.addEventListener("scroll",this.contentScrollHandler_.bind(this)),this.contentScrollHandler_())),this.drawer_){var l=this.element_.querySelector("."+this.CssClasses_.DRAWER_BTN);if(!l){l=document.createElement("div"),l.setAttribute("aria-expanded","false"),l.setAttribute("role","button"),l.setAttribute("tabindex","0"),l.classList.add(this.CssClasses_.DRAWER_BTN);var c=document.createElement("i");c.classList.add(this.CssClasses_.ICON),c.innerHTML=this.Constant_.MENU_ICON,l.appendChild(c)}this.drawer_.classList.contains(this.CssClasses_.ON_LARGE_SCREEN)?l.classList.add(this.CssClasses_.ON_LARGE_SCREEN):this.drawer_.classList.contains(this.CssClasses_.ON_SMALL_SCREEN)&&l.classList.add(this.CssClasses_.ON_SMALL_SCREEN),l.addEventListener("click",this.drawerToggleHandler_.bind(this)),l.addEventListener("keydown",this.drawerToggleHandler_.bind(this)),this.element_.classList.add(this.CssClasses_.HAS_DRAWER),this.element_.classList.contains(this.CssClasses_.FIXED_HEADER)?this.header_.insertBefore(l,this.header_.firstChild):this.element_.insertBefore(l,this.content_);var u=document.createElement("div");u.classList.add(this.CssClasses_.OBFUSCATOR),this.element_.appendChild(u),u.addEventListener("click",this.drawerToggleHandler_.bind(this)),this.obfuscator_=u,this.drawer_.addEventListener("keydown",this.keyboardEventHandler_.bind(this)),this.drawer_.setAttribute("aria-hidden","true")}if(this.screenSizeMediaQuery_=window.matchMedia(this.Constant_.MAX_WIDTH),this.screenSizeMediaQuery_.addListener(this.screenSizeHandler_.bind(this)),this.screenSizeHandler_(),this.header_&&this.tabBar_){this.element_.classList.add(this.CssClasses_.HAS_TABS);var d=document.createElement("div");d.classList.add(this.CssClasses_.TAB_CONTAINER),this.header_.insertBefore(d,this.tabBar_),this.header_.removeChild(this.tabBar_);var h=document.createElement("div");h.classList.add(this.CssClasses_.TAB_BAR_BUTTON),h.classList.add(this.CssClasses_.TAB_BAR_LEFT_BUTTON);var f=document.createElement("i");f.classList.add(this.CssClasses_.ICON),f.textContent=this.Constant_.CHEVRON_LEFT,h.appendChild(f),h.addEventListener("click",function(){this.tabBar_.scrollLeft-=this.Constant_.TAB_SCROLL_PIXELS}.bind(this));var p=document.createElement("div");p.classList.add(this.CssClasses_.TAB_BAR_BUTTON),p.classList.add(this.CssClasses_.TAB_BAR_RIGHT_BUTTON);var m=document.createElement("i");m.classList.add(this.CssClasses_.ICON),m.textContent=this.Constant_.CHEVRON_RIGHT,
p.appendChild(m),p.addEventListener("click",function(){this.tabBar_.scrollLeft+=this.Constant_.TAB_SCROLL_PIXELS}.bind(this)),d.appendChild(h),d.appendChild(this.tabBar_),d.appendChild(p);var g=function(){this.tabBar_.scrollLeft>0?h.classList.add(this.CssClasses_.IS_ACTIVE):h.classList.remove(this.CssClasses_.IS_ACTIVE),this.tabBar_.scrollLeft<this.tabBar_.scrollWidth-this.tabBar_.offsetWidth?p.classList.add(this.CssClasses_.IS_ACTIVE):p.classList.remove(this.CssClasses_.IS_ACTIVE)}.bind(this);this.tabBar_.addEventListener("scroll",g),g();var v=function(){this.resizeTimeoutId_&&clearTimeout(this.resizeTimeoutId_),this.resizeTimeoutId_=setTimeout(function(){g(),this.resizeTimeoutId_=null}.bind(this),this.Constant_.RESIZE_TIMEOUT)}.bind(this);window.addEventListener("resize",v),this.tabBar_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)&&this.tabBar_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);for(var b=this.tabBar_.querySelectorAll("."+this.CssClasses_.TAB),y=this.content_.querySelectorAll("."+this.CssClasses_.PANEL),C=0;C<b.length;C++)new t(b[C],b,y,this)}this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},window.MaterialLayoutTab=t,n.register({constructor:C,classAsString:"MaterialLayout",cssClass:"mdl-js-layout"});var x=function(e){this.element_=e,this.init()};window.MaterialDataTable=x,x.prototype.Constant_={},x.prototype.CssClasses_={DATA_TABLE:"mdl-data-table",SELECTABLE:"mdl-data-table--selectable",SELECT_ELEMENT:"mdl-data-table__select",IS_SELECTED:"is-selected",IS_UPGRADED:"is-upgraded"},x.prototype.selectRow_=function(e,t,n){return t?function(){e.checked?t.classList.add(this.CssClasses_.IS_SELECTED):t.classList.remove(this.CssClasses_.IS_SELECTED)}.bind(this):n?function(){var t,i;if(e.checked)for(t=0;t<n.length;t++)i=n[t].querySelector("td").querySelector(".mdl-checkbox"),i.MaterialCheckbox.check(),n[t].classList.add(this.CssClasses_.IS_SELECTED);else for(t=0;t<n.length;t++)i=n[t].querySelector("td").querySelector(".mdl-checkbox"),i.MaterialCheckbox.uncheck(),n[t].classList.remove(this.CssClasses_.IS_SELECTED)}.bind(this):void 0},x.prototype.createCheckbox_=function(e,t){var i=document.createElement("label"),r=["mdl-checkbox","mdl-js-checkbox","mdl-js-ripple-effect",this.CssClasses_.SELECT_ELEMENT];i.className=r.join(" ");var s=document.createElement("input");return s.type="checkbox",s.classList.add("mdl-checkbox__input"),e?(s.checked=e.classList.contains(this.CssClasses_.IS_SELECTED),s.addEventListener("change",this.selectRow_(s,e))):t&&s.addEventListener("change",this.selectRow_(s,null,t)),i.appendChild(s),n.upgradeElement(i,"MaterialCheckbox"),i},x.prototype.init=function(){if(this.element_){var e=this.element_.querySelector("th"),t=Array.prototype.slice.call(this.element_.querySelectorAll("tbody tr")),n=Array.prototype.slice.call(this.element_.querySelectorAll("tfoot tr")),i=t.concat(n);if(this.element_.classList.contains(this.CssClasses_.SELECTABLE)){var r=document.createElement("th"),s=this.createCheckbox_(null,i);r.appendChild(s),e.parentElement.insertBefore(r,e);for(var o=0;o<i.length;o++){var a=i[o].querySelector("td");if(a){var l=document.createElement("td");if("TBODY"===i[o].parentNode.nodeName.toUpperCase()){var c=this.createCheckbox_(i[o]);l.appendChild(c)}i[o].insertBefore(l,a)}}this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}}},n.register({constructor:x,classAsString:"MaterialDataTable",cssClass:"mdl-js-data-table"});var _=function(e){this.element_=e,this.init()};window.MaterialRipple=_,_.prototype.Constant_={INITIAL_SCALE:"scale(0.0001, 0.0001)",INITIAL_SIZE:"1px",INITIAL_OPACITY:"0.4",FINAL_OPACITY:"0",FINAL_SCALE:""},_.prototype.CssClasses_={RIPPLE_CENTER:"mdl-ripple--center",RIPPLE_EFFECT_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE:"mdl-ripple",IS_ANIMATING:"is-animating",IS_VISIBLE:"is-visible"},_.prototype.downHandler_=function(e){if(!this.rippleElement_.style.width&&!this.rippleElement_.style.height){var t=this.element_.getBoundingClientRect();this.boundHeight=t.height,this.boundWidth=t.width,this.rippleSize_=2*Math.sqrt(t.width*t.width+t.height*t.height)+2,this.rippleElement_.style.width=this.rippleSize_+"px",this.rippleElement_.style.height=this.rippleSize_+"px"}if(this.rippleElement_.classList.add(this.CssClasses_.IS_VISIBLE),"mousedown"===e.type&&this.ignoringMouseDown_)this.ignoringMouseDown_=!1;else{"touchstart"===e.type&&(this.ignoringMouseDown_=!0);var n=this.getFrameCount();if(n>0)return;this.setFrameCount(1);var i,r,s=e.currentTarget.getBoundingClientRect();if(0===e.clientX&&0===e.clientY)i=Math.round(s.width/2),r=Math.round(s.height/2);else{var o=e.clientX?e.clientX:e.touches[0].clientX,a=e.clientY?e.clientY:e.touches[0].clientY;i=Math.round(o-s.left),r=Math.round(a-s.top)}this.setRippleXY(i,r),this.setRippleStyles(!0),window.requestAnimationFrame(this.animFrameHandler.bind(this))}},_.prototype.upHandler_=function(e){e&&2!==e.detail&&window.setTimeout(function(){this.rippleElement_.classList.remove(this.CssClasses_.IS_VISIBLE)}.bind(this),0)},_.prototype.init=function(){if(this.element_){var e=this.element_.classList.contains(this.CssClasses_.RIPPLE_CENTER);this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT_IGNORE_EVENTS)||(this.rippleElement_=this.element_.querySelector("."+this.CssClasses_.RIPPLE),this.frameCount_=0,this.rippleSize_=0,this.x_=0,this.y_=0,this.ignoringMouseDown_=!1,this.boundDownHandler=this.downHandler_.bind(this),this.element_.addEventListener("mousedown",this.boundDownHandler),this.element_.addEventListener("touchstart",this.boundDownHandler),this.boundUpHandler=this.upHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundUpHandler),this.element_.addEventListener("mouseleave",this.boundUpHandler),this.element_.addEventListener("touchend",this.boundUpHandler),this.element_.addEventListener("blur",this.boundUpHandler),this.getFrameCount=function(){return this.frameCount_},this.setFrameCount=function(e){this.frameCount_=e},this.getRippleElement=function(){return this.rippleElement_},this.setRippleXY=function(e,t){this.x_=e,this.y_=t},this.setRippleStyles=function(t){if(null!==this.rippleElement_){var n,i,r,s="translate("+this.x_+"px, "+this.y_+"px)";t?(i=this.Constant_.INITIAL_SCALE,r=this.Constant_.INITIAL_SIZE):(i=this.Constant_.FINAL_SCALE,r=this.rippleSize_+"px",e&&(s="translate("+this.boundWidth/2+"px, "+this.boundHeight/2+"px)")),n="translate(-50%, -50%) "+s+i,this.rippleElement_.style.webkitTransform=n,this.rippleElement_.style.msTransform=n,this.rippleElement_.style.transform=n,t?this.rippleElement_.classList.remove(this.CssClasses_.IS_ANIMATING):this.rippleElement_.classList.add(this.CssClasses_.IS_ANIMATING)}},this.animFrameHandler=function(){this.frameCount_-- >0?window.requestAnimationFrame(this.animFrameHandler.bind(this)):this.setRippleStyles(!1)})}},n.register({constructor:_,classAsString:"MaterialRipple",cssClass:"mdl-js-ripple-effect",widget:!1})}();var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(){var e=/\blang(?:uage)?-(\w+)\b/i,t=0,n=_self.Prism={util:{encode:function(e){return e instanceof i?new i(e.type,n.util.encode(e.content),e.alias):"Array"===n.util.type(e)?e.map(n.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function(e){var t=n.util.type(e);switch(t){case"Object":var i={};for(var r in e)e.hasOwnProperty(r)&&(i[r]=n.util.clone(e[r]));return i;case"Array":return e.map&&e.map(function(e){return n.util.clone(e)})}return e}},languages:{extend:function(e,t){var i=n.util.clone(n.languages[e]);for(var r in t)i[r]=t[r];return i},insertBefore:function(e,t,i,r){r=r||n.languages;var s=r[e];if(2==arguments.length){i=arguments[1];for(var o in i)i.hasOwnProperty(o)&&(s[o]=i[o]);return s}var a={};for(var l in s)if(s.hasOwnProperty(l)){if(l==t)for(var o in i)i.hasOwnProperty(o)&&(a[o]=i[o]);a[l]=s[l]}return n.languages.DFS(n.languages,function(t,n){n===r[e]&&t!=e&&(this[t]=a)}),r[e]=a},DFS:function(e,t,i,r){r=r||{};for(var s in e)e.hasOwnProperty(s)&&(t.call(e,s,e[s],i||s),"Object"!==n.util.type(e[s])||r[n.util.objId(e[s])]?"Array"!==n.util.type(e[s])||r[n.util.objId(e[s])]||(r[n.util.objId(e[s])]=!0,n.languages.DFS(e[s],t,s,r)):(r[n.util.objId(e[s])]=!0,n.languages.DFS(e[s],t,null,r)))}},plugins:{},highlightAll:function(e,t){for(var i,r=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),s=0;i=r[s++];)n.highlightElement(i,e===!0,t)},highlightElement:function(t,i,r){for(var s,o,a=t;a&&!e.test(a.className);)a=a.parentNode;a&&(s=(a.className.match(e)||[,""])[1],o=n.languages[s]),t.className=t.className.replace(e,"").replace(/\s+/g," ")+" language-"+s,a=t.parentNode,/pre/i.test(a.nodeName)&&(a.className=a.className.replace(e,"").replace(/\s+/g," ")+" language-"+s);var l=t.textContent,c={element:t,language:s,grammar:o,code:l};if(!l||!o)return void n.hooks.run("complete",c);if(n.hooks.run("before-highlight",c),i&&_self.Worker){var u=new Worker(n.filename);u.onmessage=function(e){c.highlightedCode=e.data,n.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,r&&r.call(c.element),n.hooks.run("after-highlight",c),n.hooks.run("complete",c)},u.postMessage(JSON.stringify({language:c.language,code:c.code,immediateClose:!0}))}else c.highlightedCode=n.highlight(c.code,c.grammar,c.language),n.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,r&&r.call(t),n.hooks.run("after-highlight",c),n.hooks.run("complete",c)},highlight:function(e,t,r){var s=n.tokenize(e,t);return i.stringify(n.util.encode(s),r)},tokenize:function(e,t){var i=n.Token,r=[e],s=t.rest;if(s){for(var o in s)t[o]=s[o];delete t.rest}e:for(var o in t)if(t.hasOwnProperty(o)&&t[o]){var a=t[o];a="Array"===n.util.type(a)?a:[a];for(var l=0;l<a.length;++l){var c=a[l],u=c.inside,d=!!c.lookbehind,h=0,f=c.alias;c=c.pattern||c;for(var p=0;p<r.length;p++){var m=r[p];if(r.length>e.length)break e;if(!(m instanceof i)){c.lastIndex=0;var g=c.exec(m);if(g){d&&(h=g[1].length);var v=g.index-1+h,g=g[0].slice(h),b=g.length,y=v+b,C=m.slice(0,v+1),x=m.slice(y+1),_=[p,1];C&&_.push(C);var w=new i(o,u?n.tokenize(g,u):g,f);_.push(w),x&&_.push(x),Array.prototype.splice.apply(r,_)}}}}}return r},hooks:{all:{},add:function(e,t){var i=n.hooks.all;i[e]=i[e]||[],i[e].push(t)},run:function(e,t){var i=n.hooks.all[e];if(i&&i.length)for(var r,s=0;r=i[s++];)r(t)}}},i=n.Token=function(e,t,n){this.type=e,this.content=t,this.alias=n};if(i.stringify=function(e,t,r){if("string"==typeof e)return e;if("Array"===n.util.type(e))return e.map(function(n){return i.stringify(n,t,e)}).join("");var s={type:e.type,content:i.stringify(e.content,t,r),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:r};if("comment"==s.type&&(s.attributes.spellcheck="true"),e.alias){var o="Array"===n.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(s.classes,o)}n.hooks.run("wrap",s);var a="";for(var l in s.attributes)a+=(a?" ":"")+l+'="'+(s.attributes[l]||"")+'"';return"<"+s.tag+' class="'+s.classes.join(" ")+'" '+a+">"+s.content+"</"+s.tag+">"},!_self.document)return _self.addEventListener?(_self.addEventListener("message",function(e){var t=JSON.parse(e.data),i=t.language,r=t.code,s=t.immediateClose;_self.postMessage(n.highlight(r,n.languages[i],i)),s&&_self.close()},!1),_self.Prism):_self.Prism;var r=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return r&&(n.filename=r.src,document.addEventListener&&!r.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",n.highlightAll)),_self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,"boolean":/\b(true|false)\b/,"function":/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,"function":/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^\/])\/(?!\/)(\[.+?]|\\.|[^\/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}}),Prism.languages.insertBefore("javascript","class-name",{"template-string":{pattern:/`(?:\\\\|\\?[^\\])*?`/,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/(<script[\w\W]*?>)[\w\W]*?(?=<\/script>)/i,lookbehind:!0,inside:Prism.languages.javascript,alias:"language-javascript"}}),Prism.languages.js=Prism.languages.javascript,Prism.languages.c=Prism.languages.extend("clike",{keyword:/\b(asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,operator:/\-[>-]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|?\||[~^%?*\/]/,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)[ful]*\b/i}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z]+([^\r\n\\]|\\.|\\(?:\r\n?|\n))*/im,lookbehind:!0,alias:"property",inside:{string:{pattern:/(#\s*include\s*)(<.+?>|("|')(\\?.)+?\3)/,lookbehind:!0},directive:{pattern:/(#\s*)\b(define|elif|else|endif|error|ifdef|ifndef|if|import|include|line|pragma|undef|using)\b/,lookbehind:!0,alias:"keyword"}}},constant:/\b(__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|stdin|stdout|stderr)\b/}),delete Prism.languages.c["class-name"],delete Prism.languages.c["boolean"],Prism.languages.cpp=Prism.languages.extend("c",{keyword:/\b(alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|class|compl|const|constexpr|const_cast|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,"boolean":/\b(true|false)\b/,operator:/[-+]{1,2}|!=?|<{1,2}=?|>{1,2}=?|\->|:{1,2}|={1,2}|\^|~|%|&{1,2}|\|?\||\?|\*|\/|\b(and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/}),Prism.languages.insertBefore("cpp","keyword",{"class-name":{pattern:/(class\s+)[a-z0-9_]+/i,lookbehind:!0}}),Prism.languages.go=Prism.languages.extend("clike",{keyword:/\b(break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,builtin:/\b(bool|byte|complex(64|128)|error|float(32|64)|rune|string|u?int(8|16|32|64|)|uintptr|append|cap|close|complex|copy|delete|imag|len|make|new|panic|print(ln)?|real|recover)\b/,"boolean":/\b(_|iota|nil|true|false)\b/,operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,number:/\b(-?(0x[a-f\d]+|(\d+\.?\d*|\.\d+)(e[-+]?\d+)?)i?)\b/i,string:/("|'|`)(\\?.|\r|\n)*?\1/}),delete Prism.languages.go["class-name"],Prism.languages.http={"request-line":{pattern:/^(POST|GET|PUT|DELETE|OPTIONS|PATCH|TRACE|CONNECT)\b\shttps?:\/\/\S+\sHTTP\/[0-9.]+/m,inside:{property:/^(POST|GET|PUT|DELETE|OPTIONS|PATCH|TRACE|CONNECT)\b/,"attr-name":/:\w+/}},"response-status":{pattern:/^HTTP\/1.[01] [0-9]+.*/m,inside:{property:{pattern:/(^HTTP\/1.[01] )[0-9]+.*/i,lookbehind:!0}}},"header-name":{pattern:/^[\w-]+:(?=.)/m,alias:"keyword"}};var httpLanguages={"application/json":Prism.languages.javascript,"application/xml":Prism.languages.markup,"text/xml":Prism.languages.markup,"text/html":Prism.languages.markup};for(var contentType in httpLanguages)if(httpLanguages[contentType]){var options={};options[contentType]={pattern:new RegExp("(content-type:\\s*"+contentType+"[\\w\\W]*?)(?:\\r?\\n|\\r){2}[\\w\\W]*","i"),lookbehind:!0,inside:{rest:httpLanguages[contentType]}},Prism.languages.insertBefore("http","header-name",options)}Prism.languages.java=Prism.languages.extend("clike",{keyword:/\b(abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while)\b/,number:/\b0b[01]+\b|\b0x[\da-f]*\.?[\da-fp\-]+\b|\b\d*\.?\d+(?:e[+-]?\d+)?[df]?\b/i,operator:{pattern:/(^|[^.])(?:\+[+=]?|-[-=]?|!=?|<<?=?|>>?>?=?|==?|&[&=]?|\|[|=]?|\*=?|\/=?|%=?|\^=?|[?:~])/m,lookbehind:!0}}),Prism.languages.json={property:/".*?"(?=\s*:)/gi,string:/"(?!:)(\\?[^"])*?"(?!:)/g,number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?)\b/g,punctuation:/[{}[\]);,]/g,operator:/:/g,"boolean":/\b(true|false)\b/gi,"null":/\bnull\b/gi},Prism.languages.jsonp=Prism.languages.json,Prism.languages.python={"triple-quoted-string":{pattern:/"""[\s\S]+?"""|'''[\s\S]+?'''/,alias:"string"},comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},string:/("|')(?:\\?.)*?\1/,"function":{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_][a-zA-Z0-9_]*(?=\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)[a-z0-9_]+/i,lookbehind:!0},keyword:/\b(?:as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|pass|print|raise|return|try|while|with|yield)\b/,"boolean":/\b(?:True|False)\b/,number:/\b-?(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*\.?\d*|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]|\b(?:or|and|not)\b/,punctuation:/[{}[\];(),.:]/},Prism.languages.r={comment:/#.*/,string:/(['"])(?:\\?.)*?\1/,"percent-operator":{pattern:/%[^%\s]*%/,alias:"operator"},"boolean":/\b(?:TRUE|FALSE)\b/,ellipsis:/\.\.(?:\.|\d+)/,number:[/\b(?:NaN|Inf)\b/,/\b(?:0x[\dA-Fa-f]+(?:\.\d*)?|\d*\.?\d+)(?:[EePp][+-]?\d+)?[iL]?\b/],keyword:/\b(?:if|else|repeat|while|function|for|in|next|break|NULL|NA|NA_integer_|NA_real_|NA_complex_|NA_character_)\b/,operator:/->?>?|<(?:=|<?-)?|[>=!]=?|::?|&&?|\|\|?|[+*\/^$@~]/,punctuation:/[(){}\[\],;]/},!function(){function e(e,t){return Array.prototype.slice.call((t||document).querySelectorAll(e))}function t(e,t){return t=" "+t+" ",(" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(t)>-1}function n(e,n,i){for(var s,o=n.replace(/\s+/g,"").split(","),a=+e.getAttribute("data-line-offset")||0,l=r()?parseInt:parseFloat,c=l(getComputedStyle(e).lineHeight),u=0;s=o[u++];){s=s.split("-");var d=+s[0],h=+s[1]||d,f=document.createElement("div");f.textContent=Array(h-d+2).join(" \n"),f.className=(i||"")+" line-highlight",t(e,"line-numbers")||(f.setAttribute("data-start",d),h>d&&f.setAttribute("data-end",h)),f.style.top=(d-a-1)*c+"px",t(e,"line-numbers")?e.appendChild(f):(e.querySelector("code")||e).appendChild(f)}}function i(){var t=location.hash.slice(1);e(".temporary.line-highlight").forEach(function(e){e.parentNode.removeChild(e)});var i=(t.match(/\.([\d,-]+)$/)||[,""])[1];if(i&&!document.getElementById(t)){var r=t.slice(0,t.lastIndexOf(".")),s=document.getElementById(r);s&&(s.hasAttribute("data-line")||s.setAttribute("data-line",""),n(s,i,"temporary "),document.querySelector(".temporary.line-highlight").scrollIntoView())}}if("undefined"!=typeof self&&self.Prism&&self.document&&document.querySelector){var r=function(){var e;return function(){if("undefined"==typeof e){var t=document.createElement("div");t.style.fontSize="13px",t.style.lineHeight="1.5",t.style.padding=0,t.style.border=0,t.innerHTML="&nbsp;<br />&nbsp;",document.body.appendChild(t),e=38===t.offsetHeight,document.body.removeChild(t)}return e}}(),s=0;Prism.hooks.add("complete",function(t){var r=t.element.parentNode,o=r&&r.getAttribute("data-line");r&&o&&/pre/i.test(r.nodeName)&&(clearTimeout(s),e(".line-highlight",r).forEach(function(e){e.parentNode.removeChild(e)}),n(r,o),s=setTimeout(i,1))}),window.addEventListener&&window.addEventListener("hashchange",i)}}(),!function(){"undefined"!=typeof self&&self.Prism&&self.document&&Prism.hooks.add("complete",function(e){if(e.code){var t=e.element.parentNode,n=/\s*\bline-numbers\b\s*/;if(t&&/pre/i.test(t.nodeName)&&(n.test(t.className)||n.test(e.element.className))&&!e.element.querySelector(".line-numbers-rows")){n.test(e.element.className)&&(e.element.className=e.element.className.replace(n,"")),n.test(t.className)||(t.className+=" line-numbers");var i,r=e.code.match(/\n(?!$)/g),s=r?r.length+1:1,o=new Array(s+1);o=o.join("<span></span>"),i=document.createElement("span"),i.className="line-numbers-rows",i.innerHTML=o,t.hasAttribute("data-start")&&(t.style.counterReset="linenumber "+(parseInt(t.getAttribute("data-start"),10)-1)),e.element.appendChild(i)}}})}(),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.SimpleMDE=e()}}(function(){var e;return function t(e,n,i){function r(o,a){if(!n[o]){if(!e[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[o]={exports:{}};e[o][0].call(u.exports,function(t){var n=e[o][1][t];return r(n?n:t)},u,u.exports,t,e,n,i)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t,n){(function(n){Typo=n.Typo=e("D:\\My Web Sites\\simplemde-markdown-editor\\node_modules\\codemirror-spell-checker\\src\\js\\typo.js"),CodeMirror=n.CodeMirror=e("codemirror"),function(e,t,n){var i,r=0,s=!1,o=!1,a="",l="";CodeMirror.defineMode("spell-checker",function(e,t){if(!s){s=!0;var n=new XMLHttpRequest;n.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),n.onload=function(e){4===n.readyState&&200===n.status&&(a=n.responseText,r++,2==r&&(i=new Typo("en_US",a,l,{platform:"any"})))},n.send(null)}if(!o){o=!0;var c=new XMLHttpRequest;c.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),c.onload=function(e){4===c.readyState&&200===c.status&&(l=c.responseText,r++,2==r&&(i=new Typo("en_US",a,l,{platform:"any"})))},c.send(null)}var u='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',d={token:function(e,t){var n=e.peek(),r="";if(u.includes(n))return e.next(),null;for(;null!=(n=e.peek())&&!u.includes(n);)r+=n,e.next();return i&&!i.check(r)?"spell-error":null}},h=CodeMirror.getMode(e,e.backdrop||"text/plain");return CodeMirror.overlayMode(h,d,!0)}),String.prototype.includes||(String.prototype.includes=function(){"use strict";return-1!==String.prototype.indexOf.apply(this,arguments)})}.call(n,t,void 0,void 0)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"D:\\My Web Sites\\simplemde-markdown-editor\\node_modules\\codemirror-spell-checker\\src\\js\\typo.js":2,codemirror:7}],2:[function(e,t,n){(function(e){(function(e,t,n,i,r){"use strict";var s=function(e,t,n,i){if(i=i||{},this.platform=i.platform||"chrome",this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=i.flags||{},e){if(this.dictionary=e,"chrome"==this.platform)t||(t=this._readFile(chrome.extension.getURL("lib/typo/dictionaries/"+e+"/"+e+".aff"))),n||(n=this._readFile(chrome.extension.getURL("lib/typo/dictionaries/"+e+"/"+e+".dic")));else{var r=i.dictionaryPath||"";t||(t=this._readFile(r+"/"+e+"/"+e+".aff")),n||(n=this._readFile(r+"/"+e+"/"+e+".dic"))}this.rules=this._parseAFF(t),this.compoundRuleCodes={};for(var s=0,o=this.compoundRules.length;o>s;s++)for(var a=this.compoundRules[s],l=0,c=a.length;c>l;l++)this.compoundRuleCodes[a[l]]=[];"ONLYINCOMPOUND"in this.flags&&(this.compoundRuleCodes[this.flags.ONLYINCOMPOUND]=[]),this.dictionaryTable=this._parseDIC(n);for(var s in this.compoundRuleCodes)0==this.compoundRuleCodes[s].length&&delete this.compoundRuleCodes[s];for(var s=0,o=this.compoundRules.length;o>s;s++){for(var u=this.compoundRules[s],d="",l=0,c=u.length;c>l;l++){var h=u[l];d+=h in this.compoundRuleCodes?"("+this.compoundRuleCodes[h].join("|")+")":h}this.compoundRules[s]=new RegExp(d,"i")}}return this};s.prototype={load:function(e){for(var t in e)this[t]=e[t];return this},_readFile:function(e,t){t||(t="ISO8859-1");var n=new XMLHttpRequest;return n.open("GET",e,!1),n.overrideMimeType&&n.overrideMimeType("text/plain; charset="+t),n.send(null),n.responseText},_parseAFF:function(e){var t={};e=this._removeAffixComments(e);for(var n=e.split("\n"),i=0,r=n.length;r>i;i++){var s=n[i],o=s.split(/\s+/),a=o[0];if("PFX"==a||"SFX"==a){for(var l=o[1],c=o[2],u=parseInt(o[3],10),d=[],h=i+1,f=i+1+u;f>h;h++){var s=n[h],p=s.split(/\s+/),m=p[2],g=p[3].split("/"),v=g[0];"0"===v&&(v="");var b=this.parseRuleCodes(g[1]),y=p[4],C={};C.add=v,b.length>0&&(C.continuationClasses=b),"."!==y&&("SFX"===a?C.match=new RegExp(y+"$"):C.match=new RegExp("^"+y)),"0"!=m&&("SFX"===a?C.remove=new RegExp(m+"$"):C.remove=m),d.push(C)}t[l]={type:a,combineable:"Y"==c,entries:d},i+=u}else if("COMPOUNDRULE"===a){for(var u=parseInt(o[1],10),h=i+1,f=i+1+u;f>h;h++){var s=n[h],p=s.split(/\s+/);this.compoundRules.push(p[1])}i+=u}else if("REP"===a){var p=s.split(/\s+/);3===p.length&&this.replacementTable.push([p[1],p[2]])}else this.flags[a]=o[1]}return t},_removeAffixComments:function(e){return e=e.replace(/#.*$/gm,""),e=e.replace(/^\s\s*/m,"").replace(/\s\s*$/m,""),e=e.replace(/\n{2,}/g,"\n"),e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_parseDIC:function(e){function t(e,t){e in i&&"object"==typeof i[e]||(i[e]=[]),i[e].push(t)}e=this._removeDicComments(e);for(var n=e.split("\n"),i={},r=1,s=n.length;s>r;r++){var o=n[r],a=o.split("/",2),l=a[0];if(a.length>1){var c=this.parseRuleCodes(a[1]);"NEEDAFFIX"in this.flags&&-1!=c.indexOf(this.flags.NEEDAFFIX)||t(l,c);for(var u=0,d=c.length;d>u;u++){var h=c[u],f=this.rules[h];if(f)for(var p=this._applyRule(l,f),m=0,g=p.length;g>m;m++){var v=p[m];if(t(v,[]),f.combineable)for(var b=u+1;d>b;b++){var y=c[b],C=this.rules[y];if(C&&C.combineable&&f.type!=C.type)for(var x=this._applyRule(v,C),_=0,w=x.length;w>_;_++){var S=x[_];t(S,[])}}}h in this.compoundRuleCodes&&this.compoundRuleCodes[h].push(l)}}else t(l.trim(),[])}return i},_removeDicComments:function(e){return e=e.replace(/^\t.*$/gm,"")},parseRuleCodes:function(e){if(!e)return[];if(!("FLAG"in this.flags))return e.split("");if("long"===this.flags.FLAG){for(var t=[],n=0,i=e.length;i>n;n+=2)t.push(e.substr(n,2));return t}return"num"===this.flags.FLAG?textCode.split(","):void 0},_applyRule:function(e,t){for(var n=t.entries,i=[],r=0,s=n.length;s>r;r++){var o=n[r];if(!o.match||e.match(o.match)){var a=e;if(o.remove&&(a=a.replace(o.remove,"")),"SFX"===t.type?a+=o.add:a=o.add+a,i.push(a),"continuationClasses"in o)for(var l=0,c=o.continuationClasses.length;c>l;l++){var u=this.rules[o.continuationClasses[l]];u&&(i=i.concat(this._applyRule(a,u)))}}}return i},check:function(e){var t=e.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(t))return!0;if(t.toUpperCase()===t){var n=t[0]+t.substring(1).toLowerCase();if(this.hasFlag(n,"KEEPCASE"))return!1;if(this.checkExact(n))return!0}var i=t.toLowerCase();if(i!==t){if(this.hasFlag(i,"KEEPCASE"))return!1;if(this.checkExact(i))return!0}return!1},checkExact:function(e){var t=this.dictionaryTable[e];if("undefined"==typeof t){if("COMPOUNDMIN"in this.flags&&e.length>=this.flags.COMPOUNDMIN)for(var n=0,i=this.compoundRules.length;i>n;n++)if(e.match(this.compoundRules[n]))return!0;return!1}for(var n=0,i=t.length;i>n;n++)if(!this.hasFlag(e,"ONLYINCOMPOUND",t[n]))return!0;return!1},hasFlag:function(e,t,n){if(t in this.flags){if("undefined"==typeof n)var n=Array.prototype.concat.apply([],this.dictionaryTable[e]);if(n&&-1!==n.indexOf(this.flags[t]))return!0}return!1},alphabet:"",suggest:function(e,t){function n(e){for(var t=[],n=0,i=e.length;i>n;n++){for(var r=e[n],s=[],o=0,a=r.length+1;a>o;o++)s.push([r.substring(0,o),r.substring(o,r.length)]);for(var l=[],o=0,a=s.length;a>o;o++){var u=s[o];u[1]&&l.push(u[0]+u[1].substring(1))}for(var d=[],o=0,a=s.length;a>o;o++){var u=s[o];u[1].length>1&&d.push(u[0]+u[1][1]+u[1][0]+u[1].substring(2))}for(var h=[],o=0,a=s.length;a>o;o++){var u=s[o];if(u[1])for(var f=0,p=c.alphabet.length;p>f;f++)h.push(u[0]+c.alphabet[f]+u[1].substring(1))}for(var m=[],o=0,a=s.length;a>o;o++){var u=s[o];if(u[1])for(var f=0,p=c.alphabet.length;p>f;f++)h.push(u[0]+c.alphabet[f]+u[1])}t=t.concat(l),t=t.concat(d),t=t.concat(h),t=t.concat(m)}return t}function i(e){for(var t=[],n=0;n<e.length;n++)c.check(e[n])&&t.push(e[n]);return t}function r(e){function r(e,t){return e[1]<t[1]?-1:1}for(var s=n([e]),o=n(s),a=i(s).concat(i(o)),l={},u=0,d=a.length;d>u;u++)a[u]in l?l[a[u]]+=1:l[a[u]]=1;var h=[];for(var u in l)h.push([u,l[u]]);h.sort(r).reverse();for(var f=[],u=0,d=Math.min(t,h.length);d>u;u++)c.hasFlag(h[u][0],"NOSUGGEST")||f.push(h[u][0]);return f}if(t||(t=5),this.check(e))return[];for(var s=0,o=this.replacementTable.length;o>s;s++){var a=this.replacementTable[s];if(-1!==e.indexOf(a[0])){var l=e.replace(a[0],a[1]);if(this.check(l))return[l]}}var c=this;return c.alphabet="abcdefghijklmnopqrstuvwxyz",r(e)}},r("undefined"!=typeof s?s:window.Typo)}).call(e,void 0,void 0,void 0,void 0,function(e){t.exports=e})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,n,i){!function(r){"object"==typeof i&&"object"==typeof n?r(t("../../lib/codemirror")):"function"==typeof e&&e.amd?e(["../../lib/codemirror"],r):r(CodeMirror)}(function(e){"use strict";function t(e){var t=e.getWrapperElement();e.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:t.style.width,height:t.style.height},t.style.width="",t.style.height="auto",t.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",e.refresh()}function n(e){var t=e.getWrapperElement();t.className=t.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var n=e.state.fullScreenRestore;t.style.width=n.width,t.style.height=n.height,window.scrollTo(n.scrollLeft,n.scrollTop),e.refresh()}e.defineOption("fullScreen",!1,function(i,r,s){s==e.Init&&(s=!1),!s!=!r&&(r?t(i):n(i))})})},{"../../lib/codemirror":7}],4:[function(t,n,i){!function(r){"object"==typeof i&&"object"==typeof n?r(t("../../lib/codemirror")):"function"==typeof e&&e.amd?e(["../../lib/codemirror"],r):r(CodeMirror)}(function(e){function t(e){e.state.placeholder&&(e.state.placeholder.parentNode.removeChild(e.state.placeholder),e.state.placeholder=null);
}function n(e){t(e);var n=e.state.placeholder=document.createElement("pre");n.style.cssText="height: 0; overflow: visible",n.className="CodeMirror-placeholder";var i=e.getOption("placeholder");"string"==typeof i&&(i=document.createTextNode(i)),n.appendChild(i),e.display.lineSpace.insertBefore(n,e.display.lineSpace.firstChild)}function i(e){s(e)&&n(e)}function r(e){var i=e.getWrapperElement(),r=s(e);i.className=i.className.replace(" CodeMirror-empty","")+(r?" CodeMirror-empty":""),r?n(e):t(e)}function s(e){return 1===e.lineCount()&&""===e.getLine(0)}e.defineOption("placeholder","",function(n,s,o){var a=o&&o!=e.Init;if(s&&!a)n.on("blur",i),n.on("change",r),r(n);else if(!s&&a){n.off("blur",i),n.off("change",r),t(n);var l=n.getWrapperElement();l.className=l.className.replace(" CodeMirror-empty","")}s&&!n.hasFocus()&&i(n)})})},{"../../lib/codemirror":7}],5:[function(t,n,i){!function(r){"object"==typeof i&&"object"==typeof n?r(t("../../lib/codemirror")):"function"==typeof e&&e.amd?e(["../../lib/codemirror"],r):r(CodeMirror)}(function(e){"use strict";var t=/^(\s*)(>[> ]*|[*+-]\s|(\d+)([.)]))(\s*)/,n=/^(\s*)(>[> ]*|[*+-]|(\d+)[.)])(\s*)$/,i=/[*+-]\s/;e.commands.newlineAndIndentContinueMarkdownList=function(r){if(r.getOption("disableInput"))return e.Pass;for(var s=r.listSelections(),o=[],a=0;a<s.length;a++){var l=s[a].head,c=r.getStateAfter(l.line),u=c.list!==!1,d=0!==c.quote,h=r.getLine(l.line),f=t.exec(h);if(!s[a].empty()||!u&&!d||!f)return void r.execCommand("newlineAndIndent");if(n.test(h))r.replaceRange("",{line:l.line,ch:0},{line:l.line,ch:l.ch+1}),o[a]="\n";else{var p=f[1],m=f[5],g=i.test(f[2])||f[2].indexOf(">")>=0?f[2]:parseInt(f[3],10)+1+f[4];o[a]="\n"+p+g+m}}r.replaceSelections(o)}})},{"../../lib/codemirror":7}],6:[function(t,n,i){!function(r){"object"==typeof i&&"object"==typeof n?r(t("../../lib/codemirror")):"function"==typeof e&&e.amd?e(["../../lib/codemirror"],r):r(CodeMirror)}(function(e){"use strict";e.overlayMode=function(t,n,i){return{startState:function(){return{base:e.startState(t),overlay:e.startState(n),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(i){return{base:e.copyState(t,i.base),overlay:e.copyState(n,i.overlay),basePos:i.basePos,baseCur:null,overlayPos:i.overlayPos,overlayCur:null}},token:function(e,r){return(e!=r.streamSeen||Math.min(r.basePos,r.overlayPos)<e.start)&&(r.streamSeen=e,r.basePos=r.overlayPos=e.start),e.start==r.basePos&&(r.baseCur=t.token(e,r.base),r.basePos=e.pos),e.start==r.overlayPos&&(e.pos=e.start,r.overlayCur=n.token(e,r.overlay),r.overlayPos=e.pos),e.pos=Math.min(r.basePos,r.overlayPos),null==r.overlayCur?r.baseCur:null!=r.baseCur&&r.overlay.combineTokens||i&&null==r.overlay.combineTokens?r.baseCur+" "+r.overlayCur:r.overlayCur},indent:t.indent&&function(e,n){return t.indent(e.base,n)},electricChars:t.electricChars,innerMode:function(e){return{state:e.base,mode:t}},blankLine:function(e){t.blankLine&&t.blankLine(e.base),n.blankLine&&n.blankLine(e.overlay)}}}})},{"../../lib/codemirror":7}],7:[function(t,n,i){!function(t){if("object"==typeof i&&"object"==typeof n)n.exports=t();else{if("function"==typeof e&&e.amd)return e([],t);this.CodeMirror=t()}}(function(){"use strict";function e(n,i){if(!(this instanceof e))return new e(n,i);this.options=i=i?Br(i):{},Br(Js,i,!1),f(i);var r=i.value;"string"==typeof r&&(r=new So(r,i.mode,null,i.lineSeparator)),this.doc=r;var s=new e.inputStyles[i.inputStyle](this),o=this.display=new t(n,r,s);o.wrapper.CodeMirror=this,c(this),a(this),i.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),i.autofocus&&!Ns&&o.input.focus(),v(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Ar,keySeq:null,specialChars:null};var l=this;ys&&11>Cs&&setTimeout(function(){l.display.input.reset(!0)},20),Ut(this),Yr(),xt(this),this.curOp.forceUpdate=!0,Zi(this,r),i.autofocus&&!Ns||l.hasFocus()?setTimeout(Wr(bn,this),20):yn(this);for(var u in eo)eo.hasOwnProperty(u)&&eo[u](this,i[u],to);_(this),i.finishInit&&i.finishInit(this);for(var d=0;d<so.length;++d)so[d](this);wt(this),xs&&i.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function t(e,t,n){var i=this;this.input=n,i.scrollbarFiller=Ur("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=Ur("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=Ur("div",null,"CodeMirror-code"),i.selectionDiv=Ur("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=Ur("div",null,"CodeMirror-cursors"),i.measure=Ur("div",null,"CodeMirror-measure"),i.lineMeasure=Ur("div",null,"CodeMirror-measure"),i.lineSpace=Ur("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none"),i.mover=Ur("div",[Ur("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative"),i.sizer=Ur("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=Ur("div",null,null,"position: absolute; height: "+Po+"px; width: 1px;"),i.gutters=Ur("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=Ur("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=Ur("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),ys&&8>Cs&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),xs||gs&&Ns||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,n.init(i)}function n(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),i(t)}function i(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,Fe(e,100),e.state.modeGen++,e.curOp&&Rt(e)}function r(e){e.options.lineWrapping?(Qo(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Zo(e.display.wrapper,"CodeMirror-wrap"),h(e)),o(e),Rt(e),lt(e),setTimeout(function(){b(e)},100)}function s(e){var t=yt(e.display),n=e.options.lineWrapping,i=n&&Math.max(5,e.display.scroller.clientWidth/Ct(e.display)-3);return function(r){if(wi(e.doc,r))return 0;var s=0;if(r.widgets)for(var o=0;o<r.widgets.length;o++)r.widgets[o].height&&(s+=r.widgets[o].height);return n?s+(Math.ceil(r.text.length/i)||1)*t:s+t}}function o(e){var t=e.doc,n=s(e);t.iter(function(e){var t=n(e);t!=e.height&&tr(e,t)})}function a(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),lt(e)}function l(e){c(e),Rt(e),setTimeout(function(){x(e)},20)}function c(e){var t=e.display.gutters,n=e.options.gutters;qr(t);for(var i=0;i<n.length;++i){var r=n[i],s=t.appendChild(Ur("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(e.display.lineGutter=s,s.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=i?"":"none",u(e)}function u(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function d(e){if(0==e.height)return 0;for(var t,n=e.text.length,i=e;t=gi(i);){var r=t.find(0,!0);i=r.from.line,n+=r.from.ch-r.to.ch}for(i=e;t=vi(i);){var r=t.find(0,!0);n-=i.text.length-r.from.ch,i=r.to.line,n+=i.text.length-r.to.ch}return n}function h(e){var t=e.display,n=e.doc;t.maxLine=Qi(n,n.first),t.maxLineLength=d(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=d(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function f(e){var t=Or(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function p(e){var t=e.display,n=t.gutters.offsetWidth,i=Math.round(e.doc.height+Ge(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+Ve(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function m(e,t,n){this.cm=n;var i=this.vert=Ur("div",[Ur("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=Ur("div",[Ur("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(i),e(r),Mo(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),Mo(r,"scroll",function(){r.clientWidth&&t(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,ys&&8>Cs&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function g(){}function v(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&Zo(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),Mo(e,"mousedown",function(){t.state.focused&&setTimeout(function(){t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,n){"horizontal"==n?on(t,e):sn(t,e)},t),t.display.scrollbars.addClass&&Qo(t.display.wrapper,t.display.scrollbars.addClass)}function b(e,t){t||(t=p(e));var n=e.display.barWidth,i=e.display.barHeight;y(e,t);for(var r=0;4>r&&n!=e.display.barWidth||i!=e.display.barHeight;r++)n!=e.display.barWidth&&e.options.lineWrapping&&A(e),y(e,p(e)),n=e.display.barWidth,i=e.display.barHeight}function y(e,t){var n=e.display,i=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function C(e,t,n){var i=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;i=Math.floor(i-qe(e));var r=n&&null!=n.bottom?n.bottom:i+e.wrapper.clientHeight,s=ir(t,i),o=ir(t,r);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;s>a?(s=a,o=ir(t,rr(Qi(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=o&&(s=ir(t,rr(Qi(t,l))-e.wrapper.clientHeight),o=l)}return{from:s,to:Math.max(o,s+1)}}function x(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var i=S(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,s=i+"px",o=0;o<n.length;o++)if(!n[o].hidden){e.options.fixedGutter&&n[o].gutter&&(n[o].gutter.style.left=s);var a=n[o].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=s}e.options.fixedGutter&&(t.gutters.style.left=i+r+"px")}}function _(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=w(e.options,t.first+t.size-1),i=e.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(Ur("div",[Ur("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),s=r.firstChild.offsetWidth,o=r.offsetWidth-s;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(s,i.lineGutter.offsetWidth-o)+1,i.lineNumWidth=i.lineNumInnerWidth+o,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",u(e),!0}return!1}function w(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function S(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function L(e,t,n){var i=e.display;this.viewport=t,this.visible=C(i,e.doc,t),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Ke(e),this.force=n,this.dims=D(e),this.events=[]}function k(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Ve(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Ve(e)+"px",t.scrollbarsClipped=!0)}function T(e,t){var n=e.display,i=e.doc;if(t.editorIsHidden)return Bt(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==jt(e))return!1;_(e)&&(Bt(e),t.dims=D(e));var r=i.first+i.size,s=Math.max(t.visible.from-e.options.viewportMargin,i.first),o=Math.min(r,t.visible.to+e.options.viewportMargin);n.viewFrom<s&&s-n.viewFrom<20&&(s=Math.max(i.first,n.viewFrom)),n.viewTo>o&&n.viewTo-o<20&&(o=Math.min(r,n.viewTo)),Rs&&(s=xi(e.doc,s),o=_i(e.doc,o));var a=s!=n.viewFrom||o!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;zt(e,s,o),n.viewOffset=rr(Qi(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=jt(e);if(!a&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=$r();return l>4&&(n.lineDiv.style.display="none"),O(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,c&&$r()!=c&&c.offsetHeight&&c.focus(),qr(n.cursorDiv),qr(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Fe(e,400)),n.updateLineNumbers=null,!0}function E(e,t){for(var n=t.viewport,i=!0;(i&&e.options.lineWrapping&&t.oldDisplayWidth!=Ke(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Ge(e.display)-Xe(e),n.top)}),t.visible=C(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&T(e,t);i=!1){A(e);var r=p(e);Pe(e),M(e,r),b(e,r)}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function N(e,t){var n=new L(e,t);if(T(e,n)){A(e),E(e,n);var i=p(e);Pe(e),M(e,i),b(e,i),n.finish()}}function M(e,t){e.display.sizer.style.minHeight=t.docHeight+"px";var n=t.docHeight+e.display.barHeight;e.display.heightForcer.style.top=n+"px",e.display.gutters.style.height=Math.max(n+Ve(e),t.clientHeight)+"px"}function A(e){for(var t=e.display,n=t.lineDiv.offsetTop,i=0;i<t.view.length;i++){var r,s=t.view[i];if(!s.hidden){if(ys&&8>Cs){var o=s.node.offsetTop+s.node.offsetHeight;r=o-n,n=o}else{var a=s.node.getBoundingClientRect();r=a.bottom-a.top}var l=s.line.height-r;if(2>r&&(r=yt(t)),(l>.001||-.001>l)&&(tr(s.line,r),I(s.line),s.rest))for(var c=0;c<s.rest.length;c++)I(s.rest[c])}}}function I(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function D(e){for(var t=e.display,n={},i={},r=t.gutters.clientLeft,s=t.gutters.firstChild,o=0;s;s=s.nextSibling,++o)n[e.options.gutters[o]]=s.offsetLeft+s.clientLeft+r,i[e.options.gutters[o]]=s.clientWidth;return{fixedPos:S(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function O(e,t,n){function i(t){var n=t.nextSibling;return xs&&Ms&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var r=e.display,s=e.options.lineNumbers,o=r.lineDiv,a=o.firstChild,l=r.view,c=r.viewFrom,u=0;u<l.length;u++){var d=l[u];if(d.hidden);else if(d.node&&d.node.parentNode==o){for(;a!=d.node;)a=i(a);var h=s&&null!=t&&c>=t&&d.lineNumber;d.changes&&(Or(d.changes,"gutter")>-1&&(h=!1),P(e,d,c,n)),h&&(qr(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(w(e.options,c)))),a=d.node.nextSibling}else{var f=U(e,d,c,n);o.insertBefore(f,a)}c+=d.size}for(;a;)a=i(a)}function P(e,t,n,i){for(var r=0;r<t.changes.length;r++){var s=t.changes[r];"text"==s?W(e,t):"gutter"==s?z(e,t,n,i):"class"==s?F(t):"widget"==s&&j(e,t,i)}t.changes=null}function R(e){return e.node==e.text&&(e.node=Ur("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),ys&&8>Cs&&(e.node.style.zIndex=2)),e.node}function H(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=R(e);e.background=n.insertBefore(Ur("div",null,t),n.firstChild)}}function B(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Wi(e,t)}function W(e,t){var n=t.text.className,i=B(e,t);t.text==t.node&&(t.node=i.pre),t.text.parentNode.replaceChild(i.pre,t.text),t.text=i.pre,i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,F(t)):n&&(t.text.className=n)}function F(e){H(e),e.line.wrapClass?R(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function z(e,t,n,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var r=R(t);t.gutterBackground=Ur("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),r.insertBefore(t.gutterBackground,t.text)}var s=t.line.gutterMarkers;if(e.options.lineNumbers||s){var r=R(t),o=t.gutter=Ur("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(o),r.insertBefore(o,t.text),t.line.gutterClass&&(o.className+=" "+t.line.gutterClass),!e.options.lineNumbers||s&&s["CodeMirror-linenumbers"]||(t.lineNumber=o.appendChild(Ur("div",w(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),s)for(var a=0;a<e.options.gutters.length;++a){var l=e.options.gutters[a],c=s.hasOwnProperty(l)&&s[l];c&&o.appendChild(Ur("div",[c],"CodeMirror-gutter-elt","left: "+i.gutterLeft[l]+"px; width: "+i.gutterWidth[l]+"px"))}}}function j(e,t,n){t.alignable&&(t.alignable=null);for(var i,r=t.node.firstChild;r;r=i){var i=r.nextSibling;"CodeMirror-linewidget"==r.className&&t.node.removeChild(r)}q(e,t,n)}function U(e,t,n,i){var r=B(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),F(t),z(e,t,n,i),q(e,t,i),t.node}function q(e,t,n){if(G(e,t.line,t,n,!0),t.rest)for(var i=0;i<t.rest.length;i++)G(e,t.rest[i],t,n,!1)}function G(e,t,n,i,r){if(t.widgets)for(var s=R(n),o=0,a=t.widgets;o<a.length;++o){var l=a[o],c=Ur("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),$(l,c,n,i),e.display.input.setUneditable(c),r&&l.above?s.insertBefore(c,n.gutter||n.text):s.appendChild(c),Lr(l,"redraw")}}function $(e,t,n,i){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var r=i.wrapperWidth;t.style.left=i.fixedPos+"px",e.coverGutter||(r-=i.gutterTotalWidth,t.style.paddingLeft=i.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-i.gutterTotalWidth+"px"))}function V(e){return Hs(e.line,e.ch)}function K(e,t){return Bs(e,t)<0?t:e}function X(e,t){return Bs(e,t)<0?e:t}function Y(e){e.state.focused||(e.display.input.focus(),bn(e))}function Z(e){return e.options.readOnly||e.doc.cantEdit}function Q(e,t,n,i,r){var s=e.doc;e.display.shift=!1,i||(i=s.sel);var o=e.state.pasteIncoming||"paste"==r,a=s.splitLines(t),l=null;if(o&&i.ranges.length>1)if(Ws&&Ws.join("\n")==t){if(i.ranges.length%Ws.length==0){l=[];for(var c=0;c<Ws.length;c++)l.push(s.splitLines(Ws[c]))}}else a.length==i.ranges.length&&(l=Pr(a,function(e){return[e]}));for(var c=i.ranges.length-1;c>=0;c--){var u=i.ranges[c],d=u.from(),h=u.to();u.empty()&&(n&&n>0?d=Hs(d.line,d.ch-n):e.state.overwrite&&!o&&(h=Hs(h.line,Math.min(Qi(s,h.line).text.length,h.ch+Dr(a).length))));var f=e.curOp.updateInput,p={from:d,to:h,text:l?l[c%l.length]:a,origin:r||(o?"paste":e.state.cutIncoming?"cut":"+input")};Tn(e.doc,p),Lr(e,"inputRead",e,p)}t&&!o&&ee(e,t),Wn(e),e.curOp.updateInput=f,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function J(e,t){var n=e.clipboardData&&e.clipboardData.getData("text/plain");return n?(e.preventDefault(),Z(t)||t.options.disableInput||Mt(t,function(){Q(t,n,0,null,"paste")}),!0):void 0}function ee(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(!(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line)){var s=e.getModeAt(r.head),o=!1;if(s.electricChars){for(var a=0;a<s.electricChars.length;a++)if(t.indexOf(s.electricChars.charAt(a))>-1){o=zn(e,r.head.line,"smart");break}}else s.electricInput&&s.electricInput.test(Qi(e.doc,r.head.line).text.slice(0,r.head.ch))&&(o=zn(e,r.head.line,"smart"));o&&Lr(e,"electricInput",e,r.head.line)}}}function te(e){for(var t=[],n=[],i=0;i<e.doc.sel.ranges.length;i++){var r=e.doc.sel.ranges[i].head.line,s={anchor:Hs(r,0),head:Hs(r+1,0)};n.push(s),t.push(e.getRange(s.anchor,s.head))}return{text:t,ranges:n}}function ne(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function ie(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Ar,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function re(){var e=Ur("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=Ur("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return xs?e.style.width="1000px":e.setAttribute("wrap","off"),Es&&(e.style.border="1px solid black"),ne(e),t}function se(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ar,this.gracePeriod=!1}function oe(e,t){var n=et(e,t.line);if(!n||n.hidden)return null;var i=Qi(e.doc,t.line),r=Ze(n,i,t.line),s=sr(i),o="left";if(s){var a=us(s,t.ch);o=a%2?"right":"left"}var l=it(r.map,t.ch,o);return l.offset="right"==l.collapse?l.end:l.start,l}function ae(e,t){return t&&(e.bad=!0),e}function le(e,t,n){var i;if(t==e.display.lineDiv){if(i=e.display.lineDiv.childNodes[n],!i)return ae(e.clipPos(Hs(e.display.viewTo-1)),!0);t=null,n=0}else for(i=t;;i=i.parentNode){if(!i||i==e.display.lineDiv)return null;if(i.parentNode&&i.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var s=e.display.view[r];if(s.node==i)return ce(s,t,n)}}function ce(e,t,n){function i(t,n,i){for(var r=-1;r<(u?u.length:0);r++)for(var s=0>r?c.map:u[r],o=0;o<s.length;o+=3){var a=s[o+2];if(a==t||a==n){var l=nr(0>r?e.line:e.rest[r]),d=s[o]+i;return(0>i||a!=t)&&(d=s[o+(i?1:0)]),Hs(l,d)}}}var r=e.text.firstChild,s=!1;if(!t||!Ko(r,t))return ae(Hs(nr(e.line),0),!0);if(t==r&&(s=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?Dr(e.rest):e.line;return ae(Hs(nr(o),o.text.length),s)}var a=3==t.nodeType?t:null,l=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));l.parentNode!=r;)l=l.parentNode;var c=e.measure,u=c.maps,d=i(a,l,n);if(d)return ae(d,s);for(var h=l.nextSibling,f=a?a.nodeValue.length-n:0;h;h=h.nextSibling){if(d=i(h,h.firstChild,0))return ae(Hs(d.line,d.ch-f),s);f+=h.textContent.length}for(var p=l.previousSibling,f=n;p;p=p.previousSibling){if(d=i(p,p.firstChild,-1))return ae(Hs(d.line,d.ch+f),s);f+=h.textContent.length}}function ue(e,t,n,i,r){function s(e){return function(t){return t.id==e}}function o(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return""==n&&(n=t.textContent.replace(/\u200b/g,"")),void(a+=n);var u,d=t.getAttribute("cm-marker");if(d){var h=e.findMarks(Hs(i,0),Hs(r+1,0),s(+d));return void(h.length&&(u=h[0].find())&&(a+=Ji(e.doc,u.from,u.to).join(c)))}if("false"==t.getAttribute("contenteditable"))return;for(var f=0;f<t.childNodes.length;f++)o(t.childNodes[f]);/^(pre|div|p)$/i.test(t.nodeName)&&(l=!0)}else if(3==t.nodeType){var p=t.nodeValue;if(!p)return;l&&(a+=c,l=!1),a+=p}}for(var a="",l=!1,c=e.doc.lineSeparator();o(t),t!=n;)t=t.nextSibling;return a}function de(e,t){this.ranges=e,this.primIndex=t}function he(e,t){this.anchor=e,this.head=t}function fe(e,t){var n=e[t];e.sort(function(e,t){return Bs(e.from(),t.from())}),t=Or(e,n);for(var i=1;i<e.length;i++){var r=e[i],s=e[i-1];if(Bs(s.to(),r.from())>=0){var o=X(s.from(),r.from()),a=K(s.to(),r.to()),l=s.empty()?r.from()==r.head:s.from()==s.head;t>=i&&--t,e.splice(--i,2,new he(l?a:o,l?o:a))}}return new de(e,t)}function pe(e,t){return new de([new he(e,t||e)],0)}function me(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ge(e,t){if(t.line<e.first)return Hs(e.first,0);var n=e.first+e.size-1;return t.line>n?Hs(n,Qi(e,n).text.length):ve(t,Qi(e,t.line).text.length)}function ve(e,t){var n=e.ch;return null==n||n>t?Hs(e.line,t):0>n?Hs(e.line,0):e}function be(e,t){return t>=e.first&&t<e.first+e.size}function ye(e,t){for(var n=[],i=0;i<t.length;i++)n[i]=ge(e,t[i]);return n}function Ce(e,t,n,i){if(e.cm&&e.cm.display.shift||e.extend){var r=t.anchor;if(i){var s=Bs(n,r)<0;s!=Bs(i,r)<0?(r=n,n=i):s!=Bs(n,i)<0&&(n=i)}return new he(r,n)}return new he(i||n,n)}function xe(e,t,n,i){Te(e,new de([Ce(e,e.sel.primary(),t,n)],0),i)}function _e(e,t,n){for(var i=[],r=0;r<e.sel.ranges.length;r++)i[r]=Ce(e,e.sel.ranges[r],t[r],null);var s=fe(i,e.sel.primIndex);Te(e,s,n)}function we(e,t,n,i){var r=e.sel.ranges.slice(0);r[t]=n,Te(e,fe(r,e.sel.primIndex),i)}function Se(e,t,n,i){Te(e,pe(t,n),i)}function Le(e,t){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new he(ge(e,t[n].anchor),ge(e,t[n].head))}};return Do(e,"beforeSelectionChange",e,n),e.cm&&Do(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?fe(n.ranges,n.ranges.length-1):t}function ke(e,t,n){var i=e.history.done,r=Dr(i);r&&r.ranges?(i[i.length-1]=t,Ee(e,t,n)):Te(e,t,n)}function Te(e,t,n){Ee(e,t,n),hr(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Ee(e,t,n){(Nr(e,"beforeSelectionChange")||e.cm&&Nr(e.cm,"beforeSelectionChange"))&&(t=Le(e,t));var i=n&&n.bias||(Bs(t.primary().head,e.sel.primary().head)<0?-1:1);Ne(e,Ae(e,t,i,!0)),n&&n.scroll===!1||!e.cm||Wn(e.cm)}function Ne(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Er(e.cm)),Lr(e,"cursorActivity",e))}function Me(e){Ne(e,Ae(e,e.sel,null,!1),Ho)}function Ae(e,t,n,i){for(var r,s=0;s<t.ranges.length;s++){var o=t.ranges[s],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[s],l=De(e,o.anchor,a&&a.anchor,n,i),c=De(e,o.head,a&&a.head,n,i);(r||l!=o.anchor||c!=o.head)&&(r||(r=t.ranges.slice(0,s)),r[s]=new he(l,c))}return r?fe(r,t.primIndex):t}function Ie(e,t,n,i,r){var s=Qi(e,t.line);if(s.markedSpans)for(var o=0;o<s.markedSpans.length;++o){var a=s.markedSpans[o],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(l.inclusiveRight?a.to>=t.ch:a.to>t.ch))){if(r&&(Do(l,"beforeCursorEnter"),l.explicitlyCleared)){if(s.markedSpans){--o;continue}break}if(!l.atomic)continue;if(n){var c,u=l.find(0>i?1:-1);if((0>i?l.inclusiveRight:l.inclusiveLeft)&&(u=Oe(e,u,-i,s)),u&&u.line==t.line&&(c=Bs(u,n))&&(0>i?0>c:c>0))return Ie(e,u,t,i,r)}var d=l.find(0>i?-1:1);return(0>i?l.inclusiveLeft:l.inclusiveRight)&&(d=Oe(e,d,i,s)),d?Ie(e,d,t,i,r):null}}return t}function De(e,t,n,i,r){var s=i||1,o=Ie(e,t,n,s,r)||!r&&Ie(e,t,n,s,!0)||Ie(e,t,n,-s,r)||!r&&Ie(e,t,n,-s,!0);return o?o:(e.cantEdit=!0,Hs(e.first,0))}function Oe(e,t,n,i){return 0>n&&0==t.ch?t.line>e.first?ge(e,Hs(t.line-1)):null:n>0&&t.ch==(i||Qi(e,t.line)).text.length?t.line<e.first+e.size-1?Hs(t.line+1,0):null:new Hs(t.line,t.ch+n)}function Pe(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Re(e,t){for(var n=e.doc,i={},r=i.cursors=document.createDocumentFragment(),s=i.selection=document.createDocumentFragment(),o=0;o<n.sel.ranges.length;o++)if(t!==!1||o!=n.sel.primIndex){var a=n.sel.ranges[o],l=a.empty();(l||e.options.showCursorWhenSelecting)&&He(e,a.head,r),l||Be(e,a,s)}return i}function He(e,t,n){var i=pt(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),r=n.appendChild(Ur("div"," ","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var s=n.appendChild(Ur("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));s.style.display="",s.style.left=i.other.left+"px",s.style.top=i.other.top+"px",s.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Be(e,t,n){function i(e,t,n,i){0>t&&(t=0),t=Math.round(t),i=Math.round(i),a.appendChild(Ur("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?u-e:n)+"px; height: "+(i-t)+"px"))}function r(t,n,r){function s(n,i){return ft(e,Hs(t,n),"div",d,i)}var a,l,d=Qi(o,t),h=d.text.length;return ts(sr(d),n||0,null==r?h:r,function(e,t,o){var d,f,p,m=s(e,"left");if(e==t)d=m,f=p=m.left;else{if(d=s(t-1,"right"),"rtl"==o){var g=m;m=d,d=g}f=m.left,p=d.right}null==n&&0==e&&(f=c),d.top-m.top>3&&(i(f,m.top,null,m.bottom),f=c,m.bottom<d.top&&i(f,m.bottom,null,d.top)),null==r&&t==h&&(p=u),(!a||m.top<a.top||m.top==a.top&&m.left<a.left)&&(a=m),(!l||d.bottom>l.bottom||d.bottom==l.bottom&&d.right>l.right)&&(l=d),c+1>f&&(f=c),i(f,d.top,p-f,d.bottom)}),{start:a,end:l}}var s=e.display,o=e.doc,a=document.createDocumentFragment(),l=$e(e.display),c=l.left,u=Math.max(s.sizerWidth,Ke(e)-s.sizer.offsetLeft)-l.right,d=t.from(),h=t.to();if(d.line==h.line)r(d.line,d.ch,h.ch);else{var f=Qi(o,d.line),p=Qi(o,h.line),m=yi(f)==yi(p),g=r(d.line,d.ch,m?f.text.length+1:null).end,v=r(h.line,m?0:null,h.ch).start;m&&(g.top<v.top-2?(i(g.right,g.top,null,g.bottom),i(c,v.top,v.left,v.bottom)):i(g.right,g.top,v.left-g.right,g.bottom)),g.bottom<v.top&&i(c,g.bottom,null,v.top)}n.appendChild(a)}function We(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Fe(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,Wr(ze,e))}function ze(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,i=ao(t.mode,Ue(e,t.frontier)),r=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(s){if(t.frontier>=e.display.viewFrom){var o=s.styles,a=s.text.length>e.options.maxHighlightLength,l=Pi(e,s,a?ao(t.mode,i):i,!0);s.styles=l.styles;var c=s.styleClasses,u=l.classes;u?s.styleClasses=u:c&&(s.styleClasses=null);for(var d=!o||o.length!=s.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),h=0;!d&&h<o.length;++h)d=o[h]!=s.styles[h];d&&r.push(t.frontier),s.stateAfter=a?i:ao(t.mode,i)}else s.text.length<=e.options.maxHighlightLength&&Hi(e,s.text,i),s.stateAfter=t.frontier%5==0?ao(t.mode,i):null;return++t.frontier,+new Date>n?(Fe(e,e.options.workDelay),!0):void 0}),r.length&&Mt(e,function(){for(var t=0;t<r.length;t++)Ht(e,r[t],"text")})}}function je(e,t,n){for(var i,r,s=e.doc,o=n?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>o;--a){
if(a<=s.first)return s.first;var l=Qi(s,a-1);if(l.stateAfter&&(!n||a<=s.frontier))return a;var c=Fo(l.text,null,e.options.tabSize);(null==r||i>c)&&(r=a-1,i=c)}return r}function Ue(e,t,n){var i=e.doc,r=e.display;if(!i.mode.startState)return!0;var s=je(e,t,n),o=s>i.first&&Qi(i,s-1).stateAfter;return o=o?ao(i.mode,o):lo(i.mode),i.iter(s,t,function(n){Hi(e,n.text,o);var a=s==t-1||s%5==0||s>=r.viewFrom&&s<r.viewTo;n.stateAfter=a?ao(i.mode,o):null,++s}),n&&(i.frontier=s),o}function qe(e){return e.lineSpace.offsetTop}function Ge(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function $e(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Gr(e.measure,Ur("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(e.cachedPaddingH=i),i}function Ve(e){return Po-e.display.nativeBarWidth}function Ke(e){return e.display.scroller.clientWidth-Ve(e)-e.display.barWidth}function Xe(e){return e.display.scroller.clientHeight-Ve(e)-e.display.barHeight}function Ye(e,t,n){var i=e.options.lineWrapping,r=i&&Ke(e);if(!t.measure.heights||i&&t.measure.width!=r){var s=t.measure.heights=[];if(i){t.measure.width=r;for(var o=t.text.firstChild.getClientRects(),a=0;a<o.length-1;a++){var l=o[a],c=o[a+1];Math.abs(l.bottom-c.bottom)>2&&s.push((l.bottom+c.top)/2-n.top)}}s.push(n.bottom-n.top)}}function Ze(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var i=0;i<e.rest.length;i++)if(e.rest[i]==t)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var i=0;i<e.rest.length;i++)if(nr(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Qe(e,t){t=yi(t);var n=nr(t),i=e.display.externalMeasured=new Ot(e.doc,t,n);i.lineN=n;var r=i.built=Wi(e,i);return i.text=r.pre,Gr(e.display.lineMeasure,r.pre),i}function Je(e,t,n,i){return nt(e,tt(e,t),n,i)}function et(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Wt(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function tt(e,t){var n=nr(t),i=et(e,n);i&&!i.text?i=null:i&&i.changes&&(P(e,i,n,D(e)),e.curOp.forceUpdate=!0),i||(i=Qe(e,t));var r=Ze(i,t,n);return{line:t,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function nt(e,t,n,i,r){t.before&&(n=-1);var s,o=n+(i||"");return t.cache.hasOwnProperty(o)?s=t.cache[o]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Ye(e,t.view,t.rect),t.hasHeights=!0),s=rt(e,t,n,i),s.bogus||(t.cache[o]=s)),{left:s.left,right:s.right,top:r?s.rtop:s.top,bottom:r?s.rbottom:s.bottom}}function it(e,t,n){for(var i,r,s,o,a=0;a<e.length;a+=3){var l=e[a],c=e[a+1];if(l>t?(r=0,s=1,o="left"):c>t?(r=t-l,s=r+1):(a==e.length-3||t==c&&e[a+3]>t)&&(s=c-l,r=s-1,t>=c&&(o="right")),null!=r){if(i=e[a+2],l==c&&n==(i.insertLeft?"left":"right")&&(o=n),"left"==n&&0==r)for(;a&&e[a-2]==e[a-3]&&e[a-1].insertLeft;)i=e[(a-=3)+2],o="left";if("right"==n&&r==c-l)for(;a<e.length-3&&e[a+3]==e[a+4]&&!e[a+5].insertLeft;)i=e[(a+=3)+2],o="right";break}}return{node:i,start:r,end:s,collapse:o,coverStart:l,coverEnd:c}}function rt(e,t,n,i){var r,s=it(t.map,n,i),o=s.node,a=s.start,l=s.end,c=s.collapse;if(3==o.nodeType){for(var u=0;4>u;u++){for(;a&&jr(t.line.text.charAt(s.coverStart+a));)--a;for(;s.coverStart+l<s.coverEnd&&jr(t.line.text.charAt(s.coverStart+l));)++l;if(ys&&9>Cs&&0==a&&l==s.coverEnd-s.coverStart)r=o.parentNode.getBoundingClientRect();else if(ys&&e.options.lineWrapping){var d=qo(o,a,l).getClientRects();r=d.length?d["right"==i?d.length-1:0]:Us}else r=qo(o,a,l).getBoundingClientRect()||Us;if(r.left||r.right||0==a)break;l=a,a-=1,c="right"}ys&&11>Cs&&(r=st(e.display.measure,r))}else{a>0&&(c=i="right");var d;r=e.options.lineWrapping&&(d=o.getClientRects()).length>1?d["right"==i?d.length-1:0]:o.getBoundingClientRect()}if(ys&&9>Cs&&!a&&(!r||!r.left&&!r.right)){var h=o.parentNode.getClientRects()[0];r=h?{left:h.left,right:h.left+Ct(e.display),top:h.top,bottom:h.bottom}:Us}for(var f=r.top-t.rect.top,p=r.bottom-t.rect.top,m=(f+p)/2,g=t.view.measure.heights,u=0;u<g.length-1&&!(m<g[u]);u++);var v=u?g[u-1]:0,b=g[u],y={left:("right"==c?r.right:r.left)-t.rect.left,right:("left"==c?r.left:r.right)-t.rect.left,top:v,bottom:b};return r.left||r.right||(y.bogus=!0),e.options.singleCursorHeightPerLine||(y.rtop=f,y.rbottom=p),y}function st(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!es(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*i,bottom:t.bottom*i}}function ot(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function at(e){e.display.externalMeasure=null,qr(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)ot(e.display.view[t])}function lt(e){at(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function ct(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ut(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function dt(e,t,n,i){if(t.widgets)for(var r=0;r<t.widgets.length;++r)if(t.widgets[r].above){var s=ki(t.widgets[r]);n.top+=s,n.bottom+=s}if("line"==i)return n;i||(i="local");var o=rr(t);if("local"==i?o+=qe(e.display):o-=e.display.viewOffset,"page"==i||"window"==i){var a=e.display.lineSpace.getBoundingClientRect();o+=a.top+("window"==i?0:ut());var l=a.left+("window"==i?0:ct());n.left+=l,n.right+=l}return n.top+=o,n.bottom+=o,n}function ht(e,t,n){if("div"==n)return t;var i=t.left,r=t.top;if("page"==n)i-=ct(),r-=ut();else if("local"==n||!n){var s=e.display.sizer.getBoundingClientRect();i+=s.left,r+=s.top}var o=e.display.lineSpace.getBoundingClientRect();return{left:i-o.left,top:r-o.top}}function ft(e,t,n,i,r){return i||(i=Qi(e.doc,t.line)),dt(e,i,Je(e,i,t.ch,r),n)}function pt(e,t,n,i,r,s){function o(t,o){var a=nt(e,r,t,o?"right":"left",s);return o?a.left=a.right:a.right=a.left,dt(e,i,a,n)}function a(e,t){var n=l[t],i=n.level%2;return e==ns(n)&&t&&n.level<l[t-1].level?(n=l[--t],e=is(n)-(n.level%2?0:1),i=!0):e==is(n)&&t<l.length-1&&n.level<l[t+1].level&&(n=l[++t],e=ns(n)-n.level%2,i=!1),i&&e==n.to&&e>n.from?o(e-1):o(e,i)}i=i||Qi(e.doc,t.line),r||(r=tt(e,i));var l=sr(i),c=t.ch;if(!l)return o(c);var u=us(l,c),d=a(c,u);return null!=oa&&(d.other=a(c,oa)),d}function mt(e,t){var n=0,t=ge(e.doc,t);e.options.lineWrapping||(n=Ct(e.display)*t.ch);var i=Qi(e.doc,t.line),r=rr(i)+qe(e.display);return{left:n,right:n,top:r,bottom:r+i.height}}function gt(e,t,n,i){var r=Hs(e,t);return r.xRel=i,n&&(r.outside=!0),r}function vt(e,t,n){var i=e.doc;if(n+=e.display.viewOffset,0>n)return gt(i.first,0,!0,-1);var r=ir(i,n),s=i.first+i.size-1;if(r>s)return gt(i.first+i.size-1,Qi(i,s).text.length,!0,1);0>t&&(t=0);for(var o=Qi(i,r);;){var a=bt(e,o,r,t,n),l=vi(o),c=l&&l.find(0,!0);if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;r=nr(o=c.to.line)}}function bt(e,t,n,i,r){function s(i){var r=pt(e,Hs(n,i),"line",t,c);return a=!0,o>r.bottom?r.left-l:o<r.top?r.left+l:(a=!1,r.left)}var o=r-rr(t),a=!1,l=2*e.display.wrapper.clientWidth,c=tt(e,t),u=sr(t),d=t.text.length,h=rs(t),f=ss(t),p=s(h),m=a,g=s(f),v=a;if(i>g)return gt(n,f,v,1);for(;;){if(u?f==h||f==hs(t,h,1):1>=f-h){for(var b=p>i||g-i>=i-p?h:f,y=i-(b==h?p:g);jr(t.text.charAt(b));)++b;var C=gt(n,b,b==h?m:v,-1>y?-1:y>1?1:0);return C}var x=Math.ceil(d/2),_=h+x;if(u){_=h;for(var w=0;x>w;++w)_=hs(t,_,1)}var S=s(_);S>i?(f=_,g=S,(v=a)&&(g+=1e3),d=x):(h=_,p=S,m=a,d-=x)}}function yt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Fs){Fs=Ur("pre");for(var t=0;49>t;++t)Fs.appendChild(document.createTextNode("x")),Fs.appendChild(Ur("br"));Fs.appendChild(document.createTextNode("x"))}Gr(e.measure,Fs);var n=Fs.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),qr(e.measure),n||1}function Ct(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Ur("span","xxxxxxxxxx"),n=Ur("pre",[t]);Gr(e.measure,n);var i=t.getBoundingClientRect(),r=(i.right-i.left)/10;return r>2&&(e.cachedCharWidth=r),r||10}function xt(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Gs},qs?qs.ops.push(e.curOp):e.curOp.ownsGroup=qs={ops:[e.curOp],delayedCallbacks:[]}}function _t(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var i=0;i<e.ops.length;i++){var r=e.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<t.length)}function wt(e){var t=e.curOp,n=t.ownsGroup;if(n)try{_t(n)}finally{qs=null;for(var i=0;i<n.ops.length;i++)n.ops[i].cm.curOp=null;St(n)}}function St(e){for(var t=e.ops,n=0;n<t.length;n++)Lt(t[n]);for(var n=0;n<t.length;n++)kt(t[n]);for(var n=0;n<t.length;n++)Tt(t[n]);for(var n=0;n<t.length;n++)Et(t[n]);for(var n=0;n<t.length;n++)Nt(t[n])}function Lt(e){var t=e.cm,n=t.display;k(t),e.updateMaxLine&&h(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new L(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function kt(e){e.updatedDisplay=e.mustUpdate&&T(e.cm,e.update)}function Tt(e){var t=e.cm,n=t.display;e.updatedDisplay&&A(t),e.barMeasure=p(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Je(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Ve(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Ke(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Et(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&on(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1),e.preparedSelection&&t.display.input.showSelection(e.preparedSelection),e.updatedDisplay&&M(t,e.barMeasure),(e.updatedDisplay||e.startHeight!=t.doc.height)&&b(t,e.barMeasure),e.selectionChanged&&We(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),!e.focus||e.focus!=$r()||document.hasFocus&&!document.hasFocus()||Y(e.cm)}function Nt(e){var t=e.cm,n=t.display,i=t.doc;if(e.updatedDisplay&&E(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==e.scrollTop||n.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(i.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(i.scrollTop),n.scroller.scrollTop=i.scrollTop),null==e.scrollLeft||n.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(i.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-Ke(t),e.scrollLeft)),n.scrollbars.setScrollLeft(i.scrollLeft),n.scroller.scrollLeft=i.scrollLeft,x(t)),e.scrollToPos){var r=Pn(t,ge(i,e.scrollToPos.from),ge(i,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&On(t,r)}var s=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(s)for(var a=0;a<s.length;++a)s[a].lines.length||Do(s[a],"hide");if(o)for(var a=0;a<o.length;++a)o[a].lines.length&&Do(o[a],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Do(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Mt(e,t){if(e.curOp)return t();xt(e);try{return t()}finally{wt(e)}}function At(e,t){return function(){if(e.curOp)return t.apply(e,arguments);xt(e);try{return t.apply(e,arguments)}finally{wt(e)}}}function It(e){return function(){if(this.curOp)return e.apply(this,arguments);xt(this);try{return e.apply(this,arguments)}finally{wt(this)}}}function Dt(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);xt(t);try{return e.apply(this,arguments)}finally{wt(t)}}}function Ot(e,t,n){this.line=t,this.rest=Ci(t),this.size=this.rest?nr(Dr(this.rest))-n+1:1,this.node=this.text=null,this.hidden=wi(e,t)}function Pt(e,t,n){for(var i,r=[],s=t;n>s;s=i){var o=new Ot(e.doc,Qi(e.doc,s),s);i=s+o.size,r.push(o)}return r}function Rt(e,t,n,i){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),i||(i=0);var r=e.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)Rs&&xi(e.doc,t)<r.viewTo&&Bt(e);else if(n<=r.viewFrom)Rs&&_i(e.doc,n+i)>r.viewFrom?Bt(e):(r.viewFrom+=i,r.viewTo+=i);else if(t<=r.viewFrom&&n>=r.viewTo)Bt(e);else if(t<=r.viewFrom){var s=Ft(e,n,n+i,1);s?(r.view=r.view.slice(s.index),r.viewFrom=s.lineN,r.viewTo+=i):Bt(e)}else if(n>=r.viewTo){var s=Ft(e,t,t,-1);s?(r.view=r.view.slice(0,s.index),r.viewTo=s.lineN):Bt(e)}else{var o=Ft(e,t,t,-1),a=Ft(e,n,n+i,1);o&&a?(r.view=r.view.slice(0,o.index).concat(Pt(e,o.lineN,a.lineN)).concat(r.view.slice(a.index)),r.viewTo+=i):Bt(e)}var l=r.externalMeasured;l&&(n<l.lineN?l.lineN+=i:t<l.lineN+l.size&&(r.externalMeasured=null))}function Ht(e,t,n){e.curOp.viewChanged=!0;var i=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(i.externalMeasured=null),!(t<i.viewFrom||t>=i.viewTo)){var s=i.view[Wt(e,t)];if(null!=s.node){var o=s.changes||(s.changes=[]);-1==Or(o,n)&&o.push(n)}}}function Bt(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Wt(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,0>t)return null;for(var n=e.display.view,i=0;i<n.length;i++)if(t-=n[i].size,0>t)return i}function Ft(e,t,n,i){var r,s=Wt(e,t),o=e.display.view;if(!Rs||n==e.doc.first+e.doc.size)return{index:s,lineN:n};for(var a=0,l=e.display.viewFrom;s>a;a++)l+=o[a].size;if(l!=t){if(i>0){if(s==o.length-1)return null;r=l+o[s].size-t,s++}else r=l-t;t+=r,n+=r}for(;xi(e.doc,n)!=n;){if(s==(0>i?0:o.length-1))return null;n+=i*o[s-(0>i?1:0)].size,s+=i}return{index:s,lineN:n}}function zt(e,t,n){var i=e.display,r=i.view;0==r.length||t>=i.viewTo||n<=i.viewFrom?(i.view=Pt(e,t,n),i.viewFrom=t):(i.viewFrom>t?i.view=Pt(e,t,i.viewFrom).concat(i.view):i.viewFrom<t&&(i.view=i.view.slice(Wt(e,t))),i.viewFrom=t,i.viewTo<n?i.view=i.view.concat(Pt(e,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,Wt(e,n)))),i.viewTo=n}function jt(e){for(var t=e.display.view,n=0,i=0;i<t.length;i++){var r=t[i];r.hidden||r.node&&!r.changes||++n}return n}function Ut(e){function t(){r.activeTouch&&(s=setTimeout(function(){r.activeTouch=null},1e3),o=r.activeTouch,o.end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function i(e,t){if(null==t.left)return!0;var n=t.left-e.left,i=t.top-e.top;return n*n+i*i>400}var r=e.display;Mo(r.scroller,"mousedown",At(e,Kt)),ys&&11>Cs?Mo(r.scroller,"dblclick",At(e,function(t){if(!Tr(e,t)){var n=Vt(e,t);if(n&&!Jt(e,t)&&!$t(e.display,t)){To(t);var i=e.findWordAt(n);xe(e.doc,i.anchor,i.head)}}})):Mo(r.scroller,"dblclick",function(t){Tr(e,t)||To(t)}),Os||Mo(r.scroller,"contextmenu",function(t){Cn(e,t)});var s,o={end:0};Mo(r.scroller,"touchstart",function(e){if(!n(e)){clearTimeout(s);var t=+new Date;r.activeTouch={start:t,moved:!1,prev:t-o.end<=300?o:null},1==e.touches.length&&(r.activeTouch.left=e.touches[0].pageX,r.activeTouch.top=e.touches[0].pageY)}}),Mo(r.scroller,"touchmove",function(){r.activeTouch&&(r.activeTouch.moved=!0)}),Mo(r.scroller,"touchend",function(n){var s=r.activeTouch;if(s&&!$t(r,n)&&null!=s.left&&!s.moved&&new Date-s.start<300){var o,a=e.coordsChar(r.activeTouch,"page");o=!s.prev||i(s,s.prev)?new he(a,a):!s.prev.prev||i(s,s.prev.prev)?e.findWordAt(a):new he(Hs(a.line,0),ge(e.doc,Hs(a.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),To(n)}t()}),Mo(r.scroller,"touchcancel",t),Mo(r.scroller,"scroll",function(){r.scroller.clientHeight&&(sn(e,r.scroller.scrollTop),on(e,r.scroller.scrollLeft,!0),Do(e,"scroll",e))}),Mo(r.scroller,"mousewheel",function(t){an(e,t)}),Mo(r.scroller,"DOMMouseScroll",function(t){an(e,t)}),Mo(r.wrapper,"scroll",function(){r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),r.dragFunctions={enter:function(t){Tr(e,t)||No(t)},over:function(t){Tr(e,t)||(nn(e,t),No(t))},start:function(t){tn(e,t)},drop:At(e,en),leave:function(){rn(e)}};var a=r.input.getField();Mo(a,"keyup",function(t){mn.call(e,t)}),Mo(a,"keydown",At(e,fn)),Mo(a,"keypress",At(e,gn)),Mo(a,"focus",Wr(bn,e)),Mo(a,"blur",Wr(yn,e))}function qt(t,n,i){var r=i&&i!=e.Init;if(!n!=!r){var s=t.display.dragFunctions,o=n?Mo:Io;o(t.display.scroller,"dragstart",s.start),o(t.display.scroller,"dragenter",s.enter),o(t.display.scroller,"dragover",s.over),o(t.display.scroller,"dragleave",s.leave),o(t.display.scroller,"drop",s.drop)}}function Gt(e){var t=e.display;(t.lastWrapHeight!=t.wrapper.clientHeight||t.lastWrapWidth!=t.wrapper.clientWidth)&&(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function $t(e,t){for(var n=_r(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Vt(e,t,n,i){var r=e.display;if(!n&&"true"==_r(t).getAttribute("cm-not-content"))return null;var s,o,a=r.lineSpace.getBoundingClientRect();try{s=t.clientX-a.left,o=t.clientY-a.top}catch(t){return null}var l,c=vt(e,s,o);if(i&&1==c.xRel&&(l=Qi(e.doc,c.line).text).length==c.ch){var u=Fo(l,l.length,e.options.tabSize)-l.length;c=Hs(c.line,Math.max(0,Math.round((s-$e(e.display).left)/Ct(e.display))-u))}return c}function Kt(e){var t=this,n=t.display;if(!(n.activeTouch&&n.input.supportsTouch()||Tr(t,e))){if(n.shift=e.shiftKey,$t(n,e))return void(xs||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Jt(t,e)){var i=Vt(t,e);switch(window.focus(),wr(e)){case 1:t.state.selectingText?t.state.selectingText(e):i?Xt(t,e,i):_r(e)==n.scroller&&To(e);break;case 2:xs&&(t.state.lastMiddleDown=+new Date),i&&xe(t.doc,i),setTimeout(function(){n.input.focus()},20),To(e);break;case 3:Os?Cn(t,e):vn(t)}}}}function Xt(e,t,n){ys?setTimeout(Wr(Y,e),0):e.curOp.focus=$r();var i,r=+new Date;js&&js.time>r-400&&0==Bs(js.pos,n)?i="triple":zs&&zs.time>r-400&&0==Bs(zs.pos,n)?(i="double",js={time:r,pos:n}):(i="single",zs={time:r,pos:n});var s,o=e.doc.sel,a=Ms?t.metaKey:t.ctrlKey;e.options.dragDrop&&ea&&!Z(e)&&"single"==i&&(s=o.contains(n))>-1&&(Bs((s=o.ranges[s]).from(),n)<0||n.xRel>0)&&(Bs(s.to(),n)>0||n.xRel<0)?Yt(e,t,n,a):Zt(e,t,n,i,a)}function Yt(e,t,n,i){var r=e.display,s=+new Date,o=At(e,function(a){xs&&(r.scroller.draggable=!1),e.state.draggingText=!1,Io(document,"mouseup",o),Io(r.scroller,"drop",o),Math.abs(t.clientX-a.clientX)+Math.abs(t.clientY-a.clientY)<10&&(To(a),!i&&+new Date-200<s&&xe(e.doc,n),xs||ys&&9==Cs?setTimeout(function(){document.body.focus(),r.input.focus()},20):r.input.focus())});xs&&(r.scroller.draggable=!0),e.state.draggingText=o,r.scroller.dragDrop&&r.scroller.dragDrop(),Mo(document,"mouseup",o),Mo(r.scroller,"drop",o)}function Zt(e,t,n,i,r){function s(t){if(0!=Bs(g,t))if(g=t,"rect"==i){for(var r=[],s=e.options.tabSize,o=Fo(Qi(c,n.line).text,n.ch,s),a=Fo(Qi(c,t.line).text,t.ch,s),l=Math.min(o,a),f=Math.max(o,a),p=Math.min(n.line,t.line),m=Math.min(e.lastLine(),Math.max(n.line,t.line));m>=p;p++){var v=Qi(c,p).text,b=zo(v,l,s);l==f?r.push(new he(Hs(p,b),Hs(p,b))):v.length>b&&r.push(new he(Hs(p,b),Hs(p,zo(v,f,s))))}r.length||r.push(new he(n,n)),Te(c,fe(h.ranges.slice(0,d).concat(r),d),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var y=u,C=y.anchor,x=t;if("single"!=i){if("double"==i)var _=e.findWordAt(t);else var _=new he(Hs(t.line,0),ge(c,Hs(t.line+1,0)));Bs(_.anchor,C)>0?(x=_.head,C=X(y.from(),_.anchor)):(x=_.anchor,C=K(y.to(),_.head))}var r=h.ranges.slice(0);r[d]=new he(ge(c,C),x),Te(c,fe(r,d),Bo)}}function o(t){var n=++b,r=Vt(e,t,!0,"rect"==i);if(r)if(0!=Bs(r,g)){e.curOp.focus=$r(),s(r);var a=C(l,c);(r.line>=a.to||r.line<a.from)&&setTimeout(At(e,function(){b==n&&o(t)}),150)}else{var u=t.clientY<v.top?-20:t.clientY>v.bottom?20:0;u&&setTimeout(At(e,function(){b==n&&(l.scroller.scrollTop+=u,o(t))}),50)}}function a(t){e.state.selectingText=!1,b=1/0,To(t),l.input.focus(),Io(document,"mousemove",y),Io(document,"mouseup",x),c.history.lastSelOrigin=null}var l=e.display,c=e.doc;To(t);var u,d,h=c.sel,f=h.ranges;if(r&&!t.shiftKey?(d=c.sel.contains(n),u=d>-1?f[d]:new he(n,n)):(u=c.sel.primary(),d=c.sel.primIndex),t.altKey)i="rect",r||(u=new he(n,n)),n=Vt(e,t,!0,!0),d=-1;else if("double"==i){var p=e.findWordAt(n);u=e.display.shift||c.extend?Ce(c,u,p.anchor,p.head):p}else if("triple"==i){var m=new he(Hs(n.line,0),ge(c,Hs(n.line+1,0)));u=e.display.shift||c.extend?Ce(c,u,m.anchor,m.head):m}else u=Ce(c,u,n);r?-1==d?(d=f.length,Te(c,fe(f.concat([u]),d),{scroll:!1,origin:"*mouse"})):f.length>1&&f[d].empty()&&"single"==i&&!t.shiftKey?(Te(c,fe(f.slice(0,d).concat(f.slice(d+1)),0),{scroll:!1,origin:"*mouse"}),h=c.sel):we(c,d,u,Bo):(d=0,Te(c,new de([u],0),Bo),h=c.sel);var g=n,v=l.wrapper.getBoundingClientRect(),b=0,y=At(e,function(e){wr(e)?o(e):a(e)}),x=At(e,a);e.state.selectingText=x,Mo(document,"mousemove",y),Mo(document,"mouseup",x)}function Qt(e,t,n,i){try{var r=t.clientX,s=t.clientY}catch(t){return!1}if(r>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&To(t);var o=e.display,a=o.lineDiv.getBoundingClientRect();if(s>a.bottom||!Nr(e,n))return xr(t);s-=a.top-o.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var c=o.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r){var u=ir(e.doc,s),d=e.options.gutters[l];return Do(e,n,e,u,d,t),xr(t)}}}function Jt(e,t){return Qt(e,t,"gutterClick",!0)}function en(e){var t=this;if(rn(t),!Tr(t,e)&&!$t(t.display,e)){To(e),ys&&($s=+new Date);var n=Vt(t,e,!0),i=e.dataTransfer.files;if(n&&!Z(t))if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,s=Array(r),o=0,a=function(e,i){if(!t.options.allowDropFileTypes||-1!=Or(t.options.allowDropFileTypes,e.type)){var a=new FileReader;a.onload=At(t,function(){var e=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),s[i]=e,++o==r){n=ge(t.doc,n);var l={from:n,to:n,text:t.doc.splitLines(s.join(t.doc.lineSeparator())),origin:"paste"};Tn(t.doc,l),ke(t.doc,pe(n,Qs(l)))}}),a.readAsText(e)}},l=0;r>l;++l)a(i[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{var s=e.dataTransfer.getData("Text");if(s){if(t.state.draggingText&&!(Ms?e.altKey:e.ctrlKey))var c=t.listSelections();if(Ee(t.doc,pe(n,n)),c)for(var l=0;l<c.length;++l)Dn(t.doc,"",c[l].anchor,c[l].head,"drag");t.replaceSelection(s,"around","paste"),t.display.input.focus()}}catch(e){}}}}function tn(e,t){if(ys&&(!e.state.draggingText||+new Date-$s<100))return void No(t);if(!Tr(e,t)&&!$t(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.setDragImage&&!Ls)){var n=Ur("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Ss&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),Ss&&n.parentNode.removeChild(n)}}function nn(e,t){var n=Vt(e,t);if(n){var i=document.createDocumentFragment();He(e,n,i),e.display.dragCursor||(e.display.dragCursor=Ur("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),Gr(e.display.dragCursor,i)}}function rn(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function sn(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,gs||N(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),gs&&N(e),Fe(e,100))}function on(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,x(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function an(e,t){var n=Xs(t),i=n.x,r=n.y,s=e.display,o=s.scroller,a=o.scrollWidth>o.clientWidth,l=o.scrollHeight>o.clientHeight;if(i&&a||r&&l){if(r&&Ms&&xs)e:for(var c=t.target,u=s.view;c!=o;c=c.parentNode)for(var d=0;d<u.length;d++)if(u[d].node==c){e.display.currentWheelTarget=c;break e}if(i&&!gs&&!Ss&&null!=Ks)return r&&l&&sn(e,Math.max(0,Math.min(o.scrollTop+r*Ks,o.scrollHeight-o.clientHeight))),on(e,Math.max(0,Math.min(o.scrollLeft+i*Ks,o.scrollWidth-o.clientWidth))),(!r||r&&l)&&To(t),void(s.wheelStartX=null);if(r&&null!=Ks){var h=r*Ks,f=e.doc.scrollTop,p=f+s.wrapper.clientHeight;0>h?f=Math.max(0,f+h-50):p=Math.min(e.doc.height,p+h+50),N(e,{top:f,bottom:p})}20>Vs&&(null==s.wheelStartX?(s.wheelStartX=o.scrollLeft,s.wheelStartY=o.scrollTop,s.wheelDX=i,s.wheelDY=r,setTimeout(function(){if(null!=s.wheelStartX){var e=o.scrollLeft-s.wheelStartX,t=o.scrollTop-s.wheelStartY,n=t&&s.wheelDY&&t/s.wheelDY||e&&s.wheelDX&&e/s.wheelDX;s.wheelStartX=s.wheelStartY=null,n&&(Ks=(Ks*Vs+n)/(Vs+1),++Vs)}},200)):(s.wheelDX+=i,s.wheelDY+=r))}}function ln(e,t,n){if("string"==typeof t&&(t=co[t],!t))return!1;e.display.input.ensurePolled();var i=e.display.shift,r=!1;try{Z(e)&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),r=t(e)!=Ro}finally{e.display.shift=i,e.state.suppressEdits=!1}return r}function cn(e,t,n){for(var i=0;i<e.state.keyMaps.length;i++){var r=ho(t,e.state.keyMaps[i],n,e);if(r)return r}return e.options.extraKeys&&ho(t,e.options.extraKeys,n,e)||ho(t,e.options.keyMap,n,e)}function un(e,t,n,i){var r=e.state.keySeq;if(r){if(fo(t))return"handled";Ys.set(50,function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())}),t=r+" "+t}var s=cn(e,t,i);return"multi"==s&&(e.state.keySeq=t),"handled"==s&&Lr(e,"keyHandled",e,t,n),("handled"==s||"multi"==s)&&(To(n),We(e)),r&&!s&&/\'$/.test(t)?(To(n),!0):!!s}function dn(e,t){var n=po(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?un(e,"Shift-"+n,t,function(t){return ln(e,t,!0)})||un(e,n,t,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?ln(e,t):void 0}):un(e,n,t,function(t){return ln(e,t)}))}function hn(e,t,n){return un(e,"'"+n+"'",t,function(t){return ln(e,t,!0)})}function fn(e){var t=this;if(t.curOp.focus=$r(),!Tr(t,e)){ys&&11>Cs&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var i=dn(t,e);Ss&&(Zs=i?n:null,!i&&88==n&&!ia&&(Ms?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||pn(t)}}function pn(e){function t(e){18!=e.keyCode&&e.altKey||(Zo(n,"CodeMirror-crosshair"),Io(document,"keyup",t),Io(document,"mouseover",t))}var n=e.display.lineDiv;Qo(n,"CodeMirror-crosshair"),Mo(document,"keyup",t),Mo(document,"mouseover",t)}function mn(e){16==e.keyCode&&(this.doc.sel.shift=!1),Tr(this,e)}function gn(e){var t=this;if(!($t(t.display,e)||Tr(t,e)||e.ctrlKey&&!e.altKey||Ms&&e.metaKey)){var n=e.keyCode,i=e.charCode;if(Ss&&n==Zs)return Zs=null,void To(e);if(!Ss||e.which&&!(e.which<10)||!dn(t,e)){var r=String.fromCharCode(null==i?n:i);hn(t,e,r)||t.display.input.onKeyPress(e)}}}function vn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,yn(e))},100)}function bn(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Do(e,"focus",e),e.state.focused=!0,Qo(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),xs&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),We(e))}function yn(e){e.state.delayingBlurEvent||(e.state.focused&&(Do(e,"blur",e),e.state.focused=!1,Zo(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Cn(e,t){$t(e.display,t)||xn(e,t)||Tr(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function xn(e,t){return!!Nr(e,"gutterContextMenu")&&Qt(e,t,"gutterContextMenu",!1)}function _n(e,t){if(Bs(e,t.from)<0)return e;if(Bs(e,t.to)<=0)return Qs(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=Qs(t).ch-t.to.ch),Hs(n,i)}function wn(e,t){for(var n=[],i=0;i<e.sel.ranges.length;i++){var r=e.sel.ranges[i];n.push(new he(_n(r.anchor,t),_n(r.head,t)))}return fe(n,e.sel.primIndex)}function Sn(e,t,n){return e.line==t.line?Hs(n.line,e.ch-t.ch+n.ch):Hs(n.line+(e.line-t.line),e.ch)}function Ln(e,t,n){for(var i=[],r=Hs(e.first,0),s=r,o=0;o<t.length;o++){var a=t[o],l=Sn(a.from,r,s),c=Sn(Qs(a),r,s);if(r=a.to,s=c,"around"==n){var u=e.sel.ranges[o],d=Bs(u.head,u.anchor)<0;i[o]=new he(d?c:l,d?l:c)}else i[o]=new he(l,l)}return new de(i,e.sel.primIndex)}function kn(e,t,n){var i={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(i.update=function(t,n,i,r){t&&(this.from=ge(e,t)),n&&(this.to=ge(e,n)),i&&(this.text=i),void 0!==r&&(this.origin=r)}),Do(e,"beforeChange",e,i),e.cm&&Do(e.cm,"beforeChange",e.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function Tn(e,t,n){if(e.cm){if(!e.cm.curOp)return At(e.cm,Tn)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Nr(e,"beforeChange")||e.cm&&Nr(e.cm,"beforeChange"))||(t=kn(e,t,!0))){var i=Ps&&!n&&ci(e,t.from,t.to);if(i)for(var r=i.length-1;r>=0;--r)En(e,{from:i[r].from,to:i[r].to,text:r?[""]:t.text});else En(e,t)}}function En(e,t){if(1!=t.text.length||""!=t.text[0]||0!=Bs(t.from,t.to)){var n=wn(e,t);ur(e,t,n,e.cm?e.cm.curOp.id:NaN),An(e,t,n,oi(e,t));var i=[];Yi(e,function(e,n){n||-1!=Or(i,e.history)||(Cr(e.history,t),i.push(e.history)),An(e,t,null,oi(e,t))})}}function Nn(e,t,n){if(!e.cm||!e.cm.state.suppressEdits){for(var i,r=e.history,s=e.sel,o="undo"==t?r.done:r.undone,a="undo"==t?r.undone:r.done,l=0;l<o.length&&(i=o[l],n?!i.ranges||i.equals(e.sel):i.ranges);l++);if(l!=o.length){for(r.lastOrigin=r.lastSelOrigin=null;i=o.pop(),i.ranges;){if(fr(i,a),n&&!i.equals(e.sel))return void Te(e,i,{clearRedo:!1});s=i}var c=[];fr(s,a),a.push({changes:c,generation:r.generation}),r.generation=i.generation||++r.maxGeneration;for(var u=Nr(e,"beforeChange")||e.cm&&Nr(e.cm,"beforeChange"),l=i.changes.length-1;l>=0;--l){var d=i.changes[l];if(d.origin=t,u&&!kn(e,d,!1))return void(o.length=0);c.push(ar(e,d));var h=l?wn(e,d):Dr(o);An(e,d,h,li(e,d)),!l&&e.cm&&e.cm.scrollIntoView({from:d.from,to:Qs(d)});var f=[];Yi(e,function(e,t){t||-1!=Or(f,e.history)||(Cr(e.history,d),f.push(e.history)),An(e,d,null,li(e,d))})}}}}function Mn(e,t){if(0!=t&&(e.first+=t,e.sel=new de(Pr(e.sel.ranges,function(e){return new he(Hs(e.anchor.line+t,e.anchor.ch),Hs(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Rt(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,i=n.viewFrom;i<n.viewTo;i++)Ht(e.cm,i,"gutter")}}function An(e,t,n,i){if(e.cm&&!e.cm.curOp)return At(e.cm,An)(e,t,n,i);if(t.to.line<e.first)return void Mn(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);Mn(e,r),t={from:Hs(e.first,0),to:Hs(t.to.line+r,t.to.ch),text:[Dr(t.text)],origin:t.origin}}var s=e.lastLine();t.to.line>s&&(t={from:t.from,to:Hs(s,Qi(e,s).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Ji(e,t.from,t.to),n||(n=wn(e,t)),e.cm?In(e.cm,t,i):Vi(e,t,i),Ee(e,n,Ho)}}function In(e,t,n){var i=e.doc,r=e.display,o=t.from,a=t.to,l=!1,c=o.line;e.options.lineWrapping||(c=nr(yi(Qi(i,o.line))),i.iter(c,a.line+1,function(e){return e==r.maxLine?(l=!0,
!0):void 0})),i.sel.contains(t.from,t.to)>-1&&Er(e),Vi(i,t,n,s(e)),e.options.lineWrapping||(i.iter(c,o.line+t.text.length,function(e){var t=d(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),i.frontier=Math.min(i.frontier,o.line),Fe(e,400);var u=t.text.length-(a.line-o.line)-1;t.full?Rt(e):o.line!=a.line||1!=t.text.length||$i(e.doc,t)?Rt(e,o.line,a.line+1,u):Ht(e,o.line,"text");var h=Nr(e,"changes"),f=Nr(e,"change");if(f||h){var p={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};f&&Lr(e,"change",e,p),h&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p)}e.display.selForContextMenu=null}function Dn(e,t,n,i,r){if(i||(i=n),Bs(i,n)<0){var s=i;i=n,n=s}"string"==typeof t&&(t=e.splitLines(t)),Tn(e,{from:n,to:i,text:t,origin:r})}function On(e,t){if(!Tr(e,"scrollCursorIntoView")){var n=e.display,i=n.sizer.getBoundingClientRect(),r=null;if(t.top+i.top<0?r=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!Ts){var s=Ur("div","​",null,"position: absolute; top: "+(t.top-n.viewOffset-qe(e.display))+"px; height: "+(t.bottom-t.top+Ve(e)+n.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(s),s.scrollIntoView(r),e.display.lineSpace.removeChild(s)}}}function Pn(e,t,n,i){null==i&&(i=0);for(var r=0;5>r;r++){var s=!1,o=pt(e,t),a=n&&n!=t?pt(e,n):o,l=Hn(e,Math.min(o.left,a.left),Math.min(o.top,a.top)-i,Math.max(o.left,a.left),Math.max(o.bottom,a.bottom)+i),c=e.doc.scrollTop,u=e.doc.scrollLeft;if(null!=l.scrollTop&&(sn(e,l.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(s=!0)),null!=l.scrollLeft&&(on(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-u)>1&&(s=!0)),!s)break}return o}function Rn(e,t,n,i,r){var s=Hn(e,t,n,i,r);null!=s.scrollTop&&sn(e,s.scrollTop),null!=s.scrollLeft&&on(e,s.scrollLeft)}function Hn(e,t,n,i,r){var s=e.display,o=yt(e.display);0>n&&(n=0);var a=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:s.scroller.scrollTop,l=Xe(e),c={};r-n>l&&(r=n+l);var u=e.doc.height+Ge(s),d=o>n,h=r>u-o;if(a>n)c.scrollTop=d?0:n;else if(r>a+l){var f=Math.min(n,(h?u:r)-l);f!=a&&(c.scrollTop=f)}var p=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:s.scroller.scrollLeft,m=Ke(e)-(e.options.fixedGutter?s.gutters.offsetWidth:0),g=i-t>m;return g&&(i=t+m),10>t?c.scrollLeft=0:p>t?c.scrollLeft=Math.max(0,t-(g?0:10)):i>m+p-3&&(c.scrollLeft=i+(g?0:10)-m),c}function Bn(e,t,n){(null!=t||null!=n)&&Fn(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function Wn(e){Fn(e);var t=e.getCursor(),n=t,i=t;e.options.lineWrapping||(n=t.ch?Hs(t.line,t.ch-1):t,i=Hs(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:i,margin:e.options.cursorScrollMargin,isCursor:!0}}function Fn(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=mt(e,t.from),i=mt(e,t.to),r=Hn(e,Math.min(n.left,i.left),Math.min(n.top,i.top)-t.margin,Math.max(n.right,i.right),Math.max(n.bottom,i.bottom)+t.margin);e.scrollTo(r.scrollLeft,r.scrollTop)}}function zn(e,t,n,i){var r,s=e.doc;null==n&&(n="add"),"smart"==n&&(s.mode.indent?r=Ue(e,t):n="prev");var o=e.options.tabSize,a=Qi(s,t),l=Fo(a.text,null,o);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==n&&(c=s.mode.indent(r,a.text.slice(u.length),a.text),c==Ro||c>150)){if(!i)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>s.first?Fo(Qi(s,t-1).text,null,o):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var d="",h=0;if(e.options.indentWithTabs)for(var f=Math.floor(c/o);f;--f)h+=o,d+="\t";if(c>h&&(d+=Ir(c-h)),d!=u)return Dn(s,d,Hs(t,0),Hs(t,u.length),"+input"),a.stateAfter=null,!0;for(var f=0;f<s.sel.ranges.length;f++){var p=s.sel.ranges[f];if(p.head.line==t&&p.head.ch<u.length){var h=Hs(t,u.length);we(s,f,new he(h,h));break}}}function jn(e,t,n,i){var r=t,s=t;return"number"==typeof t?s=Qi(e,me(e,t)):r=nr(t),null==r?null:(i(s,r)&&e.cm&&Ht(e.cm,r,n),s)}function Un(e,t){for(var n=e.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var s=t(n[r]);i.length&&Bs(s.from,Dr(i).to)<=0;){var o=i.pop();if(Bs(o.from,s.from)<0){s.from=o.from;break}}i.push(s)}Mt(e,function(){for(var t=i.length-1;t>=0;t--)Dn(e.doc,"",i[t].from,i[t].to,"+delete");Wn(e)})}function qn(e,t,n,i,r){function s(){var t=a+n;return t<e.first||t>=e.first+e.size?d=!1:(a=t,u=Qi(e,t))}function o(e){var t=(r?hs:fs)(u,l,n,!0);if(null==t){if(e||!s())return d=!1;l=r?(0>n?ss:rs)(u):0>n?u.text.length:0}else l=t;return!0}var a=t.line,l=t.ch,c=n,u=Qi(e,a),d=!0;if("char"==i)o();else if("column"==i)o(!0);else if("word"==i||"group"==i)for(var h=null,f="group"==i,p=e.cm&&e.cm.getHelper(t,"wordChars"),m=!0;!(0>n)||o(!m);m=!1){var g=u.text.charAt(l)||"\n",v=Fr(g,p)?"w":f&&"\n"==g?"n":!f||/\s/.test(g)?null:"p";if(!f||m||v||(v="s"),h&&h!=v){0>n&&(n=1,o());break}if(v&&(h=v),n>0&&!o(!m))break}var b=De(e,Hs(a,l),t,c,!0);return d||(b.hitSide=!0),b}function Gn(e,t,n,i){var r,s=e.doc,o=t.left;if("page"==i){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);r=t.top+n*(a-(0>n?1.5:.5)*yt(e.display))}else"line"==i&&(r=n>0?t.bottom+3:t.top-3);for(;;){var l=vt(e,o,r);if(!l.outside)break;if(0>n?0>=r:r>=s.height){l.hitSide=!0;break}r+=5*n}return l}function $n(t,n,i,r){e.defaults[t]=n,i&&(eo[t]=r?function(e,t,n){n!=to&&i(e,t,n)}:i)}function Vn(e){for(var t,n,i,r,s=e.split(/-(?!$)/),e=s[s.length-1],o=0;o<s.length-1;o++){var a=s[o];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);i=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),r&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function Kn(e){return"string"==typeof e?uo[e]:e}function Xn(e,t,n,i,r){if(i&&i.shared)return Yn(e,t,n,i,r);if(e.cm&&!e.cm.curOp)return At(e.cm,Xn)(e,t,n,i,r);var s=new vo(e,r),o=Bs(t,n);if(i&&Br(i,s,!1),o>0||0==o&&s.clearWhenEmpty!==!1)return s;if(s.replacedWith&&(s.collapsed=!0,s.widgetNode=Ur("span",[s.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||s.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(s.widgetNode.insertLeft=!0)),s.collapsed){if(bi(e,t.line,t,n,s)||t.line!=n.line&&bi(e,n.line,t,n,s))throw new Error("Inserting collapsed marker partially overlapping an existing one");Rs=!0}s.addToHistory&&ur(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var a,l=t.line,c=e.cm;if(e.iter(l,n.line+1,function(e){c&&s.collapsed&&!c.options.lineWrapping&&yi(e)==c.display.maxLine&&(a=!0),s.collapsed&&l!=t.line&&tr(e,0),ii(e,new ei(s,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),s.collapsed&&e.iter(t.line,n.line+1,function(t){wi(e,t)&&tr(t,0)}),s.clearOnEnter&&Mo(s,"beforeCursorEnter",function(){s.clear()}),s.readOnly&&(Ps=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),s.collapsed&&(s.id=++go,s.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),s.collapsed)Rt(c,t.line,n.line+1);else if(s.className||s.title||s.startStyle||s.endStyle||s.css)for(var u=t.line;u<=n.line;u++)Ht(c,u,"text");s.atomic&&Me(c.doc),Lr(c,"markerAdded",c,s)}return s}function Yn(e,t,n,i,r){i=Br(i),i.shared=!1;var s=[Xn(e,t,n,i,r)],o=s[0],a=i.widgetNode;return Yi(e,function(e){a&&(i.widgetNode=a.cloneNode(!0)),s.push(Xn(e,ge(e,t),ge(e,n),i,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;o=Dr(s)}),new bo(s,o)}function Zn(e){return e.findMarks(Hs(e.first,0),e.clipPos(Hs(e.lastLine())),function(e){return e.parent})}function Qn(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=i.find(),s=e.clipPos(r.from),o=e.clipPos(r.to);if(Bs(s,o)){var a=Xn(e,s,o,i.primary,i.primary.type);i.markers.push(a),a.parent=i}}}function Jn(e){for(var t=0;t<e.length;t++){var n=e[t],i=[n.primary.doc];Yi(n.primary.doc,function(e){i.push(e)});for(var r=0;r<n.markers.length;r++){var s=n.markers[r];-1==Or(i,s.doc)&&(s.parent=null,n.markers.splice(r--,1))}}}function ei(e,t,n){this.marker=e,this.from=t,this.to=n}function ti(e,t){if(e)for(var n=0;n<e.length;++n){var i=e[n];if(i.marker==t)return i}}function ni(e,t){for(var n,i=0;i<e.length;++i)e[i]!=t&&(n||(n=[])).push(e[i]);return n}function ii(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function ri(e,t,n){if(e)for(var i,r=0;r<e.length;++r){var s=e[r],o=s.marker,a=null==s.from||(o.inclusiveLeft?s.from<=t:s.from<t);if(a||s.from==t&&"bookmark"==o.type&&(!n||!s.marker.insertLeft)){var l=null==s.to||(o.inclusiveRight?s.to>=t:s.to>t);(i||(i=[])).push(new ei(o,s.from,l?null:s.to))}}return i}function si(e,t,n){if(e)for(var i,r=0;r<e.length;++r){var s=e[r],o=s.marker,a=null==s.to||(o.inclusiveRight?s.to>=t:s.to>t);if(a||s.from==t&&"bookmark"==o.type&&(!n||s.marker.insertLeft)){var l=null==s.from||(o.inclusiveLeft?s.from<=t:s.from<t);(i||(i=[])).push(new ei(o,l?null:s.from-t,null==s.to?null:s.to-t))}}return i}function oi(e,t){if(t.full)return null;var n=be(e,t.from.line)&&Qi(e,t.from.line).markedSpans,i=be(e,t.to.line)&&Qi(e,t.to.line).markedSpans;if(!n&&!i)return null;var r=t.from.ch,s=t.to.ch,o=0==Bs(t.from,t.to),a=ri(n,r,o),l=si(i,s,o),c=1==t.text.length,u=Dr(t.text).length+(c?r:0);if(a)for(var d=0;d<a.length;++d){var h=a[d];if(null==h.to){var f=ti(l,h.marker);f?c&&(h.to=null==f.to?null:f.to+u):h.to=r}}if(l)for(var d=0;d<l.length;++d){var h=l[d];if(null!=h.to&&(h.to+=u),null==h.from){var f=ti(a,h.marker);f||(h.from=u,c&&(a||(a=[])).push(h))}else h.from+=u,c&&(a||(a=[])).push(h)}a&&(a=ai(a)),l&&l!=a&&(l=ai(l));var p=[a];if(!c){var m,g=t.text.length-2;if(g>0&&a)for(var d=0;d<a.length;++d)null==a[d].to&&(m||(m=[])).push(new ei(a[d].marker,null,null));for(var d=0;g>d;++d)p.push(m);p.push(l)}return p}function ai(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function li(e,t){var n=gr(e,t),i=oi(e,t);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var s=n[r],o=i[r];if(s&&o)e:for(var a=0;a<o.length;++a){for(var l=o[a],c=0;c<s.length;++c)if(s[c].marker==l.marker)continue e;s.push(l)}else o&&(n[r]=o)}return n}function ci(e,t,n){var i=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||i&&-1!=Or(i,n)||(i||(i=[])).push(n)}}),!i)return null;for(var r=[{from:t,to:n}],s=0;s<i.length;++s)for(var o=i[s],a=o.find(0),l=0;l<r.length;++l){var c=r[l];if(!(Bs(c.to,a.from)<0||Bs(c.from,a.to)>0)){var u=[l,1],d=Bs(c.from,a.from),h=Bs(c.to,a.to);(0>d||!o.inclusiveLeft&&!d)&&u.push({from:c.from,to:a.from}),(h>0||!o.inclusiveRight&&!h)&&u.push({from:a.to,to:c.to}),r.splice.apply(r,u),l+=u.length-1}}return r}function ui(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function di(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function hi(e){return e.inclusiveLeft?-1:0}function fi(e){return e.inclusiveRight?1:0}function pi(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var i=e.find(),r=t.find(),s=Bs(i.from,r.from)||hi(e)-hi(t);if(s)return-s;var o=Bs(i.to,r.to)||fi(e)-fi(t);return o?o:t.id-e.id}function mi(e,t){var n,i=Rs&&e.markedSpans;if(i)for(var r,s=0;s<i.length;++s)r=i[s],r.marker.collapsed&&null==(t?r.from:r.to)&&(!n||pi(n,r.marker)<0)&&(n=r.marker);return n}function gi(e){return mi(e,!0)}function vi(e){return mi(e,!1)}function bi(e,t,n,i,r){var s=Qi(e,t),o=Rs&&s.markedSpans;if(o)for(var a=0;a<o.length;++a){var l=o[a];if(l.marker.collapsed){var c=l.marker.find(0),u=Bs(c.from,n)||hi(l.marker)-hi(r),d=Bs(c.to,i)||fi(l.marker)-fi(r);if(!(u>=0&&0>=d||0>=u&&d>=0)&&(0>=u&&(Bs(c.to,n)>0||l.marker.inclusiveRight&&r.inclusiveLeft)||u>=0&&(Bs(c.from,i)<0||l.marker.inclusiveLeft&&r.inclusiveRight)))return!0}}}function yi(e){for(var t;t=gi(e);)e=t.find(-1,!0).line;return e}function Ci(e){for(var t,n;t=vi(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function xi(e,t){var n=Qi(e,t),i=yi(n);return n==i?t:nr(i)}function _i(e,t){if(t>e.lastLine())return t;var n,i=Qi(e,t);if(!wi(e,i))return t;for(;n=vi(i);)i=n.find(1,!0).line;return nr(i)+1}function wi(e,t){var n=Rs&&t.markedSpans;if(n)for(var i,r=0;r<n.length;++r)if(i=n[r],i.marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&Si(e,t,i))return!0}}function Si(e,t,n){if(null==n.to){var i=n.marker.find(1,!0);return Si(e,i.line,ti(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var r,s=0;s<t.markedSpans.length;++s)if(r=t.markedSpans[s],r.marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&Si(e,t,r))return!0}function Li(e,t,n){rr(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Bn(e,null,n)}function ki(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Ko(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),Gr(t.display.measure,Ur("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Ti(e,t,n,i){var r=new yo(e,n,i),s=e.cm;return s&&r.noHScroll&&(s.display.alignWidgets=!0),jn(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,s&&!wi(e,t)){var i=rr(t)<e.scrollTop;tr(t,t.height+ki(r)),i&&Bn(s,null,r.height),s.curOp.forceUpdate=!0}return!0}),r}function Ei(e,t,n,i){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),ui(e),di(e,n);var r=i?i(e):1;r!=e.height&&tr(e,r)}function Ni(e){e.parent=null,ui(e)}function Mi(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==t[i]?t[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[i])||(t[i]+=" "+n[2])}return e}function Ai(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var i=e.innerMode(t,n);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function Ii(t,n,i,r){for(var s=0;10>s;s++){r&&(r[0]=e.innerMode(t,i).mode);var o=t.token(n,i);if(n.pos>n.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}function Di(e,t,n,i){function r(e){return{start:d.start,end:d.pos,string:d.current(),type:s||null,state:e?ao(o.mode,u):u}}var s,o=e.doc,a=o.mode;t=ge(o,t);var l,c=Qi(o,t.line),u=Ue(e,t.line,n),d=new mo(c.text,e.options.tabSize);for(i&&(l=[]);(i||d.pos<t.ch)&&!d.eol();)d.start=d.pos,s=Ii(a,d,u),i&&l.push(r(!0));return i?l:r()}function Oi(e,t,n,i,r,s,o){var a=n.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,c=0,u=null,d=new mo(t,e.options.tabSize),h=e.options.addModeClass&&[null];for(""==t&&Mi(Ai(n,i),s);!d.eol();){if(d.pos>e.options.maxHighlightLength?(a=!1,o&&Hi(e,t,i,d.pos),d.pos=t.length,l=null):l=Mi(Ii(n,d,i,h),s),h){var f=h[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!a||u!=l){for(;c<d.start;)c=Math.min(d.start,c+5e4),r(c,u);u=l}d.start=d.pos}for(;c<d.pos;){var p=Math.min(d.pos,c+5e4);r(p,u),c=p}}function Pi(e,t,n,i){var r=[e.state.modeGen],s={};Oi(e,t.text,e.doc.mode,n,function(e,t){r.push(e,t)},s,i);for(var o=0;o<e.state.overlays.length;++o){var a=e.state.overlays[o],l=1,c=0;Oi(e,t.text,a.mode,!0,function(e,t){for(var n=l;e>c;){var i=r[l];i>e&&r.splice(l,1,e,r[l+1],i),l+=2,c=Math.min(e,i)}if(t)if(a.opaque)r.splice(n,l-n,e,"cm-overlay "+t),l=n+2;else for(;l>n;n+=2){var s=r[n+1];r[n+1]=(s?s+" ":"")+"cm-overlay "+t}},s)}return{styles:r,classes:s.bgClass||s.textClass?s:null}}function Ri(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var i=Ue(e,nr(t)),r=Pi(e,t,t.text.length>e.options.maxHighlightLength?ao(e.doc.mode,i):i);t.stateAfter=i,t.styles=r.styles,r.classes?t.styleClasses=r.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function Hi(e,t,n,i){var r=e.doc.mode,s=new mo(t,e.options.tabSize);for(s.start=s.pos=i||0,""==t&&Ai(r,n);!s.eol();)Ii(r,s,n),s.start=s.pos}function Bi(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?_o:xo;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Wi(e,t){var n=Ur("span",null,null,xs?"padding-right: .1px":null),i={pre:Ur("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,splitSpaces:(ys||xs)&&e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var s,o=r?t.rest[r-1]:t.line;i.pos=0,i.addToken=zi,Jr(e.display.measure)&&(s=sr(o))&&(i.addToken=Ui(i.addToken,s)),i.map=[];var a=t!=e.display.externalMeasured&&nr(o);Gi(o,i,Ri(e,o,a)),o.styleClasses&&(o.styleClasses.bgClass&&(i.bgClass=Kr(o.styleClasses.bgClass,i.bgClass||"")),o.styleClasses.textClass&&(i.textClass=Kr(o.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(Qr(e.display.measure))),0==r?(t.measure.map=i.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(i.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return xs&&/\bcm-tab\b/.test(i.content.lastChild.className)&&(i.content.className="cm-tab-wrap-hack"),Do(e,"renderLine",e,t.line,i.pre),i.pre.className&&(i.textClass=Kr(i.pre.className,i.textClass||"")),i}function Fi(e){var t=Ur("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function zi(e,t,n,i,r,s,o){if(t){var a=e.splitSpaces?t.replace(/ {3,}/g,ji):t,l=e.cm.state.specialChars,c=!1;if(l.test(t))for(var u=document.createDocumentFragment(),d=0;;){l.lastIndex=d;var h=l.exec(t),f=h?h.index-d:t.length-d;if(f){var p=document.createTextNode(a.slice(d,d+f));ys&&9>Cs?u.appendChild(Ur("span",[p])):u.appendChild(p),e.map.push(e.pos,e.pos+f,p),e.col+=f,e.pos+=f}if(!h)break;if(d+=f+1,"\t"==h[0]){var m=e.cm.options.tabSize,g=m-e.col%m,p=u.appendChild(Ur("span",Ir(g),"cm-tab"));p.setAttribute("role","presentation"),p.setAttribute("cm-text","\t"),e.col+=g}else if("\r"==h[0]||"\n"==h[0]){var p=u.appendChild(Ur("span","\r"==h[0]?"␍":"␤","cm-invalidchar"));p.setAttribute("cm-text",h[0]),e.col+=1}else{var p=e.cm.options.specialCharPlaceholder(h[0]);p.setAttribute("cm-text",h[0]),ys&&9>Cs?u.appendChild(Ur("span",[p])):u.appendChild(p),e.col+=1}e.map.push(e.pos,e.pos+1,p),e.pos++}else{e.col+=t.length;var u=document.createTextNode(a);e.map.push(e.pos,e.pos+t.length,u),ys&&9>Cs&&(c=!0),e.pos+=t.length}if(n||i||r||c||o){var v=n||"";i&&(v+=i),r&&(v+=r);var b=Ur("span",[u],v,o);return s&&(b.title=s),e.content.appendChild(b)}e.content.appendChild(u)}}function ji(e){for(var t=" ",n=0;n<e.length-2;++n)t+=n%2?" ":" ";return t+=" "}function Ui(e,t){return function(n,i,r,s,o,a,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+i.length;;){for(var d=0;d<t.length;d++){var h=t[d];if(h.to>c&&h.from<=c)break}if(h.to>=u)return e(n,i,r,s,o,a,l);e(n,i.slice(0,h.to-c),r,s,null,a,l),s=null,i=i.slice(h.to-c),c=h.to}}}function qi(e,t,n,i){var r=!i&&n.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!i&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t}function Gi(e,t,n){var i=e.markedSpans,r=e.text,s=0;if(i)for(var o,a,l,c,u,d,h,f=r.length,p=0,m=1,g="",v=0;;){if(v==p){l=c=u=d=a="",h=null,v=1/0;for(var b=[],y=0;y<i.length;++y){var C=i[y],x=C.marker;"bookmark"==x.type&&C.from==p&&x.widgetNode?b.push(x):C.from<=p&&(null==C.to||C.to>p||x.collapsed&&C.to==p&&C.from==p)?(null!=C.to&&C.to!=p&&v>C.to&&(v=C.to,c=""),x.className&&(l+=" "+x.className),x.css&&(a=(a?a+";":"")+x.css),x.startStyle&&C.from==p&&(u+=" "+x.startStyle),x.endStyle&&C.to==v&&(c+=" "+x.endStyle),x.title&&!d&&(d=x.title),x.collapsed&&(!h||pi(h.marker,x)<0)&&(h=C)):C.from>p&&v>C.from&&(v=C.from)}if(h&&(h.from||0)==p){if(qi(t,(null==h.to?f+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}if(!h&&b.length)for(var y=0;y<b.length;++y)qi(t,0,b[y])}if(p>=f)break;for(var _=Math.min(f,v);;){if(g){var w=p+g.length;if(!h){var S=w>_?g.slice(0,_-p):g;t.addToken(t,S,o?o+l:l,u,p+S.length==v?c:"",d,a)}if(w>=_){g=g.slice(_-p),p=_;break}p=w,u=""}g=r.slice(s,s=n[m++]),o=Bi(n[m++],t.cm.options)}}else for(var m=1;m<n.length;m+=2)t.addToken(t,r.slice(s,s=n[m]),Bi(n[m+1],t.cm.options))}function $i(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Dr(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Vi(e,t,n,i){function r(e){return n?n[e]:null}function s(e,n,r){Ei(e,n,r,i),Lr(e,"change",e,t)}function o(e,t){for(var n=e,s=[];t>n;++n)s.push(new Co(c[n],r(n),i));return s}var a=t.from,l=t.to,c=t.text,u=Qi(e,a.line),d=Qi(e,l.line),h=Dr(c),f=r(c.length-1),p=l.line-a.line;if(t.full)e.insert(0,o(0,c.length)),e.remove(c.length,e.size-c.length);else if($i(e,t)){var m=o(0,c.length-1);s(d,d.text,f),p&&e.remove(a.line,p),m.length&&e.insert(a.line,m)}else if(u==d)if(1==c.length)s(u,u.text.slice(0,a.ch)+h+u.text.slice(l.ch),f);else{var m=o(1,c.length-1);m.push(new Co(h+u.text.slice(l.ch),f,i)),s(u,u.text.slice(0,a.ch)+c[0],r(0)),e.insert(a.line+1,m)}else if(1==c.length)s(u,u.text.slice(0,a.ch)+c[0]+d.text.slice(l.ch),r(0)),e.remove(a.line+1,p);else{s(u,u.text.slice(0,a.ch)+c[0],r(0)),s(d,h+d.text.slice(l.ch),f);var m=o(1,c.length-1);p>1&&e.remove(a.line+1,p-1),e.insert(a.line+1,m)}Lr(e,"change",e,t)}function Ki(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function Xi(e){this.children=e;for(var t=0,n=0,i=0;i<e.length;++i){var r=e[i];t+=r.chunkSize(),n+=r.height,r.parent=this}this.size=t,this.height=n,this.parent=null}function Yi(e,t,n){function i(e,r,s){if(e.linked)for(var o=0;o<e.linked.length;++o){var a=e.linked[o];if(a.doc!=r){var l=s&&a.sharedHist;(!n||l)&&(t(a.doc,l),i(a.doc,e,l))}}}i(e,null,!0)}function Zi(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,o(e),n(e),e.options.lineWrapping||h(e),e.options.mode=t.modeOption,Rt(e)}function Qi(e,t){if(t-=e.first,0>t||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var i=0;;++i){var r=n.children[i],s=r.chunkSize();if(s>t){n=r;break}t-=s}return n.lines[t]}function Ji(e,t,n){var i=[],r=t.line;return e.iter(t.line,n.line+1,function(e){var s=e.text;r==n.line&&(s=s.slice(0,n.ch)),r==t.line&&(s=s.slice(t.ch)),i.push(s),++r}),i}function er(e,t,n){var i=[];return e.iter(t,n,function(e){i.push(e.text)}),i}function tr(e,t){var n=t-e.height;if(n)for(var i=e;i;i=i.parent)i.height+=n}function nr(e){if(null==e.parent)return null;for(var t=e.parent,n=Or(t.lines,e),i=t.parent;i;t=i,i=i.parent)for(var r=0;i.children[r]!=t;++r)n+=i.children[r].chunkSize();return n+t.first}function ir(e,t){var n=e.first;e:do{for(var i=0;i<e.children.length;++i){var r=e.children[i],s=r.height;if(s>t){e=r;continue e}t-=s,n+=r.chunkSize()}return n}while(!e.lines);for(var i=0;i<e.lines.length;++i){var o=e.lines[i],a=o.height;if(a>t)break;t-=a}return n+i}function rr(e){e=yi(e);for(var t=0,n=e.parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==e)break;t+=r.height}for(var s=n.parent;s;n=s,s=n.parent)for(var i=0;i<s.children.length;++i){var o=s.children[i];if(o==n)break;t+=o.height}return t}function sr(e){var t=e.order;return null==t&&(t=e.order=aa(e.text)),t}function or(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ar(e,t){var n={from:V(t.from),to:Qs(t),text:Ji(e,t.from,t.to)};return pr(e,n,t.from.line,t.to.line+1),Yi(e,function(e){pr(e,n,t.from.line,t.to.line+1)},!0),n}function lr(e){for(;e.length;){var t=Dr(e);if(!t.ranges)break;e.pop()}}function cr(e,t){return t?(lr(e.done),Dr(e.done)):e.done.length&&!Dr(e.done).ranges?Dr(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Dr(e.done)):void 0}function ur(e,t,n,i){var r=e.history;r.undone.length=0;var s,o=+new Date;if((r.lastOp==i||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&r.lastModTime>o-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(s=cr(r,r.lastOp==i))){var a=Dr(s.changes);0==Bs(t.from,t.to)&&0==Bs(t.from,a.to)?a.to=Qs(t):s.changes.push(ar(e,t))}else{var l=Dr(r.done);for(l&&l.ranges||fr(e.sel,r.done),s={changes:[ar(e,t)],generation:r.generation},r.done.push(s);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=o,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=t.origin,a||Do(e,"historyAdded")}function dr(e,t,n,i){var r=t.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function hr(e,t,n,i){var r=e.history,s=i&&i.origin;n==r.lastSelOp||s&&r.lastSelOrigin==s&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==s||dr(e,s,Dr(r.done),t))?r.done[r.done.length-1]=t:fr(t,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=s,r.lastSelOp=n,i&&i.clearRedo!==!1&&lr(r.undone)}function fr(e,t){var n=Dr(t);n&&n.ranges&&n.equals(e)||t.push(e)}function pr(e,t,n,i){var r=t["spans_"+e.id],s=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,i),function(n){n.markedSpans&&((r||(r=t["spans_"+e.id]={}))[s]=n.markedSpans),++s})}function mr(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function gr(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var i=0,r=[];i<t.text.length;++i)r.push(mr(n[i]));return r}function vr(e,t,n){for(var i=0,r=[];i<e.length;++i){var s=e[i];if(s.ranges)r.push(n?de.prototype.deepCopy.call(s):s);else{var o=s.changes,a=[];r.push({changes:a});for(var l=0;l<o.length;++l){var c,u=o[l];if(a.push({from:u.from,to:u.to,text:u.text}),t)for(var d in u)(c=d.match(/^spans_(\d+)$/))&&Or(t,Number(c[1]))>-1&&(Dr(a)[d]=u[d],delete u[d])}}}return r}function br(e,t,n,i){n<e.line?e.line+=i:t<e.line&&(e.line=t,e.ch=0)}function yr(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r],o=!0;if(s.ranges){s.copied||(s=e[r]=s.deepCopy(),s.copied=!0);for(var a=0;a<s.ranges.length;a++)br(s.ranges[a].anchor,t,n,i),br(s.ranges[a].head,t,n,i)}else{for(var a=0;a<s.changes.length;++a){var l=s.changes[a];if(n<l.from.line)l.from=Hs(l.from.line+i,l.from.ch),l.to=Hs(l.to.line+i,l.to.ch);else if(t<=l.to.line){o=!1;break}}o||(e.splice(0,r+1),r=0)}}}function Cr(e,t){var n=t.from.line,i=t.to.line,r=t.text.length-(i-n)-1;yr(e.done,n,i,r),yr(e.undone,n,i,r)}function xr(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function _r(e){return e.target||e.srcElement}function wr(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Ms&&e.ctrlKey&&1==t&&(t=3),t}function Sr(e,t,n){var i=e._handlers&&e._handlers[t];return n?i&&i.length>0?i.slice():Ao:i||Ao}function Lr(e,t){function n(e){return function(){e.apply(null,s)}}var i=Sr(e,t,!1);if(i.length){var r,s=Array.prototype.slice.call(arguments,2);qs?r=qs.delayedCallbacks:Oo?r=Oo:(r=Oo=[],setTimeout(kr,0));for(var o=0;o<i.length;++o)r.push(n(i[o]))}}function kr(){var e=Oo;Oo=null;for(var t=0;t<e.length;++t)e[t]()}function Tr(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Do(e,n||t.type,e,t),xr(t)||t.codemirrorIgnore}function Er(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<t.length;++i)-1==Or(n,t[i])&&n.push(t[i])}function Nr(e,t){return Sr(e,t).length>0}function Mr(e){e.prototype.on=function(e,t){Mo(this,e,t)},e.prototype.off=function(e,t){Io(this,e,t)}}function Ar(){this.id=null}function Ir(e){for(;jo.length<=e;)jo.push(Dr(jo)+" ");return jo[e]}function Dr(e){return e[e.length-1]}function Or(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function Pr(e,t){for(var n=[],i=0;i<e.length;i++)n[i]=t(e[i],i);return n}function Rr(){}function Hr(e,t){var n;return Object.create?n=Object.create(e):(Rr.prototype=e,n=new Rr),t&&Br(t,n),n}function Br(e,t,n){t||(t={});for(var i in e)!e.hasOwnProperty(i)||n===!1&&t.hasOwnProperty(i)||(t[i]=e[i]);return t}function Wr(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Fr(e,t){return t?!!(t.source.indexOf("\\w")>-1&&$o(e))||t.test(e):$o(e)}function zr(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function jr(e){return e.charCodeAt(0)>=768&&Vo.test(e)}function Ur(e,t,n,i){var r=document.createElement(e);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var s=0;s<t.length;++s)r.appendChild(t[s]);return r}function qr(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Gr(e,t){return qr(e).appendChild(t)}function $r(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function Vr(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function Kr(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)n[i]&&!Vr(n[i]).test(t)&&(t+=" "+n[i]);return t}function Xr(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&e(i)}}function Yr(){Jo||(Zr(),Jo=!0)}function Zr(){var e;Mo(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Xr(Gt)},100))}),Mo(window,"blur",function(){Xr(yn)})}function Qr(e){if(null==Xo){var t=Ur("span","​");Gr(e,Ur("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Xo=t.offsetWidth<=1&&t.offsetHeight>2&&!(ys&&8>Cs))}var n=Xo?Ur("span","​"):Ur("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Jr(e){if(null!=Yo)return Yo;var t=Gr(e,document.createTextNode("AخA")),n=qo(t,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var i=qo(t,1,2).getBoundingClientRect();return Yo=i.right-n.right<3}function es(e){if(null!=ra)return ra;var t=Gr(e,Ur("span","x")),n=t.getBoundingClientRect(),i=qo(t,0,1).getBoundingClientRect();return ra=Math.abs(n.left-i.left)>1}function ts(e,t,n,i){if(!e)return i(t,n,"ltr");for(var r=!1,s=0;s<e.length;++s){var o=e[s];(o.from<n&&o.to>t||t==n&&o.to==t)&&(i(Math.max(o.from,t),Math.min(o.to,n),1==o.level?"rtl":"ltr"),r=!0)}r||i(t,n,"ltr")}function ns(e){return e.level%2?e.to:e.from}function is(e){return e.level%2?e.from:e.to}function rs(e){var t=sr(e);return t?ns(t[0]):0}function ss(e){var t=sr(e);return t?is(Dr(t)):e.text.length}function os(e,t){var n=Qi(e.doc,t),i=yi(n);i!=n&&(t=nr(i));var r=sr(i),s=r?r[0].level%2?ss(i):rs(i):0;return Hs(t,s)}function as(e,t){for(var n,i=Qi(e.doc,t);n=vi(i);)i=n.find(1,!0).line,t=null;var r=sr(i),s=r?r[0].level%2?rs(i):ss(i):i.text.length;return Hs(null==t?nr(i):t,s)}function ls(e,t){var n=os(e,t.line),i=Qi(e.doc,n.line),r=sr(i);if(!r||0==r[0].level){var s=Math.max(0,i.text.search(/\S/)),o=t.line==n.line&&t.ch<=s&&t.ch;return Hs(n.line,o?0:s)}return n}function cs(e,t,n){var i=e[0].level;return t==i||n!=i&&n>t}function us(e,t){oa=null;for(var n,i=0;i<e.length;++i){var r=e[i];if(r.from<t&&r.to>t)return i;if(r.from==t||r.to==t){if(null!=n)return cs(e,r.level,e[n].level)?(r.from!=r.to&&(oa=n),i):(r.from!=r.to&&(oa=i),n);n=i}}return n}function ds(e,t,n,i){if(!i)return t+n;do t+=n;while(t>0&&jr(e.text.charAt(t)));return t}function hs(e,t,n,i){var r=sr(e);if(!r)return fs(e,t,n,i);for(var s=us(r,t),o=r[s],a=ds(e,t,o.level%2?-n:n,i);;){if(a>o.from&&a<o.to)return a;if(a==o.from||a==o.to)return us(r,a)==s?a:(o=r[s+=n],n>0==o.level%2?o.to:o.from);if(o=r[s+=n],!o)return null;a=n>0==o.level%2?ds(e,o.to,-1,i):ds(e,o.from,1,i)}}function fs(e,t,n,i){var r=t+n;if(i)for(;r>0&&jr(e.text.charAt(r));)r+=n;
return 0>r||r>e.text.length?null:r}var ps=navigator.userAgent,ms=navigator.platform,gs=/gecko\/\d/i.test(ps),vs=/MSIE \d/.test(ps),bs=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ps),ys=vs||bs,Cs=ys&&(vs?document.documentMode||6:bs[1]),xs=/WebKit\//.test(ps),_s=xs&&/Qt\/\d+\.\d+/.test(ps),ws=/Chrome\//.test(ps),Ss=/Opera\//.test(ps),Ls=/Apple Computer/.test(navigator.vendor),ks=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ps),Ts=/PhantomJS/.test(ps),Es=/AppleWebKit/.test(ps)&&/Mobile\/\w+/.test(ps),Ns=Es||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ps),Ms=Es||/Mac/.test(ms),As=/win/i.test(ms),Is=Ss&&ps.match(/Version\/(\d*\.\d*)/);Is&&(Is=Number(Is[1])),Is&&Is>=15&&(Ss=!1,xs=!0);var Ds=Ms&&(_s||Ss&&(null==Is||12.11>Is)),Os=gs||ys&&Cs>=9,Ps=!1,Rs=!1;m.prototype=Br({update:function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?i+"px":"0";var r=e.viewHeight-(t?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=e.barLeft+"px";var s=e.viewWidth-e.barLeft-(n?i:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+s+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:t?i:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var e=Ms&&!ks?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Ar,this.disableVert=new Ar},enableZeroWidthBar:function(e,t){function n(){var i=e.getBoundingClientRect(),r=document.elementFromPoint(i.left+1,i.bottom-1);r!=e?e.style.pointerEvents="none":t.set(1e3,n)}e.style.pointerEvents="auto",t.set(1e3,n)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},m.prototype),g.prototype=Br({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},g.prototype),e.scrollbarModel={"native":m,"null":g},L.prototype.signal=function(e,t){Nr(e,t)&&this.events.push(arguments)},L.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Do.apply(null,this.events[e])};var Hs=e.Pos=function(e,t){return this instanceof Hs?(this.line=e,void(this.ch=t)):new Hs(e,t)},Bs=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},Ws=null;ie.prototype=Br({init:function(e){function t(e){if(i.somethingSelected())Ws=i.getSelections(),n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,s.value=Ws.join("\n"),Uo(s));else{if(!i.options.lineWiseCopyCut)return;var t=te(i);Ws=t.text,"cut"==e.type?i.setSelections(t.ranges,null,Ho):(n.prevInput="",s.value=t.text.join("\n"),Uo(s))}"cut"==e.type&&(i.state.cutIncoming=!0)}var n=this,i=this.cm,r=this.wrapper=re(),s=this.textarea=r.firstChild;e.wrapper.insertBefore(r,e.wrapper.firstChild),Es&&(s.style.width="0px"),Mo(s,"input",function(){ys&&Cs>=9&&n.hasSelection&&(n.hasSelection=null),n.poll()}),Mo(s,"paste",function(e){return!!J(e,i)||(i.state.pasteIncoming=!0,void n.fastPoll())}),Mo(s,"cut",t),Mo(s,"copy",t),Mo(e.scroller,"paste",function(t){$t(e,t)||(i.state.pasteIncoming=!0,n.focus())}),Mo(e.lineSpace,"selectstart",function(t){$t(e,t)||To(t)}),Mo(s,"compositionstart",function(){var e=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),Mo(s,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,n=e.doc,i=Re(e);if(e.options.moveInputWithCursor){var r=pt(e,n.sel.primary().head,"div"),s=t.wrapper.getBoundingClientRect(),o=t.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+o.top-s.top)),i.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+o.left-s.left))}return i},showSelection:function(e){var t=this.cm,n=t.display;Gr(n.cursorDiv,e.cursors),Gr(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,n,i=this.cm,r=i.doc;if(i.somethingSelected()){this.prevInput="";var s=r.sel.primary();t=ia&&(s.to().line-s.from().line>100||(n=i.getSelection()).length>1e3);var o=t?"-":n||i.getSelection();this.textarea.value=o,i.state.focused&&Uo(this.textarea),ys&&Cs>=9&&(this.hasSelection=o)}else e||(this.prevInput=this.textarea.value="",ys&&Cs>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Ns||$r()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){var i=n.poll();i||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},poll:function(){var e=this.cm,t=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||na(t)&&!n&&!this.composing||Z(e)||e.options.disableInput||e.state.keySeq)return!1;var i=t.value;if(i==n&&!e.somethingSelected())return!1;if(ys&&Cs>=9&&this.hasSelection===i||Ms&&/[\uf700-\uf7ff]/.test(i))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var r=i.charCodeAt(0);if(8203!=r||n||(n="​"),8666==r)return this.reset(),this.cm.execCommand("undo")}for(var s=0,o=Math.min(n.length,i.length);o>s&&n.charCodeAt(s)==i.charCodeAt(s);)++s;var a=this;return Mt(e,function(){Q(e,i.slice(s),n.length-s,null,a.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?t.value=a.prevInput="":a.prevInput=i,a.composing&&(a.composing.range.clear(),a.composing.range=e.markText(a.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){ys&&Cs>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function t(){if(null!=o.selectionStart){var e=r.somethingSelected(),t="​"+(e?o.value:"");o.value="⇚",o.value=t,i.prevInput=e?"":"​",o.selectionStart=1,o.selectionEnd=t.length,s.selForContextMenu=r.doc.sel}}function n(){if(i.contextMenuPending=!1,i.wrapper.style.position="relative",o.style.cssText=u,ys&&9>Cs&&s.scrollbars.setScrollTop(s.scroller.scrollTop=l),null!=o.selectionStart){(!ys||ys&&9>Cs)&&t();var e=0,n=function(){s.selForContextMenu==r.doc.sel&&0==o.selectionStart&&o.selectionEnd>0&&"​"==i.prevInput?At(r,co.selectAll)(r):e++<10?s.detectingSelectAll=setTimeout(n,500):s.input.reset()};s.detectingSelectAll=setTimeout(n,200)}}var i=this,r=i.cm,s=r.display,o=i.textarea,a=Vt(r,e),l=s.scroller.scrollTop;if(a&&!Ss){var c=r.options.resetSelectionOnContextMenu;c&&-1==r.doc.sel.contains(a)&&At(r,Te)(r.doc,pe(a),Ho);var u=o.style.cssText;if(i.wrapper.style.position="absolute",o.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: "+(ys?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",xs)var d=window.scrollY;if(s.input.focus(),xs&&window.scrollTo(null,d),s.input.reset(),r.somethingSelected()||(o.value=i.prevInput=" "),i.contextMenuPending=!0,s.selForContextMenu=r.doc.sel,clearTimeout(s.detectingSelectAll),ys&&Cs>=9&&t(),Os){No(e);var h=function(){Io(window,"mouseup",h),setTimeout(n,20)};Mo(window,"mouseup",h)}else setTimeout(n,50)}},readOnlyChanged:function(e){e||this.reset()},setUneditable:Rr,needsContentAttribute:!1},ie.prototype),se.prototype=Br({init:function(e){function t(e){if(i.somethingSelected())Ws=i.getSelections(),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=te(i);Ws=t.text,"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,Ho),i.replaceSelection("",null,"cut")})}if(e.clipboardData&&!Es)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",Ws.join("\n"));else{var n=re(),r=n.firstChild;i.display.lineSpace.insertBefore(n,i.display.lineSpace.firstChild),r.value=Ws.join("\n");var s=document.activeElement;Uo(r),setTimeout(function(){i.display.lineSpace.removeChild(n),s.focus()},50)}}var n=this,i=n.cm,r=n.div=e.lineDiv;ne(r),Mo(r,"paste",function(e){J(e,i)}),Mo(r,"compositionstart",function(e){var t=e.data;if(n.composing={sel:i.doc.sel,data:t,startData:t},t){var r=i.doc.sel.primary(),s=i.getLine(r.head.line),o=s.indexOf(t,Math.max(0,r.head.ch-t.length));o>-1&&o<=r.head.ch&&(n.composing.sel=pe(Hs(r.head.line,o),Hs(r.head.line,o+t.length)))}}),Mo(r,"compositionupdate",function(e){n.composing.data=e.data}),Mo(r,"compositionend",function(e){var t=n.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||n.applyComposition(t),n.composing==t&&(n.composing=null)},50))}),Mo(r,"touchstart",function(){n.forceCompositionEnd()}),Mo(r,"input",function(){n.composing||(Z(i)||!n.pollContent())&&Mt(n.cm,function(){Rt(i)})}),Mo(r,"copy",t),Mo(r,"cut",t)},prepareSelection:function(){var e=Re(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e){e&&this.cm.display.view.length&&(e.focus&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),n=le(this.cm,e.anchorNode,e.anchorOffset),i=le(this.cm,e.focusNode,e.focusOffset);if(!n||n.bad||!i||i.bad||0!=Bs(X(n,i),t.from())||0!=Bs(K(n,i),t.to())){var r=oe(this.cm,t.from()),s=oe(this.cm,t.to());if(r||s){var o=this.cm.display.view,a=e.rangeCount&&e.getRangeAt(0);if(r){if(!s){var l=o[o.length-1].measure,c=l.maps?l.maps[l.maps.length-1]:l.map;s={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else r={node:o[0].measure.map[2],offset:0};try{var u=qo(r.node,r.offset,s.offset,s.node)}catch(d){}u&&(e.removeAllRanges(),e.addRange(u),a&&null==e.anchorNode?e.addRange(a):gs&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){Gr(this.cm.display.cursorDiv,e.cursors),Gr(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Ko(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():Mt(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var n=le(t,e.anchorNode,e.anchorOffset),i=le(t,e.focusNode,e.focusOffset);n&&i&&Mt(t,function(){Te(t.doc,pe(n,i),Ho),(n.bad||i.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e=this.cm,t=e.display,n=e.doc.sel.primary(),i=n.from(),r=n.to();if(i.line<t.viewFrom||r.line>t.viewTo-1)return!1;var s;if(i.line==t.viewFrom||0==(s=Wt(e,i.line)))var o=nr(t.view[0].line),a=t.view[0].node;else var o=nr(t.view[s].line),a=t.view[s-1].node.nextSibling;var l=Wt(e,r.line);if(l==t.view.length-1)var c=t.viewTo-1,u=t.lineDiv.lastChild;else var c=nr(t.view[l+1].line)-1,u=t.view[l+1].node.previousSibling;for(var d=e.doc.splitLines(ue(e,a,u,o,c)),h=Ji(e.doc,Hs(o,0),Hs(c,Qi(e.doc,c).text.length));d.length>1&&h.length>1;)if(Dr(d)==Dr(h))d.pop(),h.pop(),c--;else{if(d[0]!=h[0])break;d.shift(),h.shift(),o++}for(var f=0,p=0,m=d[0],g=h[0],v=Math.min(m.length,g.length);v>f&&m.charCodeAt(f)==g.charCodeAt(f);)++f;for(var b=Dr(d),y=Dr(h),C=Math.min(b.length-(1==d.length?f:0),y.length-(1==h.length?f:0));C>p&&b.charCodeAt(b.length-p-1)==y.charCodeAt(y.length-p-1);)++p;d[d.length-1]=b.slice(0,b.length-p),d[0]=d[0].slice(f);var x=Hs(o,f),_=Hs(c,h.length?Dr(h).length-p:0);return d.length>1||d[0]||Bs(x,_)?(Dn(e.doc,d,x,_,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){Z(this.cm)?At(this.cm,Rt)(this.cm):e.data&&e.data!=e.startData&&At(this.cm,Q)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.contentEditable="false"},onKeyPress:function(e){e.preventDefault(),Z(this.cm)||At(this.cm,Q)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(e){this.div.contentEditable=String("nocursor"!=e)},onContextMenu:Rr,resetPosition:Rr,needsContentAttribute:!0},se.prototype),e.inputStyles={textarea:ie,contenteditable:se},de.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],i=e.ranges[t];if(0!=Bs(n.anchor,i.anchor)||0!=Bs(n.head,i.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new he(V(this.ranges[t].anchor),V(this.ranges[t].head));return new de(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(Bs(t,i.from())>=0&&Bs(e,i.to())<=0)return n}return-1}},he.prototype={from:function(){return X(this.anchor,this.head)},to:function(){return K(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Fs,zs,js,Us={left:0,right:0,top:0,bottom:0},qs=null,Gs=0,$s=0,Vs=0,Ks=null;ys?Ks=-.53:gs?Ks=15:ws?Ks=-.7:Ls&&(Ks=-1/3);var Xs=function(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}};e.wheelEventPixels=function(e){var t=Xs(e);return t.x*=Ks,t.y*=Ks,t};var Ys=new Ar,Zs=null,Qs=e.changeEnd=function(e){return e.text?Hs(e.from.line+e.text.length-1,Dr(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var n=this.options,i=n[e];(n[e]!=t||"mode"==e)&&(n[e]=t,eo.hasOwnProperty(e)&&At(this,eo[e])(this,t,i))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Kn(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:It(function(t,n){var i=t.token?t:e.getMode(this.options,t);if(i.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:i,modeSpec:t,opaque:n&&n.opaque}),this.state.modeGen++,Rt(this)}),removeOverlay:It(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var i=t[n].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return t.splice(n,1),this.state.modeGen++,void Rt(this)}}),indentLine:It(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),be(this.doc,e)&&zn(this,e,t,n)}),indentSelection:It(function(e){for(var t=this.doc.sel.ranges,n=-1,i=0;i<t.length;i++){var r=t[i];if(r.empty())r.head.line>n&&(zn(this,r.head.line,e,!0),n=r.head.line,i==this.doc.sel.primIndex&&Wn(this));else{var s=r.from(),o=r.to(),a=Math.max(n,s.line);n=Math.min(this.lastLine(),o.line-(o.ch?0:1))+1;for(var l=a;n>l;++l)zn(this,l,e);var c=this.doc.sel.ranges;0==s.ch&&t.length==c.length&&c[i].from().ch>0&&we(this.doc,i,new he(s,c[i].to()),Ho)}}}),getTokenAt:function(e,t){return Di(this,e,t)},getLineTokens:function(e,t){return Di(this,Hs(e),t,!0)},getTokenTypeAt:function(e){e=ge(this.doc,e);var t,n=Ri(this,Qi(this.doc,e.line)),i=0,r=(n.length-1)/2,s=e.ch;if(0==s)t=n[2];else for(;;){var o=i+r>>1;if((o?n[2*o-1]:0)>=s)r=o;else{if(!(n[2*o+1]<s)){t=n[2*o+2];break}i=o+1}}var a=t?t.indexOf("cm-overlay "):-1;return 0>a?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!oo.hasOwnProperty(t))return n;var i=oo[t],r=this.getModeAt(e);if("string"==typeof r[t])i[r[t]]&&n.push(i[r[t]]);else if(r[t])for(var s=0;s<r[t].length;s++){var o=i[r[t][s]];o&&n.push(o)}else r.helperType&&i[r.helperType]?n.push(i[r.helperType]):i[r.name]&&n.push(i[r.name]);for(var s=0;s<i._global.length;s++){var a=i._global[s];a.pred(r,this)&&-1==Or(n,a.val)&&n.push(a.val)}return n},getStateAfter:function(e,t){var n=this.doc;return e=me(n,null==e?n.first+n.size-1:e),Ue(this,e+1,t)},cursorCoords:function(e,t){var n,i=this.doc.sel.primary();return n=null==e?i.head:"object"==typeof e?ge(this.doc,e):e?i.from():i.to(),pt(this,n,t||"page")},charCoords:function(e,t){return ft(this,ge(this.doc,e),t||"page")},coordsChar:function(e,t){return e=ht(this,e,t||"page"),vt(this,e.left,e.top)},lineAtHeight:function(e,t){return e=ht(this,{top:e,left:0},t||"page").top,ir(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n,i=!1;if("number"==typeof e){var r=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>r&&(e=r,i=!0),n=Qi(this.doc,e)}else n=e;return dt(this,n,{top:0,left:0},t||"page").top+(i?this.doc.height-rr(n):0)},defaultTextHeight:function(){return yt(this.display)},defaultCharWidth:function(){return Ct(this.display)},setGutterMarker:It(function(e,t,n){return jn(this.doc,e,"gutter",function(e){var i=e.gutterMarkers||(e.gutterMarkers={});return i[t]=n,!n&&zr(i)&&(e.gutterMarkers=null),!0})}),clearGutter:It(function(e){var t=this,n=t.doc,i=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,Ht(t,i,"gutter"),zr(n.gutterMarkers)&&(n.gutterMarkers=null)),++i})}),lineInfo:function(e){if("number"==typeof e){if(!be(this.doc,e))return null;var t=e;if(e=Qi(this.doc,e),!e)return null}else{var t=nr(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,i,r){var s=this.display;e=pt(this,ge(this.doc,e));var o=e.bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),s.sizer.appendChild(t),"over"==i)o=e.top;else if("above"==i||"near"==i){var l=Math.max(s.wrapper.clientHeight,this.doc.height),c=Math.max(s.sizer.clientWidth,s.lineSpace.clientWidth);("above"==i||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?o=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(o=e.bottom),a+t.offsetWidth>c&&(a=c-t.offsetWidth)}t.style.top=o+"px",t.style.left=t.style.right="","right"==r?(a=s.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(s.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),n&&Rn(this,a,o,a+t.offsetWidth,o+t.offsetHeight)},triggerOnKeyDown:It(fn),triggerOnKeyPress:It(gn),triggerOnKeyUp:mn,execCommand:function(e){return co.hasOwnProperty(e)?co[e].call(null,this):void 0},triggerElectric:It(function(e){ee(this,e)}),findPosH:function(e,t,n,i){var r=1;0>t&&(r=-1,t=-t);for(var s=0,o=ge(this.doc,e);t>s&&(o=qn(this.doc,o,r,n,i),!o.hitSide);++s);return o},moveH:It(function(e,t){var n=this;n.extendSelectionsBy(function(i){return n.display.shift||n.doc.extend||i.empty()?qn(n.doc,i.head,e,t,n.options.rtlMoveVisually):0>e?i.from():i.to()},Wo)}),deleteH:It(function(e,t){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):Un(this,function(n){var r=qn(i,n.head,e,t,!1);return 0>e?{from:r,to:n.head}:{from:n.head,to:r}})}),findPosV:function(e,t,n,i){var r=1,s=i;0>t&&(r=-1,t=-t);for(var o=0,a=ge(this.doc,e);t>o;++o){var l=pt(this,a,"div");if(null==s?s=l.left:l.left=s,a=Gn(this,l,r,n),a.hitSide)break}return a},moveV:It(function(e,t){var n=this,i=this.doc,r=[],s=!n.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy(function(o){if(s)return 0>e?o.from():o.to();var a=pt(n,o.head,"div");null!=o.goalColumn&&(a.left=o.goalColumn),r.push(a.left);var l=Gn(n,a,e,t);return"page"==t&&o==i.sel.primary()&&Bn(n,null,ft(n,l,"div").top-a.top),l},Wo),r.length)for(var o=0;o<i.sel.ranges.length;o++)i.sel.ranges[o].goalColumn=r[o]}),findWordAt:function(e){var t=this.doc,n=Qi(t,e.line).text,i=e.ch,r=e.ch;if(n){var s=this.getHelper(e,"wordChars");(e.xRel<0||r==n.length)&&i?--i:++r;for(var o=n.charAt(i),a=Fr(o,s)?function(e){return Fr(e,s)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Fr(e)};i>0&&a(n.charAt(i-1));)--i;for(;r<n.length&&a(n.charAt(r));)++r}return new he(Hs(e.line,i),Hs(e.line,r))},toggleOverwrite:function(e){(null==e||e!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?Qo(this.display.cursorDiv,"CodeMirror-overwrite"):Zo(this.display.cursorDiv,"CodeMirror-overwrite"),Do(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==$r()},scrollTo:It(function(e,t){(null!=e||null!=t)&&Fn(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Ve(this)-this.display.barHeight,width:e.scrollWidth-Ve(this)-this.display.barWidth,clientHeight:Xe(this),clientWidth:Ke(this)}},scrollIntoView:It(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Hs(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Fn(this),this.curOp.scrollToPos=e;else{var n=Hn(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:It(function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var i=this;null!=e&&(i.display.wrapper.style.width=n(e)),null!=t&&(i.display.wrapper.style.height=n(t)),i.options.lineWrapping&&at(this);var r=i.display.viewFrom;i.doc.iter(r,i.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Ht(i,r,"widget");break}++r}),i.curOp.forceUpdate=!0,Do(i,"refresh",this)}),operation:function(e){return Mt(this,e)},refresh:It(function(){var e=this.display.cachedTextHeight;Rt(this),this.curOp.forceUpdate=!0,lt(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),u(this),(null==e||Math.abs(e-yt(this.display))>.5)&&o(this),Do(this,"refresh",this)}),swapDoc:It(function(e){var t=this.doc;return t.cm=null,Zi(this,e),lt(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Lr(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Mr(e);var Js=e.defaults={},eo=e.optionHandlers={},to=e.Init={toString:function(){return"CodeMirror.Init"}};$n("value","",function(e,t){e.setValue(t)},!0),$n("mode",null,function(e,t){e.doc.modeOption=t,n(e)},!0),$n("indentUnit",2,n,!0),$n("indentWithTabs",!1),$n("smartIndent",!0),$n("tabSize",4,function(e){i(e),lt(e),Rt(e)},!0),$n("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],i=e.doc.first;e.doc.iter(function(e){for(var r=0;;){var s=e.text.indexOf(t,r);if(-1==s)break;r=s+t.length,n.push(Hs(i,s))}i++});for(var r=n.length-1;r>=0;r--)Dn(e.doc,t,n[r],Hs(n[r].line,n[r].ch+t.length))}}),$n("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,n,i){t.state.specialChars=new RegExp(n.source+(n.test("\t")?"":"|\t"),"g"),i!=e.Init&&t.refresh()}),$n("specialCharPlaceholder",Fi,function(e){e.refresh()},!0),$n("electricChars",!0),$n("inputStyle",Ns?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),$n("rtlMoveVisually",!As),$n("wholeLineUpdateBefore",!0),$n("theme","default",function(e){a(e),l(e)},!0),$n("keyMap","default",function(t,n,i){var r=Kn(n),s=i!=e.Init&&Kn(i);s&&s.detach&&s.detach(t,r),r.attach&&r.attach(t,s||null)}),$n("extraKeys",null),$n("lineWrapping",!1,r,!0),$n("gutters",[],function(e){f(e.options),l(e)},!0),$n("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?S(e.display)+"px":"0",e.refresh()},!0),$n("coverGutterNextToScrollbar",!1,function(e){b(e)},!0),$n("scrollbarStyle","native",function(e){v(e),b(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),$n("lineNumbers",!1,function(e){f(e.options),l(e)},!0),$n("firstLineNumber",1,l,!0),$n("lineNumberFormatter",function(e){return e},l,!0),$n("showCursorWhenSelecting",!1,Pe,!0),$n("resetSelectionOnContextMenu",!0),$n("lineWiseCopyCut",!0),$n("readOnly",!1,function(e,t){"nocursor"==t?(yn(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),$n("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),$n("dragDrop",!0,qt),$n("allowDropFileTypes",null),$n("cursorBlinkRate",530),$n("cursorScrollMargin",0),$n("cursorHeight",1,Pe,!0),$n("singleCursorHeightPerLine",!0,Pe,!0),$n("workTime",100),$n("workDelay",100),$n("flattenSpans",!0,i,!0),$n("addModeClass",!1,i,!0),$n("pollInterval",100),$n("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),$n("historyEventDelay",1250),$n("viewportMargin",10,function(e){e.refresh()},!0),$n("maxHighlightLength",1e4,i,!0),$n("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),$n("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),$n("autofocus",null);var no=e.modes={},io=e.mimeModes={};e.defineMode=function(t,n){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),no[t]=n},e.defineMIME=function(e,t){io[e]=t},e.resolveMode=function(t){if("string"==typeof t&&io.hasOwnProperty(t))t=io[t];else if(t&&"string"==typeof t.name&&io.hasOwnProperty(t.name)){var n=io[t.name];"string"==typeof n&&(n={name:n}),t=Hr(n,t),t.name=n.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){var n=e.resolveMode(n),i=no[n.name];if(!i)return e.getMode(t,"text/plain");var r=i(t,n);if(ro.hasOwnProperty(n.name)){var s=ro[n.name];for(var o in s)s.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=s[o])}if(r.name=n.name,n.helperType&&(r.helperType=n.helperType),n.modeProps)for(var o in n.modeProps)r[o]=n.modeProps[o];return r},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var ro=e.modeExtensions={};e.extendMode=function(e,t){var n=ro.hasOwnProperty(e)?ro[e]:ro[e]={};Br(t,n)},e.defineExtension=function(t,n){e.prototype[t]=n},e.defineDocExtension=function(e,t){So.prototype[e]=t},e.defineOption=$n;var so=[];e.defineInitHook=function(e){so.push(e)};var oo=e.helpers={};e.registerHelper=function(t,n,i){oo.hasOwnProperty(t)||(oo[t]=e[t]={_global:[]}),oo[t][n]=i},e.registerGlobalHelper=function(t,n,i,r){e.registerHelper(t,n,r),oo[t]._global.push({pred:i,val:r})};var ao=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var i in t){var r=t[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n},lo=e.startState=function(e,t,n){return!e.startState||e.startState(t,n)};e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var co=e.commands={selectAll:function(e){e.setSelection(Hs(e.firstLine(),0),Hs(e.lastLine()),Ho)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Ho)},killLine:function(e){Un(e,function(t){if(t.empty()){var n=Qi(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:Hs(t.head.line+1,0)}:{from:t.head,to:Hs(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){Un(e,function(t){return{from:Hs(t.from().line,0),to:ge(e.doc,Hs(t.to().line+1,0))}})},delLineLeft:function(e){Un(e,function(e){return{from:Hs(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){Un(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return{from:i,to:t.from()}})},delWrappedLineRight:function(e){Un(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:i}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(Hs(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(Hs(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return os(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return ls(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return as(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Wo)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Wo)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return i.ch<e.getLine(i.line).search(/\S/)?ls(e,t.head):i},Wo)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page");
},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),i=e.options.tabSize,r=0;r<n.length;r++){var s=n[r].from(),o=Fo(e.getLine(s.line),s.ch,i);t.push(new Array(i-o%i+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){Mt(e,function(){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++){var r=t[i].head,s=Qi(e.doc,r.line).text;if(s)if(r.ch==s.length&&(r=new Hs(r.line,r.ch-1)),r.ch>0)r=new Hs(r.line,r.ch+1),e.replaceRange(s.charAt(r.ch-1)+s.charAt(r.ch-2),Hs(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){var o=Qi(e.doc,r.line-1).text;o&&e.replaceRange(s.charAt(0)+e.doc.lineSeparator()+o.charAt(o.length-1),Hs(r.line-1,o.length-1),Hs(r.line,1),"+transpose")}n.push(new he(r,r))}e.setSelections(n)})},newlineAndIndent:function(e){Mt(e,function(){for(var t=e.listSelections().length,n=0;t>n;n++){var i=e.listSelections()[n];e.replaceRange(e.doc.lineSeparator(),i.anchor,i.head,"+input"),e.indentLine(i.from().line+1,null,!0)}Wn(e)})},toggleOverwrite:function(e){e.toggleOverwrite()}},uo=e.keyMap={};uo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},uo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},uo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},uo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},uo["default"]=Ms?uo.macDefault:uo.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete e[n];continue}for(var r=Pr(n.split(" "),Vn),s=0;s<r.length;s++){var o,a;s==r.length-1?(a=r.join(" "),o=i):(a=r.slice(0,s+1).join(" "),o="...");var l=t[a];if(l){if(l!=o)throw new Error("Inconsistent bindings for "+a)}else t[a]=o}delete e[n]}for(var c in t)e[c]=t[c];return e};var ho=e.lookupKey=function(e,t,n,i){t=Kn(t);var r=t.call?t.call(e,i):t[e];if(r===!1)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return ho(e,t.fallthrough,n,i);for(var s=0;s<t.fallthrough.length;s++){var o=ho(e,t.fallthrough[s],n,i);if(o)return o}}},fo=e.isModifierKey=function(e){var t="string"==typeof e?e:sa[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},po=e.keyName=function(e,t){if(Ss&&34==e.keyCode&&e["char"])return!1;var n=sa[e.keyCode],i=n;return null!=i&&!e.altGraphKey&&(e.altKey&&"Alt"!=n&&(i="Alt-"+i),(Ds?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(i="Ctrl-"+i),(Ds?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(i="Cmd-"+i),!t&&e.shiftKey&&"Shift"!=n&&(i="Shift-"+i),i)};e.fromTextArea=function(t,n){function i(){t.value=c.getValue()}if(n=n?Br(n):{},n.value=t.value,!n.tabindex&&t.tabIndex&&(n.tabindex=t.tabIndex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var r=$r();n.autofocus=r==t||null!=t.getAttribute("autofocus")&&r==document.body}if(t.form&&(Mo(t.form,"submit",i),!n.leaveSubmitMethodAlone)){var s=t.form,o=s.submit;try{var a=s.submit=function(){i(),s.submit=o,s.submit(),s.submit=a}}catch(l){}}n.finishInit=function(e){e.save=i,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,i(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(Io(t.form,"submit",i),"function"==typeof t.form.submit&&(t.form.submit=o))}},t.style.display="none";var c=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return c};var mo=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};mo.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));return n?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Fo(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Fo(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Fo(this.string,null,this.tabSize)-(this.lineStart?Fo(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&t!==!1&&(this.pos+=i[0].length),i)}var r=function(e){return n?e.toLowerCase():e},s=this.string.substr(this.pos,e.length);return r(s)==r(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var go=0,vo=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++go};Mr(vo),vo.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&xt(e),Nr(this,"clear")){var n=this.find();n&&Lr(this,"clear",n.from,n.to)}for(var i=null,r=null,s=0;s<this.lines.length;++s){var o=this.lines[s],a=ti(o.markedSpans,this);e&&!this.collapsed?Ht(e,nr(o),"text"):e&&(null!=a.to&&(r=nr(o)),null!=a.from&&(i=nr(o))),o.markedSpans=ni(o.markedSpans,a),null==a.from&&this.collapsed&&!wi(this.doc,o)&&e&&tr(o,yt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var s=0;s<this.lines.length;++s){var l=yi(this.lines[s]),c=d(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=i&&e&&this.collapsed&&Rt(e,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Me(e.doc)),e&&Lr(e,"markerCleared",e,this),t&&wt(e),this.parent&&this.parent.clear()}},vo.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,i,r=0;r<this.lines.length;++r){var s=this.lines[r],o=ti(s.markedSpans,this);if(null!=o.from&&(n=Hs(t?s:nr(s),o.from),-1==e))return n;if(null!=o.to&&(i=Hs(t?s:nr(s),o.to),1==e))return i}return n&&{from:n,to:i}},vo.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&Mt(n,function(){var i=e.line,r=nr(e.line),s=et(n,r);if(s&&(ot(s),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!wi(t.doc,i)&&null!=t.height){var o=t.height;t.height=null;var a=ki(t)-o;a&&tr(i,i.height+a)}})},vo.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=Or(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},vo.prototype.detachLine=function(e){if(this.lines.splice(Or(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var go=0,bo=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};Mr(bo),bo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Lr(this,"clear")}},bo.prototype.find=function(e,t){return this.primary.find(e,t)};var yo=e.LineWidget=function(e,t,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=e,this.node=t};Mr(yo),yo.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,i=nr(n);if(null!=i&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(n.widgets=null);var s=ki(this);tr(n,Math.max(0,n.height-s)),e&&Mt(e,function(){Li(e,n,-s),Ht(e,i,"widget")})}},yo.prototype.changed=function(){var e=this.height,t=this.doc.cm,n=this.line;this.height=null;var i=ki(this)-e;i&&(tr(n,n.height+i),t&&Mt(t,function(){t.curOp.forceUpdate=!0,Li(t,n,i)}))};var Co=e.Line=function(e,t,n){this.text=e,di(this,t),this.height=n?n(this):1};Mr(Co),Co.prototype.lineNo=function(){return nr(this)};var xo={},_o={};Ki.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,i=e+t;i>n;++n){var r=this.lines[n];this.height-=r.height,Ni(r),Lr(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=this},iterN:function(e,t,n){for(var i=e+t;i>e;++e)if(n(this.lines[e]))return!0}},Xi.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(r>e){var s=Math.min(t,r-e),o=i.height;if(i.removeInner(e,s),this.height-=o-i.height,r==s&&(this.children.splice(n--,1),i.parent=null),0==(t-=s))break;e=0}else e-=r}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Ki))){var a=[];this.collapse(a),this.children=[new Ki(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],s=r.chunkSize();if(s>=e){if(r.insertInner(e,t,n),r.lines&&r.lines.length>50){for(;r.lines.length>50;){var o=r.lines.splice(r.lines.length-25,25),a=new Ki(o);r.height-=a.height,this.children.splice(i+1,0,a),a.parent=this}this.maybeSpill()}break}e-=s}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Xi(t);if(e.parent){e.size-=n.size,e.height-=n.height;var i=Or(e.parent.children,e);e.parent.children.splice(i+1,0,n)}else{var r=new Xi(e.children);r.parent=e,e.children=[r,n],e=r}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],s=r.chunkSize();if(s>e){var o=Math.min(t,s-e);if(r.iterN(e,o,n))return!0;if(0==(t-=o))break;e=0}else e-=s}}};var wo=0,So=e.Doc=function(e,t,n,i){if(!(this instanceof So))return new So(e,t,n,i);null==n&&(n=0),Xi.call(this,[new Ki([new Co("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var r=Hs(n,0);this.sel=pe(r),this.history=new or(null),this.id=++wo,this.modeOption=t,this.lineSep=i,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Vi(this,{from:r,to:r,text:e}),Te(this,pe(r),Ho)};So.prototype=Hr(Xi.prototype,{constructor:So,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,i=0;i<t.length;++i)n+=t[i].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=er(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:Dt(function(e){var t=Hs(this.first,0),n=this.first+this.size-1;Tn(this,{from:t,to:Hs(n,Qi(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),Te(this,pe(t))}),replaceRange:function(e,t,n,i){t=ge(this,t),n=n?ge(this,n):t,Dn(this,e,t,n,i)},getRange:function(e,t,n){var i=Ji(this,ge(this,e),ge(this,t));return n===!1?i:i.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return be(this,e)?Qi(this,e):void 0},getLineNumber:function(e){return nr(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Qi(this,e)),yi(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ge(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||e===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Dt(function(e,t,n){Se(this,ge(this,"number"==typeof e?Hs(e,t||0):e),null,n)}),setSelection:Dt(function(e,t,n){Se(this,ge(this,e),ge(this,t||e),n)}),extendSelection:Dt(function(e,t,n){xe(this,ge(this,e),t&&ge(this,t),n)}),extendSelections:Dt(function(e,t){_e(this,ye(this,e,t))}),extendSelectionsBy:Dt(function(e,t){_e(this,Pr(this.sel.ranges,e),t)}),setSelections:Dt(function(e,t,n){if(e.length){for(var i=0,r=[];i<e.length;i++)r[i]=new he(ge(this,e[i].anchor),ge(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Te(this,fe(r,t),n)}}),addSelection:Dt(function(e,t,n){var i=this.sel.ranges.slice(0);i.push(new he(ge(this,e),ge(this,t||e))),Te(this,fe(i,i.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,i=0;i<n.length;i++){var r=Ji(this,n[i].from(),n[i].to());t=t?t.concat(r):r}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=Ji(this,n[i].from(),n[i].to());e!==!1&&(r=r.join(e||this.lineSeparator())),t[i]=r}return t},replaceSelection:function(e,t,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=e;this.replaceSelections(i,t,n||"+input")},replaceSelections:Dt(function(e,t,n){for(var i=[],r=this.sel,s=0;s<r.ranges.length;s++){var o=r.ranges[s];i[s]={from:o.from(),to:o.to(),text:this.splitLines(e[s]),origin:n}}for(var a=t&&"end"!=t&&Ln(this,i,t),s=i.length-1;s>=0;s--)Tn(this,i[s]);a?ke(this,a):this.cm&&Wn(this.cm)}),undo:Dt(function(){Nn(this,"undo")}),redo:Dt(function(){Nn(this,"redo")}),undoSelection:Dt(function(){Nn(this,"undo",!0)}),redoSelection:Dt(function(){Nn(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new or(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:vr(this.history.done),undone:vr(this.history.undone)}},setHistory:function(e){var t=this.history=new or(this.history.maxGeneration);t.done=vr(e.done.slice(0),null,!0),t.undone=vr(e.undone.slice(0),null,!0)},addLineClass:Dt(function(e,t,n){return jn(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[i]){if(Vr(n).test(e[i]))return!1;e[i]+=" "+n}else e[i]=n;return!0})}),removeLineClass:Dt(function(e,t,n){return jn(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",r=e[i];if(!r)return!1;if(null==n)e[i]=null;else{var s=r.match(Vr(n));if(!s)return!1;var o=s.index+s[0].length;e[i]=r.slice(0,s.index)+(s.index&&o!=r.length?" ":"")+r.slice(o)||null}return!0})}),addLineWidget:Dt(function(e,t,n){return Ti(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Xn(this,ge(this,e),ge(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=ge(this,e),Xn(this,e,e,n,"bookmark")},findMarksAt:function(e){e=ge(this,e);var t=[],n=Qi(this,e.line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,n){e=ge(this,e),t=ge(this,t);var i=[],r=e.line;return this.iter(e.line,t.line+1,function(s){var o=s.markedSpans;if(o)for(var a=0;a<o.length;a++){var l=o[a];r==e.line&&e.ch>l.to||null==l.from&&r!=e.line||r==t.line&&l.from>t.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++r}),i},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&e.push(n[i].marker)}),e},posFromIndex:function(e){var t,n=this.first;return this.iter(function(i){var r=i.text.length+1;return r>e?(t=e,!0):(e-=r,void++n)}),ge(this,Hs(n,t))},indexFromPos:function(e){e=ge(this,e);var t=e.ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new So(er(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var i=new So(er(this,t,n),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Qn(i,Zn(this)),i},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){var i=this.linked[n];if(i.doc==t){this.linked.splice(n,1),t.unlinkDoc(this),Jn(Zn(this));break}}if(t.history==this.history){var r=[t.id];Yi(t,function(e){r.push(e.id)},!0),t.history=new or(null),t.history.done=vr(this.history.done,r),t.history.undone=vr(this.history.undone,r)}},iterLinkedDocs:function(e){Yi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):ta(e)},lineSeparator:function(){return this.lineSep||"\n"}}),So.prototype.eachLine=So.prototype.iter;var Lo="iter insert remove copy getEditor constructor".split(" ");for(var ko in So.prototype)So.prototype.hasOwnProperty(ko)&&Or(Lo,ko)<0&&(e.prototype[ko]=function(e){return function(){return e.apply(this.doc,arguments)}}(So.prototype[ko]));Mr(So);var To=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},Eo=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},No=e.e_stop=function(e){To(e),Eo(e)},Mo=e.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var i=e._handlers||(e._handlers={}),r=i[t]||(i[t]=[]);r.push(n)}},Ao=[],Io=e.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else for(var i=Sr(e,t,!1),r=0;r<i.length;++r)if(i[r]==n){i.splice(r,1);break}},Do=e.signal=function(e,t){var n=Sr(e,t,!0);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)},Oo=null,Po=30,Ro=e.Pass={toString:function(){return"CodeMirror.Pass"}},Ho={scroll:!1},Bo={origin:"*mouse"},Wo={origin:"+move"};Ar.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Fo=e.countColumn=function(e,t,n,i,r){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var s=i||0,o=r||0;;){var a=e.indexOf("\t",s);if(0>a||a>=t)return o+(t-s);o+=a-s,o+=n-o%n,s=a+1}},zo=e.findColumn=function(e,t,n){for(var i=0,r=0;;){var s=e.indexOf("\t",i);-1==s&&(s=e.length);var o=s-i;if(s==e.length||r+o>=t)return i+Math.min(o,t-r);if(r+=s-i,r+=n-r%n,i=s+1,r>=t)return i}},jo=[""],Uo=function(e){e.select()};Es?Uo=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:ys&&(Uo=function(e){try{e.select()}catch(t){}});var qo,Go=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,$o=e.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Go.test(e))},Vo=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;qo=document.createRange?function(e,t,n,i){var r=document.createRange();return r.setEnd(i||e,n),r.setStart(e,t),r}:function(e,t,n){var i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch(r){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i};var Ko=e.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)};ys&&11>Cs&&($r=function(){try{return document.activeElement}catch(e){return document.body}});var Xo,Yo,Zo=e.rmClass=function(e,t){var n=e.className,i=Vr(t).exec(n);if(i){var r=n.slice(i.index+i[0].length);e.className=n.slice(0,i.index)+(r?i[1]+r:"")}},Qo=e.addClass=function(e,t){var n=e.className;Vr(t).test(n)||(e.className+=(n?" ":"")+t)},Jo=!1,ea=function(){if(ys&&9>Cs)return!1;var e=Ur("div");return"draggable"in e||"dragDrop"in e}(),ta=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],i=e.length;i>=t;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var s=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),o=s.indexOf("\r");-1!=o?(n.push(s.slice(0,o)),t+=o+1):(n.push(s),t=r+1)}return n}:function(e){return e.split(/\r\n?|\n/)},na=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},ia=function(){var e=Ur("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),ra=null,sa=e.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var e=0;10>e;e++)sa[e+48]=sa[e+96]=String(e);for(var e=65;90>=e;e++)sa[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)sa[e+111]=sa[e+63235]="F"+e}();var oa,aa=function(){function e(e){return 247>=e?n.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1773>=e?i.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",i="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,s=/[stwN]/,o=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,c="L";return function(n){if(!r.test(n))return!1;for(var i,u=n.length,d=[],h=0;u>h;++h)d.push(i=e(n.charCodeAt(h)));for(var h=0,f=c;u>h;++h){var i=d[h];"m"==i?d[h]=f:f=i}for(var h=0,p=c;u>h;++h){var i=d[h];"1"==i&&"r"==p?d[h]="n":o.test(i)&&(p=i,"r"==i&&(d[h]="R"))}for(var h=1,f=d[0];u-1>h;++h){var i=d[h];"+"==i&&"1"==f&&"1"==d[h+1]?d[h]="1":","!=i||f!=d[h+1]||"1"!=f&&"n"!=f||(d[h]=f),f=i}for(var h=0;u>h;++h){var i=d[h];if(","==i)d[h]="N";else if("%"==i){for(var m=h+1;u>m&&"%"==d[m];++m);for(var g=h&&"!"==d[h-1]||u>m&&"1"==d[m]?"1":"N",v=h;m>v;++v)d[v]=g;h=m-1}}for(var h=0,p=c;u>h;++h){var i=d[h];"L"==p&&"1"==i?d[h]="L":o.test(i)&&(p=i)}for(var h=0;u>h;++h)if(s.test(d[h])){for(var m=h+1;u>m&&s.test(d[m]);++m);for(var b="L"==(h?d[h-1]:c),y="L"==(u>m?d[m]:c),g=b||y?"L":"R",v=h;m>v;++v)d[v]=g;h=m-1}for(var C,x=[],h=0;u>h;)if(a.test(d[h])){var _=h;for(++h;u>h&&a.test(d[h]);++h);x.push(new t(0,_,h))}else{var w=h,S=x.length;for(++h;u>h&&"L"!=d[h];++h);for(var v=w;h>v;)if(l.test(d[v])){v>w&&x.splice(S,0,new t(1,w,v));var L=v;for(++v;h>v&&l.test(d[v]);++v);x.splice(S,0,new t(2,L,v)),w=v}else++v;h>w&&x.splice(S,0,new t(1,w,h))}return 1==x[0].level&&(C=n.match(/^\s+/))&&(x[0].from=C[0].length,x.unshift(new t(0,0,C[0].length))),1==Dr(x).level&&(C=n.match(/\s+$/))&&(Dr(x).to-=C[0].length,x.push(new t(0,u-C[0].length,u))),2==x[0].level&&x.unshift(new t(1,x[0].to,x[0].to)),x[0].level!=Dr(x).level&&x.push(new t(x[0].level,u,u)),x}}();return e.version="5.9.1",e})},{}],8:[function(t,n,i){!function(r){"object"==typeof i&&"object"==typeof n?r(t("../../lib/codemirror"),t("../markdown/markdown"),t("../../addon/mode/overlay")):"function"==typeof e&&e.amd?e(["../../lib/codemirror","../markdown/markdown","../../addon/mode/overlay"],r):r(CodeMirror)}(function(e){"use strict";var t=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;e.defineMode("gfm",function(n,i){function r(e){return e.code=!1,null}var s=0,o={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(e){return{code:e.code,codeBlock:e.codeBlock,ateSpace:e.ateSpace}},token:function(e,n){if(n.combineTokens=null,n.codeBlock)return e.match(/^```+/)?(n.codeBlock=!1,null):(e.skipToEnd(),null);if(e.sol()&&(n.code=!1),e.sol()&&e.match(/^```+/))return e.skipToEnd(),n.codeBlock=!0,null;if("`"===e.peek()){e.next();var r=e.pos;e.eatWhile("`");var o=1+e.pos-r;return n.code?o===s&&(n.code=!1):(s=o,n.code=!0),null}if(n.code)return e.next(),null;if(e.eatSpace())return n.ateSpace=!0,null;if((e.sol()||n.ateSpace)&&(n.ateSpace=!1,i.gitHubSpice!==!1)){if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?:[a-f0-9]{7,40}\b)/))return n.combineTokens=!0,"link";if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return n.combineTokens=!0,"link"}return e.match(t)&&"]("!=e.string.slice(e.start-2,e.start)&&(0==e.start||/\W/.test(e.string.charAt(e.start-1)))?(n.combineTokens=!0,
"link"):(e.next(),null)},blankLine:r},a={underscoresBreakWords:!1,taskLists:!0,fencedCodeBlocks:"```",strikethrough:!0};for(var l in i)a[l]=i[l];return a.name="markdown",e.overlayMode(e.getMode(n,a),o)},"markdown"),e.defineMIME("text/x-gfm","gfm")})},{"../../addon/mode/overlay":6,"../../lib/codemirror":7,"../markdown/markdown":9}],9:[function(t,n,i){!function(r){"object"==typeof i&&"object"==typeof n?r(t("../../lib/codemirror"),t("../xml/xml"),t("../meta")):"function"==typeof e&&e.amd?e(["../../lib/codemirror","../xml/xml","../meta"],r):r(CodeMirror)}(function(e){"use strict";e.defineMode("markdown",function(t,n){function i(n){if(e.findModeByName){var i=e.findModeByName(n);i&&(n=i.mime||i.mimes[0])}var r=e.getMode(t,n);return"null"==r.name?null:r}function r(e,t,n){return t.f=t.inline=n,n(e,t)}function s(e,t,n){return t.f=t.block=n,n(e,t)}function o(e){return!e||!/\S/.test(e.string)}function a(e){return e.linkTitle=!1,e.em=!1,e.strong=!1,e.strikethrough=!1,e.quote=0,e.indentedCode=!1,_||e.f!=c||(e.f=p,e.block=l),e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.prevLine=e.thisLine,e.thisLine=null,null}function l(e,t){var s=e.sol(),a=t.list!==!1,l=t.indentedCode;t.indentedCode=!1,a&&(t.indentationDiff>=0?(t.indentationDiff<4&&(t.indentation-=t.indentationDiff),t.list=null):t.indentation>0?(t.list=null,t.listDepth=Math.floor(t.indentation/4)):(t.list=!1,t.listDepth=0));var c=null;if(t.indentationDiff>=4)return e.skipToEnd(),l||o(t.prevLine)?(t.indentation-=4,t.indentedCode=!0,L.code):null;if(e.eatSpace())return null;if((c=e.match(A))&&c[1].length<=6)return t.header=c[1].length,n.highlightFormatting&&(t.formatting="header"),t.f=t.inline,h(t);if(!(o(t.prevLine)||t.quote||a||l)&&(c=e.match(I)))return t.header="="==c[0].charAt(0)?1:2,n.highlightFormatting&&(t.formatting="header"),t.f=t.inline,h(t);if(e.eat(">"))return t.quote=s?1:t.quote+1,n.highlightFormatting&&(t.formatting="quote"),e.eatSpace(),h(t);if("["===e.peek())return r(e,t,b);if(e.match(T,!0))return t.hr=!0,L.hr;if((o(t.prevLine)||a)&&(e.match(E,!1)||e.match(N,!1))){var d=null;return e.match(E,!0)?d="ul":(e.match(N,!0),d="ol"),t.indentation=e.column()+e.current().length,t.list=!0,t.listDepth++,n.taskLists&&e.match(M,!1)&&(t.taskList=!0),t.f=t.inline,n.highlightFormatting&&(t.formatting=["list","list-"+d]),h(t)}return n.fencedCodeBlocks&&(c=e.match(O,!0))?(t.fencedChars=c[1],t.localMode=i(c[2]),t.localMode&&(t.localState=t.localMode.startState()),t.f=t.block=u,n.highlightFormatting&&(t.formatting="code-block"),t.code=!0,h(t)):r(e,t,t.inline)}function c(e,t){var n=w.token(e,t.htmlState);return(_&&null===t.htmlState.tagStart&&!t.htmlState.context&&t.htmlState.tokenize.isInText||t.md_inside&&e.current().indexOf(">")>-1)&&(t.f=p,t.block=l,t.htmlState=null),n}function u(e,t){return e.sol()&&t.fencedChars&&e.match(t.fencedChars,!1)?(t.localMode=t.localState=null,t.f=t.block=d,null):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),L.code)}function d(e,t){e.match(t.fencedChars),t.block=l,t.f=p,t.fencedChars=null,n.highlightFormatting&&(t.formatting="code-block"),t.code=!0;var i=h(t);return t.code=!1,i}function h(e){var t=[];if(e.formatting){t.push(L.formatting),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var i=0;i<e.formatting.length;i++)t.push(L.formatting+"-"+e.formatting[i]),"header"===e.formatting[i]&&t.push(L.formatting+"-"+e.formatting[i]+"-"+e.header),"quote"===e.formatting[i]&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(L.formatting+"-"+e.formatting[i]+"-"+e.quote):t.push("error"))}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref?t.push(L.linkHref,"url"):(e.strong&&t.push(L.strong),e.em&&t.push(L.em),e.strikethrough&&t.push(L.strikethrough),e.linkText&&t.push(L.linkText),e.code&&t.push(L.code)),e.header&&t.push(L.header,L.header+"-"+e.header),e.quote&&(t.push(L.quote),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(L.quote+"-"+e.quote):t.push(L.quote+"-"+n.maxBlockquoteDepth)),e.list!==!1){var r=(e.listDepth-1)%3;r?1===r?t.push(L.list2):t.push(L.list3):t.push(L.list1)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function f(e,t){return e.match(D,!0)?h(t):void 0}function p(t,i){var r=i.text(t,i);if("undefined"!=typeof r)return r;if(i.list)return i.list=null,h(i);if(i.taskList){var o="x"!==t.match(M,!0)[1];return o?i.taskOpen=!0:i.taskClosed=!0,n.highlightFormatting&&(i.formatting="task"),i.taskList=!1,h(i)}if(i.taskOpen=!1,i.taskClosed=!1,i.header&&t.match(/^#+$/,!0))return n.highlightFormatting&&(i.formatting="header"),h(i);var a=t.sol(),l=t.next();if("\\"===l&&(t.next(),n.highlightFormatting)){var u=h(i),d=L.formatting+"-escape";return u?u+" "+d:d}if(i.linkTitle){i.linkTitle=!1;var f=l;"("===l&&(f=")"),f=(f+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var p="^\\s*(?:[^"+f+"\\\\]+|\\\\\\\\|\\\\.)"+f;if(t.match(new RegExp(p),!0))return L.linkHref}if("`"===l){var v=i.formatting;n.highlightFormatting&&(i.formatting="code");var b=h(i),y=t.pos;t.eatWhile("`");var C=1+t.pos-y;return i.code?C===S?(i.code=!1,b):(i.formatting=v,h(i)):(S=C,i.code=!0,h(i))}if(i.code)return h(i);if("!"===l&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return t.match(/\[[^\]]*\]/),i.inline=i.f=g,L.image;if("["===l&&t.match(/.*\](\(.*\)| ?\[.*\])/,!1))return i.linkText=!0,n.highlightFormatting&&(i.formatting="link"),h(i);if("]"===l&&i.linkText&&t.match(/\(.*\)| ?\[.*\]/,!1)){n.highlightFormatting&&(i.formatting="link");var u=h(i);return i.linkText=!1,i.inline=i.f=g,u}if("<"===l&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){i.f=i.inline=m,n.highlightFormatting&&(i.formatting="link");var u=h(i);return u?u+=" ":u="",u+L.linkInline}if("<"===l&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){i.f=i.inline=m,n.highlightFormatting&&(i.formatting="link");var u=h(i);return u?u+=" ":u="",u+L.linkEmail}if("<"===l&&t.match(/^(!--|\w)/,!1)){var x=t.string.indexOf(">",t.pos);if(-1!=x){var _=t.string.substring(t.start,x);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(_)&&(i.md_inside=!0)}return t.backUp(1),i.htmlState=e.startState(w),s(t,i,c)}if("<"===l&&t.match(/^\/\w*?>/))return i.md_inside=!1,"tag";var k=!1;if(!n.underscoresBreakWords&&"_"===l&&"_"!==t.peek()&&t.match(/(\w)/,!1)){var T=t.pos-2;if(T>=0){var E=t.string.charAt(T);"_"!==E&&E.match(/(\w)/,!1)&&(k=!0)}}if("*"===l||"_"===l&&!k)if(a&&" "===t.peek());else{if(i.strong===l&&t.eat(l)){n.highlightFormatting&&(i.formatting="strong");var b=h(i);return i.strong=!1,b}if(!i.strong&&t.eat(l))return i.strong=l,n.highlightFormatting&&(i.formatting="strong"),h(i);if(i.em===l){n.highlightFormatting&&(i.formatting="em");var b=h(i);return i.em=!1,b}if(!i.em)return i.em=l,n.highlightFormatting&&(i.formatting="em"),h(i)}else if(" "===l&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return h(i);t.backUp(1)}if(n.strikethrough)if("~"===l&&t.eatWhile(l)){if(i.strikethrough){n.highlightFormatting&&(i.formatting="strikethrough");var b=h(i);return i.strikethrough=!1,b}if(t.match(/^[^\s]/,!1))return i.strikethrough=!0,n.highlightFormatting&&(i.formatting="strikethrough"),h(i)}else if(" "===l&&t.match(/^~~/,!0)){if(" "===t.peek())return h(i);t.backUp(2)}return" "===l&&(t.match(/ +$/,!1)?i.trailingSpace++:i.trailingSpace&&(i.trailingSpaceNewLine=!0)),h(i)}function m(e,t){var i=e.next();if(">"===i){t.f=t.inline=p,n.highlightFormatting&&(t.formatting="link");var r=h(t);return r?r+=" ":r="",r+L.linkInline}return e.match(/^[^>]+/,!0),L.linkInline}function g(e,t){if(e.eatSpace())return null;var i=e.next();return"("===i||"["===i?(t.f=t.inline=v("("===i?")":"]"),n.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,h(t)):"error"}function v(e){return function(t,i){var r=t.next();if(r===e){i.f=i.inline=p,n.highlightFormatting&&(i.formatting="link-string");var s=h(i);return i.linkHref=!1,s}return t.match(x(e),!0)&&t.backUp(1),i.linkHref=!0,h(i)}}function b(e,t){return e.match(/^[^\]]*\]:/,!1)?(t.f=y,e.next(),n.highlightFormatting&&(t.formatting="link"),t.linkText=!0,h(t)):r(e,t,p)}function y(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=C,n.highlightFormatting&&(t.formatting="link");var i=h(t);return t.linkText=!1,i}return e.match(/^[^\]]+/,!0),L.linkText}function C(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=p,L.linkHref+" url")}function x(e){return P[e]||(e=(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),P[e]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+e+")")),P[e]}var _=e.modes.hasOwnProperty("xml"),w=e.getMode(t,_?{name:"xml",htmlMode:!0}:"text/plain");void 0===n.highlightFormatting&&(n.highlightFormatting=!1),void 0===n.maxBlockquoteDepth&&(n.maxBlockquoteDepth=0),void 0===n.underscoresBreakWords&&(n.underscoresBreakWords=!0),void 0===n.taskLists&&(n.taskLists=!1),void 0===n.strikethrough&&(n.strikethrough=!1),void 0===n.tokenTypeOverrides&&(n.tokenTypeOverrides={});var S=0,L={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"tag",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough"};for(var k in L)L.hasOwnProperty(k)&&n.tokenTypeOverrides[k]&&(L[k]=n.tokenTypeOverrides[k]);var T=/^([*\-_])(?:\s*\1){2,}\s*$/,E=/^[*\-+]\s+/,N=/^[0-9]+([.)])\s+/,M=/^\[(x| )\](?=\s)/,A=n.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,I=/^ *(?:\={1,}|-{1,})\s*$/,D=/^[^#!\[\]*_\\<>` "'(~]+/,O=new RegExp("^("+(n.fencedCodeBlocks===!0?"~~~+|```+":n.fencedCodeBlocks)+")[ \\t]*([\\w+#]*)"),P=[],R={startState:function(){return{f:l,prevLine:null,thisLine:null,block:l,htmlState:null,indentation:0,inline:p,text:f,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,em:!1,strong:!1,header:0,hr:!1,taskList:!1,list:!1,listDepth:0,quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,fencedChars:null}},copyState:function(t){return{f:t.f,prevLine:t.prevLine,thisLine:t.thisLine,block:t.block,htmlState:t.htmlState&&e.copyState(w,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkTitle:t.linkTitle,code:t.code,em:t.em,strong:t.strong,strikethrough:t.strikethrough,header:t.header,hr:t.hr,taskList:t.taskList,list:t.list,listDepth:t.listDepth,quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside,fencedChars:t.fencedChars}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine){var n=t.header||t.hr;if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0)||n){if(a(t),!n)return null;t.prevLine=null}t.prevLine=t.thisLine,t.thisLine=e,t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.f=t.block;var i=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length,r=4*Math.floor((i-t.indentation)/4);r>4&&(r=4);var s=t.indentation+r;if(t.indentationDiff=s-t.indentation,t.indentation=s,i>0)return null}return t.f(e,t)},innerMode:function(e){return e.block==c?{state:e.htmlState,mode:w}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:R}},blankLine:a,getType:h,fold:"markdown"};return R},"xml"),e.defineMIME("text/x-markdown","markdown")})},{"../../lib/codemirror":7,"../meta":10,"../xml/xml":11}],10:[function(t,n,i){!function(r){"object"==typeof i&&"object"==typeof n?r(t("../lib/codemirror")):"function"==typeof e&&e.amd?e(["../lib/codemirror"],r):r(CodeMirror)}(function(e){"use strict";e.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["pgp"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mime:"text/x-coffeescript",mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy"]},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Jade",mime:"text/x-jade",mode:"jade",ext:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps"},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mime:"text/n-triples",mode:"ntriples",ext:["nt"]},{name:"Objective C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mime:"application/x-httpd-php",mode:"php",ext:["php","php3","php4","php5","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["py","pyw"]},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mime:"text/x-sh",mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"MariaDB",mime:"text/x-mariadb",mode:"sql"},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"YAML",mime:"text/x-yaml",mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var t=0;t<e.modeInfo.length;t++){var n=e.modeInfo[t];n.mimes&&(n.mime=n.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.mime==t)return i;if(i.mimes)for(var r=0;r<i.mimes.length;r++)if(i.mimes[r]==t)return i}},e.findModeByExtension=function(t){for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.ext)for(var r=0;r<i.ext.length;r++)if(i.ext[r]==t)return i}},e.findModeByFileName=function(t){for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.file&&i.file.test(t))return i}var r=t.lastIndexOf("."),s=r>-1&&t.substring(r+1,t.length);return s?e.findModeByExtension(s):void 0},e.findModeByName=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.name.toLowerCase()==t)return i;if(i.alias)for(var r=0;r<i.alias.length;r++)if(i.alias[r].toLowerCase()==t)return i}}})},{"../lib/codemirror":7}],11:[function(t,n,i){!function(r){"object"==typeof i&&"object"==typeof n?r(t("../../lib/codemirror")):"function"==typeof e&&e.amd?e(["../../lib/codemirror"],r):r(CodeMirror)}(function(e){"use strict";e.defineMode("xml",function(t,n){function i(e,t){function n(n){return t.tokenize=n,n(e,t)}var i=e.next();if("<"==i)return e.eat("!")?e.eat("[")?e.match("CDATA[")?n(o("atom","]]>")):null:e.match("--")?n(o("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(a(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=o("meta","?>"),"meta"):(w=e.eat("/")?"closeTag":"openTag",t.tokenize=r,"tag bracket");if("&"==i){var s;return s=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),s?"atom":"error"}return e.eatWhile(/[^&<]/),null}function r(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=i,w=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return w="equals",null;if("<"==n){t.tokenize=i,t.state=d,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=s(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function s(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=r;break}return"string"};return t.isInAttribute=!0,t}function o(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=i;break}n.next()}return e}}function a(e){return function(t,n){for(var r;null!=(r=t.next());){if("<"==r)return n.tokenize=a(e+1),n.tokenize(t,n);if(">"==r){if(1==e){n.tokenize=i;break}return n.tokenize=a(e-1),n.tokenize(t,n)}}return"meta"}}function l(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(L.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function c(e){e.context&&(e.context=e.context.prev)}function u(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!L.contextGrabbers.hasOwnProperty(n)||!L.contextGrabbers[n].hasOwnProperty(t))return;c(e)}}function d(e,t,n){return"openTag"==e?(n.tagStart=t.column(),h):"closeTag"==e?f:d}function h(e,t,n){return"word"==e?(n.tagName=t.current(),S="tag",g):(S="error",h)}function f(e,t,n){if("word"==e){var i=t.current();return n.context&&n.context.tagName!=i&&L.implicitlyClosed.hasOwnProperty(n.context.tagName)&&c(n),n.context&&n.context.tagName==i?(S="tag",p):(S="tag error",m)}return S="error",m}function p(e,t,n){return"endTag"!=e?(S="error",p):(c(n),d)}function m(e,t,n){return S="error",p(e,t,n)}function g(e,t,n){if("word"==e)return S="attribute",v;if("endTag"==e||"selfcloseTag"==e){var i=n.tagName,r=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||L.autoSelfClosers.hasOwnProperty(i)?u(n,i):(u(n,i),n.context=new l(n,i,r==n.indented)),d}return S="error",g}function v(e,t,n){return"equals"==e?b:(L.allowMissing||(S="error"),g(e,t,n))}function b(e,t,n){return"string"==e?y:"word"==e&&L.allowUnquoted?(S="string",g):(S="error",g(e,t,n))}function y(e,t,n){return"string"==e?y:g(e,t,n)}var C=t.indentUnit,x=n.multilineTagIndentFactor||1,_=n.multilineTagIndentPastTag;null==_&&(_=!0);var w,S,L=n.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},k=n.alignCDATA;return i.isInText=!0,{startState:function(){return{tokenize:i,state:d,indented:0,tagName:null,tagStart:null,context:null}},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;w=null;var n=t.tokenize(e,t);return(n||w)&&"comment"!=n&&(S=null,t.state=t.state(w||n,e,t),S&&(n="error"==S?n+" error":S)),n},indent:function(t,n,s){var o=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+C;if(o&&o.noIndent)return e.Pass;if(t.tokenize!=r&&t.tokenize!=i)return s?s.match(/^(\s*)/)[0].length:0;if(t.tagName)return _?t.tagStart+t.tagName.length+2:t.tagStart+C*x;if(k&&/<!\[CDATA\[/.test(n))return 0;var a=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(a&&a[1])for(;o;){if(o.tagName==a[2]){o=o.prev;break}if(!L.implicitlyClosed.hasOwnProperty(o.tagName))break;o=o.prev}else if(a)for(;o;){var l=L.contextGrabbers[o.tagName];if(!l||!l.hasOwnProperty(a[2]))break;o=o.prev}for(;o&&!o.startOfLine;)o=o.prev;return o?o.indent+C:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:n.htmlMode?"html":"xml",helperType:n.htmlMode?"html":"xml"}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})})},{"../../lib/codemirror":7}],12:[function(t,n,i){(function(t){(function(){function t(e){this.tokens=[],this.tokens.links={},this.options=e||h.defaults,this.rules=f.normal,this.options.gfm&&(this.options.tables?this.rules=f.tables:this.rules=f.gfm)}function r(e,t){if(this.options=t||h.defaults,this.links=e,this.rules=p.normal,this.renderer=this.options.renderer||new s,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=p.breaks:this.rules=p.gfm:this.options.pedantic&&(this.rules=p.pedantic)}function s(e){this.options=e||{}}function o(e){this.tokens=[],this.token=null,this.options=e||h.defaults,this.options.renderer=this.options.renderer||new s,this.renderer=this.options.renderer,this.renderer.options=this.options}function a(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function l(e){return e.replace(/&([#\w]+);/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function c(e,t){return e=e.source,t=t||"",function n(i,r){return i?(r=r.source||r,r=r.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(i,r),n):new RegExp(e,t)}}function u(){}function d(e){for(var t,n,i=1;i<arguments.length;i++){t=arguments[i];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function h(e,n,i){if(i||"function"==typeof n){i||(i=n,n=null),n=d({},h.defaults,n||{});var r,s,l=n.highlight,c=0;try{r=t.lex(e,n)}catch(u){return i(u)}s=r.length;var f=function(e){if(e)return n.highlight=l,i(e);var t;try{t=o.parse(r,n)}catch(s){e=s}return n.highlight=l,e?i(e):i(null,t)};if(!l||l.length<3)return f();if(delete n.highlight,!s)return f();for(;c<r.length;c++)!function(e){return"code"!==e.type?--s||f():l(e.text,e.lang,function(t,n){return t?f(t):null==n||n===e.text?--s||f():(e.text=n,e.escaped=!0,void(--s||f()))})}(r[c])}else try{return n&&(n=d({},h.defaults,n)),o.parse(t.lex(e,n),n)}catch(u){if(u.message+="\nPlease report this to https://github.com/chjj/marked.",(n||h.defaults).silent)return"<p>An error occured:</p><pre>"+a(u.message+"",!0)+"</pre>";throw u}}var f={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:u,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:u,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:u,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};f.bullet=/(?:[*+-]|\d+\.)/,f.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,f.item=c(f.item,"gm")(/bull/g,f.bullet)(),f.list=c(f.list)(/bull/g,f.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+f.def.source+")")(),f.blockquote=c(f.blockquote)("def",f.def)(),f._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",f.html=c(f.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,f._tag)(),f.paragraph=c(f.paragraph)("hr",f.hr)("heading",f.heading)("lheading",f.lheading)("blockquote",f.blockquote)("tag","<"+f._tag)("def",f.def)(),f.normal=d({},f),f.gfm=d({},f.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),f.gfm.paragraph=c(f.paragraph)("(?!","(?!"+f.gfm.fences.source.replace("\\1","\\2")+"|"+f.list.source.replace("\\1","\\3")+"|")(),f.tables=d({},f.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),t.rules=f,t.lex=function(e,n){var i=new t(n);return i.lex(e)},t.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0);
},t.prototype.token=function(e,t,n){for(var i,r,s,o,a,l,c,u,d,e=e.replace(/^ +$/gm,"");e;)if((s=this.rules.newline.exec(e))&&(e=e.substring(s[0].length),s[0].length>1&&this.tokens.push({type:"space"})),s=this.rules.code.exec(e))e=e.substring(s[0].length),s=s[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?s:s.replace(/\n+$/,"")});else if(s=this.rules.fences.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"code",lang:s[2],text:s[3]||""});else if(s=this.rules.heading.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"heading",depth:s[1].length,text:s[2]});else if(t&&(s=this.rules.nptable.exec(e))){for(e=e.substring(s[0].length),l={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/\n$/,"").split("\n")},u=0;u<l.align.length;u++)/^ *-+: *$/.test(l.align[u])?l.align[u]="right":/^ *:-+: *$/.test(l.align[u])?l.align[u]="center":/^ *:-+ *$/.test(l.align[u])?l.align[u]="left":l.align[u]=null;for(u=0;u<l.cells.length;u++)l.cells[u]=l.cells[u].split(/ *\| */);this.tokens.push(l)}else if(s=this.rules.lheading.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"heading",depth:"="===s[2]?1:2,text:s[1]});else if(s=this.rules.hr.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"hr"});else if(s=this.rules.blockquote.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"blockquote_start"}),s=s[0].replace(/^ *> ?/gm,""),this.token(s,t,!0),this.tokens.push({type:"blockquote_end"});else if(s=this.rules.list.exec(e)){for(e=e.substring(s[0].length),o=s[2],this.tokens.push({type:"list_start",ordered:o.length>1}),s=s[0].match(this.rules.item),i=!1,d=s.length,u=0;d>u;u++)l=s[u],c=l.length,l=l.replace(/^ *([*+-]|\d+\.) +/,""),~l.indexOf("\n ")&&(c-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+c+"}","gm"),"")),this.options.smartLists&&u!==d-1&&(a=f.bullet.exec(s[u+1])[0],o===a||o.length>1&&a.length>1||(e=s.slice(u+1).join("\n")+e,u=d-1)),r=i||/\n\n(?!\s*$)/.test(l),u!==d-1&&(i="\n"===l.charAt(l.length-1),r||(r=i)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(l,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(s=this.rules.html.exec(e))e=e.substring(s[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===s[1]||"script"===s[1]||"style"===s[1]),text:s[0]});else if(!n&&t&&(s=this.rules.def.exec(e)))e=e.substring(s[0].length),this.tokens.links[s[1].toLowerCase()]={href:s[2],title:s[3]};else if(t&&(s=this.rules.table.exec(e))){for(e=e.substring(s[0].length),l={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/(?: *\| *)?\n$/,"").split("\n")},u=0;u<l.align.length;u++)/^ *-+: *$/.test(l.align[u])?l.align[u]="right":/^ *:-+: *$/.test(l.align[u])?l.align[u]="center":/^ *:-+ *$/.test(l.align[u])?l.align[u]="left":l.align[u]=null;for(u=0;u<l.cells.length;u++)l.cells[u]=l.cells[u].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(t&&(s=this.rules.paragraph.exec(e)))e=e.substring(s[0].length),this.tokens.push({type:"paragraph",text:"\n"===s[1].charAt(s[1].length-1)?s[1].slice(0,-1):s[1]});else if(s=this.rules.text.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"text",text:s[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var p={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:u,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:u,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};p._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,p._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,p.link=c(p.link)("inside",p._inside)("href",p._href)(),p.reflink=c(p.reflink)("inside",p._inside)(),p.normal=d({},p),p.pedantic=d({},p.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),p.gfm=d({},p.normal,{escape:c(p.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:c(p.text)("]|","~]|")("|","|https?://|")()}),p.breaks=d({},p.gfm,{br:c(p.br)("{2,}","*")(),text:c(p.gfm.text)("{2,}","*")()}),r.rules=p,r.output=function(e,t,n){var i=new r(t,n);return i.output(e)},r.prototype.output=function(e){for(var t,n,i,r,s="";e;)if(r=this.rules.escape.exec(e))e=e.substring(r[0].length),s+=r[1];else if(r=this.rules.autolink.exec(e))e=e.substring(r[0].length),"@"===r[2]?(n=":"===r[1].charAt(6)?this.mangle(r[1].substring(7)):this.mangle(r[1]),i=this.mangle("mailto:")+n):(n=a(r[1]),i=n),s+=this.renderer.link(i,null,n);else if(this.inLink||!(r=this.rules.url.exec(e))){if(r=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(r[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(r[0])&&(this.inLink=!1),e=e.substring(r[0].length),s+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):a(r[0]):r[0];else if(r=this.rules.link.exec(e))e=e.substring(r[0].length),this.inLink=!0,s+=this.outputLink(r,{href:r[2],title:r[3]}),this.inLink=!1;else if((r=this.rules.reflink.exec(e))||(r=this.rules.nolink.exec(e))){if(e=e.substring(r[0].length),t=(r[2]||r[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){s+=r[0].charAt(0),e=r[0].substring(1)+e;continue}this.inLink=!0,s+=this.outputLink(r,t),this.inLink=!1}else if(r=this.rules.strong.exec(e))e=e.substring(r[0].length),s+=this.renderer.strong(this.output(r[2]||r[1]));else if(r=this.rules.em.exec(e))e=e.substring(r[0].length),s+=this.renderer.em(this.output(r[2]||r[1]));else if(r=this.rules.code.exec(e))e=e.substring(r[0].length),s+=this.renderer.codespan(a(r[2],!0));else if(r=this.rules.br.exec(e))e=e.substring(r[0].length),s+=this.renderer.br();else if(r=this.rules.del.exec(e))e=e.substring(r[0].length),s+=this.renderer.del(this.output(r[1]));else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),s+=this.renderer.text(a(this.smartypants(r[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(r[0].length),n=a(r[1]),i=n,s+=this.renderer.link(i,null,n);return s},r.prototype.outputLink=function(e,t){var n=a(t.href),i=t.title?a(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,i,this.output(e[1])):this.renderer.image(n,i,a(e[1]))},r.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},r.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",i=e.length,r=0;i>r;r++)t=e.charCodeAt(r),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},s.prototype.code=function(e,t,n){if(this.options.highlight){var i=this.options.highlight(e,t);null!=i&&i!==e&&(n=!0,e=i)}return t?'<pre><code class="'+this.options.langPrefix+a(t,!0)+'">'+(n?e:a(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:a(e,!0))+"\n</code></pre>"},s.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},s.prototype.html=function(e){return e},s.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},s.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},s.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},s.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},s.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},s.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},s.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},s.prototype.tablecell=function(e,t){var n=t.header?"th":"td",i=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return i+e+"</"+n+">\n"},s.prototype.strong=function(e){return"<strong>"+e+"</strong>"},s.prototype.em=function(e){return"<em>"+e+"</em>"},s.prototype.codespan=function(e){return"<code>"+e+"</code>"},s.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},s.prototype.del=function(e){return"<del>"+e+"</del>"},s.prototype.link=function(e,t,n){if(this.options.sanitize){try{var i=decodeURIComponent(l(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(r){return""}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:"))return""}var s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+n+"</a>"},s.prototype.image=function(e,t,n){var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+=this.options.xhtml?"/>":">"},s.prototype.text=function(e){return e},o.parse=function(e,t,n){var i=new o(t,n);return i.parse(e)},o.prototype.parse=function(e){this.inline=new r(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},o.prototype.next=function(){return this.token=this.tokens.pop()},o.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},o.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},o.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,i,r,s="",o="";for(n="",e=0;e<this.token.header.length;e++)i={header:!0,align:this.token.align[e]},n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(s+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});o+=this.renderer.tablerow(n)}return this.renderer.table(s,o);case"blockquote_start":for(var o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":for(var o="",a=this.token.ordered;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,a);case"list_item_start":for(var o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(var o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},u.exec=u,h.options=h.setOptions=function(e){return d(h.defaults,e),h},h.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new s,xhtml:!1},h.Parser=o,h.parser=o.parse,h.Renderer=s,h.Lexer=t,h.lexer=t.lex,h.InlineLexer=r,h.inlineLexer=r.output,h.parse=h,"undefined"!=typeof n&&"object"==typeof i?n.exports=h:"function"==typeof e&&e.amd?e(function(){return h}):this.marked=h}).call(function(){return this||("undefined"!=typeof window?window:t)}())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(e,t,n){var i=e("codemirror");i.commands.tabAndIndentMarkdownList=function(e){var t=e.listSelections(),n=t[0].head,i=e.getStateAfter(n.line),r=i.list!==!1;if(r)return void e.execCommand("indentMore");if(e.options.indentWithTabs)e.execCommand("insertTab");else{var s=Array(e.options.tabSize+1).join(" ");e.replaceSelection(s)}},i.commands.shiftTabAndUnindentMarkdownList=function(e){var t=e.listSelections(),n=t[0].head,i=e.getStateAfter(n.line),r=i.list!==!1;if(r)return void e.execCommand("indentLess");if(e.options.indentWithTabs)e.execCommand("insertTab");else{var s=Array(e.options.tabSize+1).join(" ");e.replaceSelection(s)}}},{codemirror:7}],14:[function(e,t,n){"use strict";function i(e){return e=z?e.replace("Ctrl","Cmd"):e.replace("Cmd","Ctrl")}function r(e,t,n){e=e||{};var i=document.createElement("a");return t=void 0==t||t,e.title&&t&&(i.title=o(e.title,e.action,n),z&&(i.title=i.title.replace("Ctrl","⌘"),i.title=i.title.replace("Alt","⌥"))),i.tabIndex=-1,i.className=e.className,i}function s(){var e=document.createElement("i");return e.className="separator",e.innerHTML="|",e}function o(e,t,n){var r,s=e;return t&&(r=q(t),n[r]&&(s+=" ("+i(n[r])+")")),s}function a(e,t){t=t||e.getCursor("start");var n=e.getTokenAt(t);if(!n.type)return{};for(var i,r,s=n.type.split(" "),o={},a=0;a<s.length;a++)i=s[a],"strong"===i?o.bold=!0:"variable-2"===i?(r=e.getLine(t.line),/^\s*\d+\.\s/.test(r)?o["ordered-list"]=!0:o["unordered-list"]=!0):"atom"===i?o.quote=!0:"em"===i?o.italic=!0:"quote"===i?o.quote=!0:"strikethrough"===i?o.strikethrough=!0:"comment"===i?o.code=!0:"link"===i?o.link=!0:"tag"===i?o.image=!0:i.match(/^header(\-[1-6])?$/)&&(o[i.replace("header","heading")]=!0);return o}function l(e){var t=e.codemirror;t.setOption("fullScreen",!t.getOption("fullScreen")),t.getOption("fullScreen")?($=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=$;var n=t.getWrapperElement();/fullscreen/.test(n.previousSibling.className)?n.previousSibling.className=n.previousSibling.className.replace(/\s*fullscreen\b/,""):n.previousSibling.className+=" fullscreen";var i=e.toolbarElements.fullscreen;/active/.test(i.className)?i.className=i.className.replace(/\s*active\s*/g,""):i.className+=" active";var r=t.getWrapperElement().nextSibling;/editor-preview-active-side/.test(r.className)&&E(e)}function c(e){D(e,"bold",e.options.blockStyles.bold)}function u(e){D(e,"italic",e.options.blockStyles.italic)}function d(e){D(e,"strikethrough","~~")}function h(e){D(e,"code","```\r\n","\r\n```")}function f(e){var t=e.codemirror;I(t,"quote")}function p(e){var t=e.codemirror;A(t,"smaller")}function m(e){var t=e.codemirror;A(t,"bigger")}function g(e){var t=e.codemirror;A(t,void 0,1)}function v(e){var t=e.codemirror;A(t,void 0,2)}function b(e){var t=e.codemirror;A(t,void 0,3)}function y(e){var t=e.codemirror;I(t,"unordered-list")}function C(e){var t=e.codemirror;I(t,"ordered-list")}function x(e){var t=e.codemirror;O(t)}function _(e){var t=e.codemirror,n=a(t),i=e.options;M(t,n.link,i.insertTexts.link)}function w(e){var t=e.codemirror,n=a(t),i=e.options;M(t,n.image,i.insertTexts.image)}function S(e){var t=e.codemirror,n=a(t),i=e.options;M(t,n.table,i.insertTexts.table)}function L(e){var t=e.codemirror,n=a(t),i=e.options;M(t,n.image,i.insertTexts.horizontalRule)}function k(e){var t=e.codemirror;t.undo(),t.focus()}function T(e){var t=e.codemirror;t.redo(),t.focus()}function E(e){var t=e.codemirror,n=t.getWrapperElement(),i=n.nextSibling,r=e.toolbarElements["side-by-side"],s=!1;/editor-preview-active-side/.test(i.className)?(i.className=i.className.replace(/\s*editor-preview-active-side\s*/g,""),r.className=r.className.replace(/\s*active\s*/g,""),n.className=n.className.replace(/\s*CodeMirror-sided\s*/g," ")):(setTimeout(function(){t.getOption("fullScreen")||l(e),i.className+=" editor-preview-active-side"},1),r.className+=" active",n.className+=" CodeMirror-sided",s=!0);var o=n.lastChild;if(/editor-preview-active/.test(o.className)){o.className=o.className.replace(/\s*editor-preview-active\s*/g,"");var a=e.toolbarElements.preview,c=n.previousSibling;a.className=a.className.replace(/\s*active\s*/g,""),c.className=c.className.replace(/\s*disabled-for-preview*/g,"")}var u=function(){i.innerHTML=e.options.previewRender(e.value(),i)};t.sideBySideRenderingFunction||(t.sideBySideRenderingFunction=u),s?(i.innerHTML=e.options.previewRender(e.value(),i),t.on("update",t.sideBySideRenderingFunction)):t.off("update",t.sideBySideRenderingFunction)}function N(e){var t=e.codemirror,n=t.getWrapperElement(),i=n.previousSibling,r=e.toolbarElements.preview,s=n.lastChild;s&&/editor-preview/.test(s.className)||(s=document.createElement("div"),s.className="editor-preview",n.appendChild(s)),/editor-preview-active/.test(s.className)?(s.className=s.className.replace(/\s*editor-preview-active\s*/g,""),r.className=r.className.replace(/\s*active\s*/g,""),i.className=i.className.replace(/\s*disabled-for-preview*/g,"")):(setTimeout(function(){s.className+=" editor-preview-active"},1),r.className+=" active",i.className+=" disabled-for-preview"),s.innerHTML=e.options.previewRender(e.value(),s);var o=t.getWrapperElement().nextSibling;/editor-preview-active-side/.test(o.className)&&E(e)}function M(e,t,n){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){var i,r=n[0],s=n[1],o=e.getCursor("start"),a=e.getCursor("end");t?(i=e.getLine(o.line),r=i.slice(0,o.ch),s=i.slice(o.ch),e.replaceRange(r+s,{line:o.line,ch:0})):(i=e.getSelection(),e.replaceSelection(r+i+s),o.ch+=r.length,o!==a&&(a.ch+=r.length)),e.setSelection(o,a),e.focus()}}function A(e,t,n){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){for(var i=e.getCursor("start"),r=e.getCursor("end"),s=i.line;s<=r.line;s++)!function(i){var r=e.getLine(i),s=r.search(/[^#]/);r=void 0!==t?0>=s?"bigger"==t?"###### "+r:"# "+r:6==s&&"smaller"==t?r.substr(7):1==s&&"bigger"==t?r.substr(2):"bigger"==t?r.substr(1):"#"+r:1==n?0>=s?"# "+r:s==n?r.substr(s+1):"# "+r.substr(s+1):2==n?0>=s?"## "+r:s==n?r.substr(s+1):"## "+r.substr(s+1):0>=s?"### "+r:s==n?r.substr(s+1):"### "+r.substr(s+1),e.replaceRange(r,{line:i,ch:0},{line:i,ch:99999999999999})}(s);e.focus()}}function I(e,t){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){for(var n=a(e),i=e.getCursor("start"),r=e.getCursor("end"),s={quote:/^(\s*)\>\s+/,"unordered-list":/^(\s*)(\*|\-|\+)\s+/,"ordered-list":/^(\s*)\d+\.\s+/},o={quote:"> ","unordered-list":"* ","ordered-list":"1. "},l=i.line;l<=r.line;l++)!function(i){var r=e.getLine(i);r=n[t]?r.replace(s[t],"$1"):o[t]+r,e.replaceRange(r,{line:i,ch:0},{line:i,ch:99999999999999})}(l);e.focus()}}function D(e,t,n,i){if(!/editor-preview-active/.test(e.codemirror.getWrapperElement().lastChild.className)){i="undefined"==typeof i?n:i;var r,s=e.codemirror,o=a(s),l=n,c=i,u=s.getCursor("start"),d=s.getCursor("end");o[t]?(r=s.getLine(u.line),l=r.slice(0,u.ch),c=r.slice(u.ch),"bold"==t?(l=l.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),c=c.replace(/(\*\*|__)/,"")):"italic"==t?(l=l.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),c=c.replace(/(\*|_)/,"")):"strikethrough"==t&&(l=l.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),c=c.replace(/(\*\*|~~)/,"")),s.replaceRange(l+c,{line:u.line,ch:0},{line:u.line,ch:99999999999999}),"bold"==t||"strikethrough"==t?(u.ch-=2,u!==d&&(d.ch-=2)):"italic"==t&&(u.ch-=1,u!==d&&(d.ch-=1))):(r=s.getSelection(),"bold"==t?(r=r.split("**").join(""),r=r.split("__").join("")):"italic"==t?(r=r.split("*").join(""),r=r.split("_").join("")):"strikethrough"==t&&(r=r.split("~~").join("")),s.replaceSelection(l+r+c),u.ch+=n.length,d.ch=u.ch+r.length),s.setSelection(u,d),s.focus()}}function O(e){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className))for(var t,n=e.getCursor("start"),i=e.getCursor("end"),r=n.line;r<=i.line;r++)t=e.getLine(r),t=t.replace(/^[ ]*([# ]+|\*|\-|[> ]+|[0-9]+(.|\)))[ ]*/,""),e.replaceRange(t,{line:r,ch:0},{line:r,ch:99999999999999})}function P(e,t){for(var n in t)t.hasOwnProperty(n)&&(t[n]instanceof Array?e[n]=t[n].concat(e[n]instanceof Array?e[n]:[]):null!==t[n]&&"object"==typeof t[n]&&t[n].constructor===Object?e[n]=P(e[n]||{},t[n]):e[n]=t[n]);return e}function R(e){for(var t=1;t<arguments.length;t++)e=P(e,arguments[t]);return e}function H(e){var t=/[a-zA-Z0-9_\u0392-\u03c9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,n=e.match(t),i=0;if(null===n)return i;for(var r=0;r<n.length;r++)i+=n[r].charCodeAt(0)>=19968?n[r].length:1;return i}function B(e){e=e||{},e.parent=this;var t=!0;if(e.autoDownloadFontAwesome===!1&&(t=!1),e.autoDownloadFontAwesome!==!0)for(var n=document.styleSheets,i=0;i<n.length;i++)n[i].href&&n[i].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(t=!1);if(t){var r=document.createElement("link");r.rel="stylesheet",r.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(r)}if(e.element)this.element=e.element;else if(null===e.element)return void console.log("SimpleMDE: Error. No element was found.");if(void 0===e.toolbar){e.toolbar=[];for(var s in V)V.hasOwnProperty(s)&&(-1!=s.indexOf("separator-")&&e.toolbar.push("|"),(V[s]["default"]===!0||e.showIcons&&e.showIcons.constructor===Array&&-1!=e.showIcons.indexOf(s))&&e.toolbar.push(s))}e.hasOwnProperty("status")||(e.status=["autosave","lines","words","cursor"]),e.previewRender||(e.previewRender=function(e){return this.parent.markdown(e)}),e.parsingConfig=e.parsingConfig||{},e.insertTexts=R({},K,e.insertTexts||{}),e.blockStyles=R({},X,e.blockStyles||{}),e.shortcuts=R({},U,e.shortcuts||{}),void 0!=e.autosave&&void 0!=e.autosave.unique_id&&""!=e.autosave.unique_id&&(e.autosave.uniqueId=e.autosave.unique_id),this.options=e,this.render(),!e.initialValue||this.options.autosave&&this.options.autosave.foundSavedValue===!0||this.value(e.initialValue)}var W=e("codemirror");e("codemirror/addon/edit/continuelist.js"),e("./codemirror/tablist"),e("codemirror/addon/display/fullscreen.js"),e("codemirror/mode/markdown/markdown.js"),e("codemirror/addon/mode/overlay.js"),e("codemirror/addon/display/placeholder.js"),e("codemirror/mode/gfm/gfm.js"),e("codemirror/mode/xml/xml.js"),e("spell-checker");var F=e("marked"),z=/Mac/.test(navigator.platform),j={toggleBold:c,toggleItalic:u,drawLink:_,toggleHeadingSmaller:p,toggleHeadingBigger:m,drawImage:w,toggleBlockquote:f,toggleOrderedList:C,toggleUnorderedList:y,toggleCodeBlock:h,togglePreview:N,toggleStrikethrough:d,toggleHeading1:g,toggleHeading2:v,toggleHeading3:b,cleanBlock:x,drawTable:S,drawHorizontalRule:L,undo:k,redo:T,toggleSideBySide:E,toggleFullScreen:l},U={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},q=function(e){for(var t in j)if(j[t]===e)return t;return null},G=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},$="",V={bold:{name:"bold",action:c,className:"fa fa-bold",title:"Bold","default":!0},italic:{name:"italic",action:u,className:"fa fa-italic",title:"Italic","default":!0},strikethrough:{name:"strikethrough",action:d,className:"fa fa-strikethrough",title:"Strikethrough"},heading:{name:"heading",action:p,className:"fa fa-header",title:"Heading","default":!0},"heading-smaller":{name:"heading-smaller",action:p,className:"fa fa-header fa-header-x fa-header-smaller",title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:m,className:"fa fa-header fa-header-x fa-header-bigger",title:"Bigger Heading"},"heading-1":{name:"heading-1",action:g,className:"fa fa-header fa-header-x fa-header-1",title:"Big Heading"},"heading-2":{name:"heading-2",action:v,className:"fa fa-header fa-header-x fa-header-2",title:"Medium Heading"},"heading-3":{name:"heading-3",action:b,className:"fa fa-header fa-header-x fa-header-3",title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:h,className:"fa fa-code",title:"Code"},quote:{name:"quote",action:f,className:"fa fa-quote-left",title:"Quote","default":!0},"unordered-list":{name:"unordered-list",action:y,className:"fa fa-list-ul",title:"Generic List","default":!0},"ordered-list":{name:"ordered-list",action:C,className:"fa fa-list-ol",title:"Numbered List","default":!0},"clean-block":{name:"clean-block",action:x,className:"fa fa-eraser fa-clean-block",title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:_,className:"fa fa-link",title:"Create Link","default":!0},image:{name:"image",action:w,className:"fa fa-picture-o",title:"Insert Image","default":!0},table:{name:"table",action:S,className:"fa fa-table",title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:L,className:"fa fa-minus",title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:N,className:"fa fa-eye no-disable",title:"Toggle Preview","default":!0},"side-by-side":{name:"side-by-side",action:E,className:"fa fa-columns no-disable no-mobile",title:"Toggle Side by Side","default":!0},fullscreen:{name:"fullscreen",action:l,className:"fa fa-arrows-alt no-disable no-mobile",title:"Toggle Fullscreen","default":!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"http://nextstepwebs.github.io/simplemde-markdown-editor/markdown-guide",className:"fa fa-question-circle",title:"Markdown Guide","default":!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:k,className:"fa fa-undo no-disable",title:"Undo"},redo:{name:"redo",action:T,className:"fa fa-repeat no-disable",title:"Redo"}},K={link:["[","](http://)"],image:["![](http://",")"],table:["","\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text     | Text     |\n\n"],horizontalRule:["","\n\n-----\n\n"]},X={bold:"**",italic:"*"};B.prototype.markdown=function(e){if(F){var t={};return this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks!==!1&&(t.breaks=!0),this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0&&window.hljs&&(t.highlight=function(e){return window.hljs.highlightAuto(e).value}),F.setOptions(t),F(e)}},B.prototype.render=function(e){if(e||(e=this.element||document.getElementsByTagName("textarea")[0]),!this._rendered||this._rendered!==e){this.element=e;var t=this.options,n=this,r={};for(var s in t.shortcuts)null!==t.shortcuts[s]&&null!==j[s]&&!function(e){r[i(t.shortcuts[e])]=function(){j[e](n)}}(s);r.Enter="newlineAndIndentContinueMarkdownList",r.Tab="tabAndIndentMarkdownList",r["Shift-Tab"]="shiftTabAndUnindentMarkdownList",r.Esc=function(e){e.getOption("fullScreen")&&l(n)},document.addEventListener("keydown",function(e){e=e||window.event,27==e.keyCode&&n.codemirror.getOption("fullScreen")&&l(n)},!1);var o,a;t.spellChecker!==!1?(o="spell-checker",a=t.parsingConfig,a.name="gfm",a.gitHubSpice=!1):(o=t.parsingConfig,o.name="gfm",o.gitHubSpice=!1),this.codemirror=W.fromTextArea(e,{mode:o,backdrop:a,theme:"paper",tabSize:void 0!=t.tabSize?t.tabSize:2,indentUnit:void 0!=t.tabSize?t.tabSize:2,indentWithTabs:t.indentWithTabs!==!1,lineNumbers:!1,autofocus:t.autofocus===!0,extraKeys:r,lineWrapping:t.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:t.placeholder||e.getAttribute("placeholder")||""}),t.toolbar!==!1&&this.createToolbar(),t.status!==!1&&this.createStatusbar(),void 0!=t.autosave&&t.autosave.enabled===!0&&this.autosave(),this.createSideBySide(),this._rendered=this.element}},B.prototype.autosave=function(){if(localStorage){var e=this;if(void 0==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("SimpleMDE: You must set a uniqueId to use the autosave feature");null!=e.element.form&&void 0!=e.element.form&&e.element.form.addEventListener("submit",function(){localStorage.removeItem("smde_"+e.options.autosave.uniqueId)}),this.options.autosave.loaded!==!0&&("string"==typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&""!=localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0),localStorage.setItem("smde_"+this.options.autosave.uniqueId,e.value());var t=document.getElementById("autosaved");if(null!=t&&void 0!=t&&""!=t){var n=new Date,i=n.getHours(),r=n.getMinutes(),s="am",o=i;o>=12&&(o=i-12,s="pm"),0==o&&(o=12),r=10>r?"0"+r:r,t.innerHTML="Autosaved: "+o+":"+r+" "+s}setTimeout(function(){e.autosave()},this.options.autosave.delay||1e4)}else console.log("SimpleMDE: localStorage not available, cannot autosave")},B.prototype.clearAutosavedValue=function(){if(localStorage){if(void 0==this.options.autosave||void 0==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("SimpleMDE: You must set a uniqueId to clear the autosave value");localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("SimpleMDE: localStorage not available, cannot autosave")},B.prototype.createSideBySide=function(){var e=this.codemirror,t=e.getWrapperElement(),n=t.nextSibling;n&&/editor-preview-side/.test(n.className)||(n=document.createElement("div"),n.className="editor-preview-side",t.parentNode.insertBefore(n,t.nextSibling));var i=!1,r=!1;return e.on("scroll",function(e){if(i)return void(i=!1);r=!0;var t=e.getScrollInfo().height-e.getScrollInfo().clientHeight,s=parseFloat(e.getScrollInfo().top)/t,o=(n.scrollHeight-n.clientHeight)*s;n.scrollTop=o}),n.onscroll=function(){if(r)return void(r=!1);i=!0;var t=n.scrollHeight-n.clientHeight,s=parseFloat(n.scrollTop)/t,o=(e.getScrollInfo().height-e.getScrollInfo().clientHeight)*s;e.scrollTo(0,o)},!0},B.prototype.createToolbar=function(e){if(e=e||this.options.toolbar,e&&0!==e.length){var t;for(t=0;t<e.length;t++)void 0!=V[e[t]]&&(e[t]=V[e[t]]);
var n=document.createElement("div");n.className="editor-toolbar";var i=this,o={};for(i.toolbar=e,t=0;t<e.length;t++)if(("guide"!=e[t].name||i.options.toolbarGuideIcon!==!1)&&!(i.options.hideIcons&&-1!=i.options.hideIcons.indexOf(e[t].name)||("fullscreen"==e[t].name||"side-by-side"==e[t].name)&&G())){if("|"===e[t]){for(var l=!1,c=t+1;c<e.length;c++)"|"!==e[c]&&(l=!0);if(!l)continue}!function(e){var t;t="|"===e?s():r(e,i.options.toolbarTips,i.options.shortcuts),e.action&&("function"==typeof e.action?t.onclick=function(){e.action(i)}:"string"==typeof e.action&&(t.href=e.action,t.target="_blank")),o[e.name||e]=t,n.appendChild(t)}(e[t])}i.toolbarElements=o;var u=this.codemirror;u.on("cursorActivity",function(){var e=a(u);for(var t in o)!function(t){var n=o[t];e[t]?n.className+=" active":"fullscreen"!=t&&"side-by-side"!=t&&(n.className=n.className.replace(/\s*active\s*/g,""))}(t)});var d=u.getWrapperElement();return d.parentNode.insertBefore(n,d),n}},B.prototype.createStatusbar=function(e){e=e||this.options.status;var t=this.options,n=this.codemirror;if(e&&0!==e.length){var i,r,s,o=[];for(i=0;i<e.length;i++)if(r=void 0,s=void 0,"object"==typeof e[i])o.push({className:e[i].className,defaultValue:e[i].defaultValue,onUpdate:e[i].onUpdate});else{var a=e[i];"words"===a?(s=function(e){e.innerHTML="0"},r=function(e){e.innerHTML=H(n.getValue())}):"lines"===a?(s=function(e){e.innerHTML="0"},r=function(e){e.innerHTML=n.lineCount()}):"cursor"===a?(s=function(e){e.innerHTML="0:0"},r=function(e){var t=n.getCursor();e.innerHTML=t.line+":"+t.ch}):"autosave"===a&&(s=function(e){void 0!=t.autosave&&t.autosave.enabled===!0&&e.setAttribute("id","autosaved")}),o.push({className:a,defaultValue:s,onUpdate:r})}var l=document.createElement("div");for(l.className="editor-statusbar",i=0;i<o.length;i++){var c=o[i],u=document.createElement("span");u.className=c.className,"function"==typeof c.defaultValue&&c.defaultValue(u),"function"==typeof c.onUpdate&&this.codemirror.on("update",function(e,t){return function(){t.onUpdate(e)}}(u,c)),l.appendChild(u)}var d=this.codemirror.getWrapperElement();return d.parentNode.insertBefore(l,d.nextSibling),l}},B.prototype.value=function(e){return void 0===e?this.codemirror.getValue():(this.codemirror.getDoc().setValue(e),this)},B.toggleBold=c,B.toggleItalic=u,B.toggleStrikethrough=d,B.toggleBlockquote=f,B.toggleHeadingSmaller=p,B.toggleHeadingBigger=m,B.toggleHeading1=g,B.toggleHeading2=v,B.toggleHeading3=b,B.toggleCodeBlock=h,B.toggleUnorderedList=y,B.toggleOrderedList=C,B.cleanBlock=x,B.drawLink=_,B.drawImage=w,B.drawTable=S,B.drawHorizontalRule=L,B.undo=k,B.redo=T,B.togglePreview=N,B.toggleSideBySide=E,B.toggleFullScreen=l,B.prototype.toggleBold=function(){c(this)},B.prototype.toggleItalic=function(){u(this)},B.prototype.toggleStrikethrough=function(){d(this)},B.prototype.toggleBlockquote=function(){f(this)},B.prototype.toggleHeadingSmaller=function(){p(this)},B.prototype.toggleHeadingBigger=function(){m(this)},B.prototype.toggleHeading1=function(){g(this)},B.prototype.toggleHeading2=function(){v(this)},B.prototype.toggleHeading3=function(){b(this)},B.prototype.toggleCodeBlock=function(){h(this)},B.prototype.toggleUnorderedList=function(){y(this)},B.prototype.toggleOrderedList=function(){C(this)},B.prototype.cleanBlock=function(){x(this)},B.prototype.drawLink=function(){_(this)},B.prototype.drawImage=function(){w(this)},B.prototype.drawTable=function(){S(this)},B.prototype.drawHorizontalRule=function(){L(this)},B.prototype.undo=function(){k(this)},B.prototype.redo=function(){T(this)},B.prototype.togglePreview=function(){N(this)},B.prototype.toggleSideBySide=function(){E(this)},B.prototype.toggleFullScreen=function(){l(this)},B.prototype.isPreviewActive=function(){var e=this.codemirror,t=e.getWrapperElement(),n=t.lastChild;return/editor-preview-active/.test(n.className)},B.prototype.isSideBySideActive=function(){var e=this.codemirror,t=e.getWrapperElement(),n=t.nextSibling;return/editor-preview-active-side/.test(n.className)},B.prototype.isFullscreenActive=function(){var e=this.codemirror;return e.getOption("fullScreen")},B.prototype.getState=function(){var e=this.codemirror;return a(e)},t.exports=B},{"./codemirror/tablist":13,codemirror:7,"codemirror/addon/display/fullscreen.js":3,"codemirror/addon/display/placeholder.js":4,"codemirror/addon/edit/continuelist.js":5,"codemirror/addon/mode/overlay.js":6,"codemirror/mode/gfm/gfm.js":8,"codemirror/mode/markdown/markdown.js":9,"codemirror/mode/xml/xml.js":11,marked:12,"spell-checker":1}]},{},[14])(14)}),function(e){"use strict";var t={prefilled:null,CapitalizeFirstLetter:!1,preventSubmitOnEnter:!0,isClearInputOnEsc:!0,externalTagId:!1,prefillIdFieldName:"Id",prefillValueFieldName:"Value",AjaxPush:null,AjaxPushAllTags:null,AjaxPushParameters:null,delimiters:[9,13,44],backspace:[8],maxTags:0,hiddenTagListName:null,hiddenTagListId:null,replace:!0,output:null,deleteTagsOnBackspace:!0,tagsContainer:null,tagCloseIcon:"x",tagClass:"",validator:null,onlyTagList:!1,tagList:null,fillInputOnTagRemove:!1},n={pushTag:function(t,n,r){var s,o,a,l,c,u,d,h,f,p,m,g,v=e(this),b=v.data("opts"),y=v.data("tlis"),C=v.data("tlid");if(t=i.trimTag(t,b.delimiterChars),t&&!(t.length<=0)){if(b.onlyTagList&&void 0!==b.tagList&&b.tagList){var x=b.tagList;e.each(x,function(e,t){x[e]=t.toLowerCase()});var _=e.inArray(t.toLowerCase(),x);if(-1===_)return}if(b.CapitalizeFirstLetter&&t.length>1&&(t=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()),b.validator&&!b.validator(t))return void v.trigger("tm:invalid",t);if(!(b.maxTags>0&&y.length>=b.maxTags)){if(s=!1,o=jQuery.map(y,function(e){return e.toLowerCase()}),c=e.inArray(t.toLowerCase(),o),-1!==c&&(s=!0),s)if(v.trigger("tm:duplicated",t),b.blinkClass)for(var w=0;w<6;++w)e("#"+v.data("tm_rndid")+"_"+C[c]).queue(function(t){e(this).toggleClass(b.blinkClass),t()}).delay(100);else e("#"+v.data("tm_rndid")+"_"+C[c]).stop().animate({backgroundColor:b.blinkBGColor_1},100).animate({backgroundColor:b.blinkBGColor_2},100).animate({backgroundColor:b.blinkBGColor_1},100).animate({backgroundColor:b.blinkBGColor_2},100).animate({backgroundColor:b.blinkBGColor_1},100).animate({backgroundColor:b.blinkBGColor_2},100);else{b.externalTagId===!0?(void 0===r&&e.error("externalTagId is not passed for tag -"+t),l=r):(a=Math.max.apply(null,C),a=a===-(1/0)?0:a,l=++a),n||v.trigger("tm:pushing",[t,l]),y.push(t),C.push(l),n||null!==b.AjaxPush&&null==b.AjaxPushAllTags&&e.inArray(t,b.prefilled)===-1&&e.post(b.AjaxPush,e.extend({tag:t},b.AjaxPushParameters)),u=v.data("tm_rndid")+"_"+l,d=v.data("tm_rndid")+"_Remover_"+l,h=e("<span/>").text(t).html(),f='<span class="'+i.tagClasses.call(v)+'" id="'+u+'">',f+="<span>"+h+"</span>",f+='<a href="#" class="tm-tag-remove" id="'+d+'" TagIdToRemove="'+l+'">',f+=b.tagCloseIcon+"</a></span> ",p=e(f);var S=void 0!==v.parents(".twitter-typeahead")[0];if(null!==b.tagsContainer)e(b.tagsContainer).append(p);else if(C.length>1)if(S){var m=v.data("tm_rndid")+"_"+--l;jQuery("#"+m).after(p)}else g=v.siblings("#"+v.data("tm_rndid")+"_"+C[C.length-2]),g.after(p);else S?v.parents(".twitter-typeahead").before(p):v.before(p);p.find("#"+d).on("click",v,function(t){t.preventDefault();var n=parseInt(e(this).attr("TagIdToRemove"));i.spliceTag.call(v,n,t.data)}),i.refreshHiddenTagList.call(v),n||v.trigger("tm:pushed",[t,l]),i.showOrHide.call(v)}v.val("")}}},popTag:function(){var t,n,r=e(this),s=r.data("tlis"),o=r.data("tlid");o.length>0&&(t=o.pop(),n=s[s.length-1],r.trigger("tm:popping",[n,t]),s.pop(),e("#"+r.data("tm_rndid")+"_"+t).remove(),i.refreshHiddenTagList.call(r),r.trigger("tm:popped",[n,t]))},empty:function(){for(var t,n=e(this),r=n.data("tlis"),s=n.data("tlid");s.length>0;)t=s.pop(),r.pop(),e("#"+n.data("tm_rndid")+"_"+t).remove(),i.refreshHiddenTagList.call(n);n.trigger("tm:emptied",null),i.showOrHide.call(n)},tags:function(){var e=this,t=e.data("tlis");return t}},i={showOrHide:function(){var e=this,t=e.data("opts"),n=e.data("tlis");t.maxTags>0&&n.length<t.maxTags&&(e.show(),e.trigger("tm:show")),t.maxTags>0&&n.length>=t.maxTags&&(e.hide(),e.trigger("tm:hide"))},tagClasses:function(){var t,n=e(this),i=n.data("opts"),r=i.tagBaseClass,s=i.inputBaseClass;return t=r,n.attr("class")&&e.each(n.attr("class").split(" "),function(e,n){n.indexOf(s+"-")!==-1&&(t+=" "+r+n.substring(s.length))}),t+=i.tagClass?" "+i.tagClass:""},trimTag:function(t,n){var i;for(t=e.trim(t),i=0;i<t.length&&e.inArray(t.charCodeAt(i),n)===-1;i++);return t.substring(0,i)},refreshHiddenTagList:function(){var t=e(this),n=t.data("tlis"),i=t.data("lhiddenTagList");i&&e(i).val(n.join(t.data("opts").baseDelimiter)).change(),t.trigger("tm:refresh",n.join(t.data("opts").baseDelimiter))},killEvent:function(e){e.cancelBubble=!0,e.returnValue=!1,e.stopPropagation(),e.preventDefault()},keyInArray:function(t,n){return e.inArray(t.which,n)!==-1},applyDelimiter:function(t){var i=e(this);n.pushTag.call(i,e(this).val()),t.preventDefault()},prefill:function(t){var i=e(this),r=i.data("opts");e.each(t,function(e,t){r.externalTagId===!0?n.pushTag.call(i,t[r.prefillValueFieldName],!0,t[r.prefillIdFieldName]):n.pushTag.call(i,t,!0)})},pushAllTags:function(t,n){var i=e(this),r=i.data("opts"),s=i.data("tlis");r.AjaxPushAllTags&&("tm:pushed"===t.type&&e.inArray(n,r.prefilled)!==-1||e.post(r.AjaxPush,e.extend({tags:s.join(r.baseDelimiter)},r.AjaxPushParameters)))},spliceTag:function(t){var n,r=this,s=r.data("tlis"),o=r.data("tlid"),a=e.inArray(t,o);-1!==a&&(n=s[a],r.trigger("tm:splicing",[n,t]),e("#"+r.data("tm_rndid")+"_"+t).remove(),s.splice(a,1),o.splice(a,1),i.refreshHiddenTagList.call(r),r.trigger("tm:spliced",[n,t])),i.showOrHide.call(r)},init:function(r){var s,o,a=e.extend({},t,r);return a.hiddenTagListName=null===a.hiddenTagListName?"hidden-"+this.attr("name"):a.hiddenTagListName,s=a.delimeters||a.delimiters,o=[9,13,17,18,19,37,38,39,40],a.delimiterChars=[],a.delimiterKeys=[],e.each(s,function(t,n){e.inArray(n,o)!==-1?a.delimiterKeys.push(n):a.delimiterChars.push(n)}),a.baseDelimiter=String.fromCharCode(a.delimiterChars[0]||44),a.tagBaseClass="tm-tag",a.inputBaseClass="tm-input",e.isFunction(a.validator)||(a.validator=null),this.each(function(){var t=e(this),r="",s="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";if(t.data("tagManager"))return!1;t.data("tagManager",!0);for(var l=0;l<5;l++)s+=o.charAt(Math.floor(Math.random()*o.length));if(t.data("tm_rndid",s),t.data("opts",a).data("tlis",[]).data("tlid",[]),null===a.output?(r=e("<input/>",{type:"hidden",name:a.hiddenTagListName}),t.after(r),t.data("lhiddenTagList",r)):t.data("lhiddenTagList",e(a.output)),a.AjaxPushAllTags&&(t.on("tm:spliced",i.pushAllTags),t.on("tm:popped",i.pushAllTags),t.on("tm:pushed",i.pushAllTags)),t.on("focus keypress",function(t){e(this).popover&&e(this).popover("hide")}),a.isClearInputOnEsc&&t.on("keyup",function(t){27===t.which&&(e(this).val(""),i.killEvent(t))}),t.on("keypress",function(e){i.keyInArray(e,a.delimiterChars)&&i.applyDelimiter.call(t,e)}),t.on("keydown",function(e){13===e.which&&a.preventSubmitOnEnter&&i.killEvent(e),i.keyInArray(e,a.delimiterKeys)&&i.applyDelimiter.call(t,e)}),a.deleteTagsOnBackspace&&t.on("keydown",function(r){i.keyInArray(r,a.backspace)&&e(this).val().length<=0&&(n.popTag.call(t),i.killEvent(r))}),a.fillInputOnTagRemove&&t.on("tm:popped",function(t,n){e(this).val(n)}),t.change(function(e){/webkit/.test(navigator.userAgent.toLowerCase())||t.focus(),i.killEvent(e)}),null!==a.prefilled)"object"==typeof a.prefilled?i.prefill.call(t,a.prefilled):"string"==typeof a.prefilled?i.prefill.call(t,a.prefilled.split(a.baseDelimiter)):"function"==typeof a.prefilled&&i.prefill.call(t,a.prefilled());else if(null!==a.output){if(e(a.output)&&e(a.output).val()){e(a.output)}i.prefill.call(t,e(a.output).val().split(a.baseDelimiter))}}),this}};e.fn.tagsManager=function(t){var r=e(this);return 0 in this?n[t]?n[t].apply(r,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?(e.error("Method "+t+" does not exist."),!1):i.init.apply(this,arguments):this}}(jQuery),function(e,t,n){var i={required:"The %s field is required.",matches:"The %s field does not match the %s field.","default":"The %s field is still set to default, please change.",valid_email:"The %s field must contain a valid email address.",valid_emails:"The %s field must contain all valid email addresses.",min_length:"The %s field must be at least %s characters in length.",max_length:"The %s field must not exceed %s characters in length.",exact_length:"The %s field must be exactly %s characters in length.",greater_than:"The %s field must contain a number greater than %s.",less_than:"The %s field must contain a number less than %s.",alpha:"The %s field must only contain alphabetical characters.",alpha_numeric:"The %s field must only contain alpha-numeric characters.",alpha_dash:"The %s field must only contain alpha-numeric characters, underscores, and dashes.",numeric:"The %s field must contain only numbers.",integer:"The %s field must contain an integer.",decimal:"The %s field must contain a decimal number.",is_natural:"The %s field must contain only positive numbers.",is_natural_no_zero:"The %s field must contain a number greater than zero.",valid_ip:"The %s field must contain a valid IP.",valid_base64:"The %s field must contain a base64 string.",valid_credit_card:"The %s field must contain a valid credit card number.",is_file_type:"The %s field must contain only %s files.",valid_url:"The %s field must contain a valid URL."},r=function(e){},s=/^(.+?)\[(.+)\]$/,o=/^[0-9]+$/,a=/^\-?[0-9]+$/,l=/^\-?[0-9]*\.?[0-9]+$/,c=/^[a-zA-Z0-9.!#$%&amp;'*+\-\/=?\^_`{|}~\-]+@[a-zA-Z0-9\-]+(?:\.[a-zA-Z0-9\-]+)*$/,u=/^[a-z]+$/i,d=/^[a-z0-9]+$/i,h=/^[a-z0-9_\-]+$/i,f=/^[0-9]+$/i,p=/^[1-9][0-9]*$/i,m=/^((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})$/i,g=/[^a-zA-Z0-9\/\+=]/i,v=/^[\d\-\s]+$/,b=/^((http|https):\/\/(\w+:{0,1}\w*@)?(\S+)|)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,y=function(e,t,i){for(this.callback=i||r,this.errors=[],this.fields={},this.form=this._formByNameOrNode(e)||{},this.messages={},this.handlers={},e=0,i=t.length;e<i;e++){var s=t[e];if((s.name||s.names)&&s.rules)if(s.names)for(var o=0;o<s.names.length;o++)this._addField(s,s.names[o]);else this._addField(s,s.name)}var a=this.form.onsubmit;this.form.onsubmit=function(e){return function(t){try{return e._validateForm(t)&&(a===n||a())}catch(i){}}}(this)},C=function(e,t){var n;if(!(0<e.length)||"radio"!==e[0].type&&"checkbox"!==e[0].type)return e[t];for(n=0;n<e.length;n++)if(e[n].checked)return e[n][t]};y.prototype.setMessage=function(e,t){return this.messages[e]=t,this},y.prototype.registerCallback=function(e,t){return e&&"string"==typeof e&&t&&"function"==typeof t&&(this.handlers[e]=t),this},y.prototype._formByNameOrNode=function(e){return"object"==typeof e?e:t.forms[e]},y.prototype._addField=function(e,t){this.fields[t]={name:t,display:e.display||t,rules:e.rules,id:null,type:null,value:null,checked:null}},y.prototype._validateForm=function(e){this.errors=[];for(var t in this.fields)if(this.fields.hasOwnProperty(t)){var i=this.fields[t]||{},r=this.form[i.name];r&&r!==n&&(i.id=C(r,"id"),i.type=0<r.length?r[0].type:r.type,i.value=C(r,"value"),i.checked=C(r,"checked"),this._validateField(i))}return"function"==typeof this.callback&&this.callback(this.errors,e),0<this.errors.length&&(e&&e.preventDefault?e.preventDefault():event&&(event.returnValue=!1)),!0},y.prototype._validateField=function(e){for(var t=e.rules.split("|"),r=e.rules.indexOf("required"),o=!e.value||""===e.value||e.value===n,a=0,l=t.length;a<l;a++){var c=t[a],u=null,d=!1,h=s.exec(c);if((-1!==r||-1!==c.indexOf("!callback_")||!o)&&(h&&(c=h[1],u=h[2]),"!"===c.charAt(0)&&(c=c.substring(1,c.length)),"function"==typeof this._hooks[c]?this._hooks[c].apply(this,[e,u])||(d=!0):"callback_"===c.substring(0,9)&&(c=c.substring(9,c.length),"function"==typeof this.handlers[c]&&!1===this.handlers[c].apply(this,[e.value,u])&&(d=!0)),d)){t=this.messages[c]||i[c],r="An error has occurred with the "+e.display+" field.",t&&(r=t.replace("%s",e.display),u&&(r=r.replace("%s",this.fields[u]?this.fields[u].display:u))),this.errors.push({id:e.id,name:e.name,message:r,rule:c});break}}},y.prototype._hooks={required:function(e){var t=e.value;return"checkbox"===e.type||"radio"===e.type?!0===e.checked:null!==t&&""!==t},"default":function(e,t){return e.value!==t},matches:function(e,t){var n=this.form[t];return!!n&&e.value===n.value},valid_email:function(e){return c.test(e.value)},valid_emails:function(e){e=e.value.split(",");for(var t=0;t<e.length;t++)if(!c.test(e[t]))return!1;return!0},min_length:function(e,t){return!!o.test(t)&&e.value.length>=parseInt(t,10)},max_length:function(e,t){return!!o.test(t)&&e.value.length<=parseInt(t,10)},exact_length:function(e,t){return!!o.test(t)&&e.value.length===parseInt(t,10)},greater_than:function(e,t){return!!l.test(e.value)&&parseFloat(e.value)>parseFloat(t)},less_than:function(e,t){return!!l.test(e.value)&&parseFloat(e.value)<parseFloat(t)},alpha:function(e){return u.test(e.value)},alpha_numeric:function(e){return d.test(e.value)},alpha_dash:function(e){return h.test(e.value)},numeric:function(e){return o.test(e.value)},integer:function(e){return a.test(e.value)},decimal:function(e){return l.test(e.value)},is_natural:function(e){return f.test(e.value)},is_natural_no_zero:function(e){return p.test(e.value)},valid_ip:function(e){return m.test(e.value)},valid_base64:function(e){return g.test(e.value)},valid_url:function(e){return b.test(e.value)},valid_credit_card:function(e){if(!v.test(e.value))return!1;var t=0,n=0,i=!1;e=e.value.replace(/\D/g,"");for(var r=e.length-1;0<=r;r--)n=e.charAt(r),n=parseInt(n,10),i&&9<(n*=2)&&(n-=9),t+=n,i=!i;return 0===t%10},is_file_type:function(e,t){if("file"!==e.type)return!0;var n=e.value.substr(e.value.lastIndexOf(".")+1),i=t.split(","),r=!1,s=0,o=i.length;for(s;s<o;s++)n==i[s]&&(r=!0);return r}},e.FormValidator=y}(window,document);